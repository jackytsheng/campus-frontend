(this["webpackJsonpschool-management-system-app"]=this["webpackJsonpschool-management-system-app"]||[]).push([[0],{108:function(e,t,a){e.exports={wrapper:"App_wrapper__RCHjb"}},111:function(e,t,a){e.exports={particle:"Particle_particle__2pjEa"}},112:function(e,t,a){e.exports={wrapper:"NavHeader_wrapper__2zswT",title:"NavHeader_title__1fKA9"}},113:function(e,t,a){e.exports={wrapper:"Canvas_wrapper__3v9c6"}},114:function(e,t,a){e.exports={links:"RenderLink_links__1YorG"}},116:function(e,t,a){e.exports={filler:"CourseMarket_filler__3EV-I",pagination:"CourseMarket_pagination__3gtt7",number:"CourseMarket_number__3AdAA",clickable:"CourseMarket_clickable__7yHZ5"}},117:function(e,t,a){e.exports={title:"CanvasTitleWrap_title__1QHMT"}},118:function(e,t,a){e.exports={wrapper:"NothingDisplay_wrapper__8EnKB"}},119:function(e,t,a){e.exports={filler:"StudentEnrollment_filler__30BPT",pagination:"StudentEnrollment_pagination__1se6j",number:"StudentEnrollment_number__1TkOd",clickable:"StudentEnrollment_clickable__11pgu"}},120:function(e,t,a){e.exports={wrapper:"Content_wrapper__3fgP7"}},121:function(e,t,a){e.exports={loading:"Loading_loading__1QuCL"}},122:function(e,t,a){e.exports={wrapper:"NoContent_wrapper__3rWzh"}},123:function(e,t,a){e.exports=a(296)},128:function(e,t,a){},13:function(e,t,a){e.exports={wrapper:"SelectAvatar_wrapper__1g02W",row:"SelectAvatar_row__qBTZz",selectionRow:"SelectAvatar_selectionRow__2fCbZ",display:"SelectAvatar_display__Z5-DZ",name:"SelectAvatar_name__11BEJ",brown:"SelectAvatar_brown__3DjM7",green:"SelectAvatar_green__tcO_z",red:"SelectAvatar_red__1oOny",grey:"SelectAvatar_grey__3K_jB",blue:"SelectAvatar_blue__3p-J4",dark:"SelectAvatar_dark__2ABAY",light:"SelectAvatar_light__3u71Y"}},18:function(e,t,a){e.exports={wrapper:"Button_wrapper__Sjioc",btn:"Button_btn__1Lkv5",themeBtn:"Button_themeBtn__3JGb1",deleteBtn:"Button_deleteBtn__1Tfwl",createBtn:"Button_createBtn__2_yUL",updateBtn:"Button_updateBtn__2RYJn",searchBtn:"Button_searchBtn__1h4SN",searchInput:"Button_searchInput__2ExaE"}},22:function(e,t,a){e.exports={wrapper:"Login_wrapper__2h9Wm",modal:"Login_modal__1_50X",greeting:"Login_greeting__gOmpc",title:"Login_title__1lY0k",form:"Login_form__1tdal",loaderContainer:"Login_loaderContainer__3DrJd",control:"Login_control__2kp5c",failLogin:"Login_failLogin__3j6l6",forget:"Login_forget__2evrf",button:"Login_button__3o8rl",loader:"Login_loader__26WFR",spin:"Login_spin__1Uc4U"}},24:function(e,t,a){e.exports={horizontalRow:"FormLayout_horizontalRow__uHbwq",item:"FormLayout_item__UHewD",searchRow:"FormLayout_searchRow__3tzcZ",searchBtn:"FormLayout_searchBtn__1MWq_",form:"FormLayout_form__2aZkI",title:"FormLayout_title__3GexF",searchSmall:"FormLayout_searchSmall__h4xxl",error:"FormLayout_error__UmVgL",successful:"FormLayout_successful__ejCb9",inactiveBlock:"FormLayout_inactiveBlock__3cVDl",btn:"FormLayout_btn__9ofca"}},26:function(e,t,a){e.exports={circle:"Loader_circle__3_imu",upload:"Loader_upload__2ST8r",circleDot:"Loader_circleDot__1wB3-",update:"Loader_update__2M1fZ",white:"Loader_white__25y7g"}},29:function(e,t,a){e.exports={wrapper:"UploadBtn_wrapper__3u_sm",btn:"UploadBtn_btn__3J20X",themeBtn:"UploadBtn_themeBtn__2wAYh",deleteBtn:"UploadBtn_deleteBtn__2Dxjj",createBtn:"UploadBtn_createBtn__3omT2",updateBtn:"UploadBtn_updateBtn__13uoL",searchBtn:"UploadBtn_searchBtn__37kyI",searchInput:"UploadBtn_searchInput__2Dmij",uploadBtn:"UploadBtn_uploadBtn__1qeR4",uploadInput:"UploadBtn_uploadInput___Q0IC",uploadLabel:"UploadBtn_uploadLabel__9Q4HF",uploadContainer:"UploadBtn_uploadContainer__xgzWD",floatWarning:"UploadBtn_floatWarning__1K-wt",warningText:"UploadBtn_warningText__2p70Z",successText:"UploadBtn_successText__1GPsW",confirmBtn:"UploadBtn_confirmBtn__3rMIP"}},293:function(e,t,a){e.exports=a.p+"static/media/logo-light.24e2fc50.png"},296:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(56),l=a.n(s),c=(a(128),a(108)),i=a.n(c),o=a(50),u=a(19),h=a(38),m=a(3),d=a.n(m),p=a(8),g=a(21),f=a(4),v=a(5),E=a(6),b=a(7),_=a(22),y=a.n(_),C=a(10),k=a(46),S=a.n(k),N="http://ec2-3-25-128-75.ap-southeast-2.compute.amazonaws.com:8080",O=S.a.create({baseURL:N}),w=O,j=function(e,t){return S.a.post(N+"/authenticate",{username:e,password:t})},A=function(){var e=["Good Morning!","Good Afternoon!","Good Evening!"],t=Date().split(" ")[4].slice(0,2),a=Date().split(" ")[0],n=Date().split(" ")[1],s=Date().split(" ")[2];return r.a.createElement("div",{"data-testid":"greeting",className:y.a.greeting},r.a.createElement("h3",{className:y.a.date},"".concat(a.toUpperCase())),r.a.createElement("h3",{className:y.a.date},"".concat(s,", ").concat(n.toUpperCase())),r.a.createElement("h1",{className:y.a.title},t>4&&t<12?e[0]:t>12&&t<18?e[1]:e[2]," "),r.a.createElement("p",null,"A management system which only makes room for things that matter."))},D=a(26),L=a.n(D),I=function(e){var t=e.color;return r.a.createElement("div",{"data-testid":"loader",className:"".concat(L.a.circle," ").concat(L.a[t])},r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}),r.a.createElement("div",{className:L.a.circleDot}))},P=a(110),x=a.n(P),T=a(111),B=a.n(T),M={detectRetina:!0,fpsLimit:30,interactivity:{detectsOn:"canvas",events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"bubble",parallax:{enable:!0,force:60,smooth:10}},resize:!0},modes:{push:{quantity:4},bubble:{distance:150,duration:2,opacity:1,size:10}}},particles:{color:{value:"#84a9ac"},links:{color:"#84a9ac",distance:100,enable:!0,opacity:.5,width:1},move:{attract:{enable:!1,rotate:{x:600,y:1200}},enable:!0,outMode:"out"},number:{density:{enable:!0,area:400},limit:50,value:10},opacity:{random:{enable:!0,minimumValue:.3},value:.7},shape:{type:"circle"},size:{random:{enable:!0,minimumValue:1},value:4},stroke:{color:{value:"#2E3D66"},width:0,opacity:1}},pauseOnBlur:!0},R=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1,failLogin:!1,InactiveUser:!1,username:"",password:""},n}return Object(v.a)(a,[{key:"handleValueChange",value:function(e){var t=this;return this.setState({failLogin:!1,InactiveUser:!1}),function(a){var n=a.target.value;t.setState(Object(g.a)({},e,n))}}},{key:"loginToSever",value:function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,j(t,a).then((function(e){n.props.storeAuthToState(e.data),n.setState({loading:!1},(function(){return n.props.history.push("/")}))})).catch((function(e){switch(e.response.status){case 401:n.setState({failLogin:!0,loading:!1}),console.log(e.response);break;case 403:n.setState({InactiveUser:!0,loading:!1}),console.log(e.response);break;default:n.setState({loading:!1}),console.log(e.response)}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:y.a.wrapper},r.a.createElement(x.a,{className:B.a.particle,params:Object(h.a)({},M)}),r.a.createElement("div",{className:y.a.modal},r.a.createElement(A,null),r.a.createElement("form",{className:y.a.form,onSubmit:function(t){t.preventDefault(),e.loginToSever(e.state.username,e.state.password)}},this.state.loading?r.a.createElement("div",{className:y.a.loaderContainer},r.a.createElement(I,null)):null,r.a.createElement("div",{className:y.a.control},r.a.createElement("label",null,"User ID"),r.a.createElement("input",{className:this.state.failLogin||this.state.InactiveUser?y.a.failLogin:null,type:"text",placeholder:"Enter User ID",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("username")(t)}})),r.a.createElement("div",{className:y.a.control},r.a.createElement("label",{className:y.a.label},"Password"),r.a.createElement("input",{className:this.state.failLogin?y.a.failLogin:null,type:"password",placeholder:"Enter Password",maxLength:30,autoComplete:"on",onChange:function(t){return e.handleValueChange("password")(t)},required:!0})),this.state.failLogin?r.a.createElement("small",null," Incorrect username or password. "):null,this.state.InactiveUser?r.a.createElement("small",null," Inactive user. Please contact admin. "):null,r.a.createElement("button",{className:y.a.button,type:"submit"},"Log in"),r.a.createElement("div",{className:y.a.forget}," Forget password ?"))))}}]),a}(r.a.Component),U=Object(C.b)(null,(function(e){return{storeAuthToState:function(t){return e(function(e){return{payload:e,type:"STORE_AUTH_TO_STATE"}}(t))}}}))(R),F=Object(u.g)(U),H=a(16),W=Object(C.b)((function(e){return{authenticated:!!e.Authentication.jwt}}),null)((function(e){var t=e.children,a=e.authenticated,n=Object(H.a)(e,["children","authenticated"]);return r.a.createElement(u.b,Object.assign({},n,{render:function(){return a?t:(console.log("I am redirecting"),r.a.createElement(u.a,{to:"/login"}))}}))})),V=W,q=a(82),z=a(34),G=a.n(z),Z=a(112),Y=a.n(Z),K=a(73),J=a.n(K),$=function(){return r.a.createElement("div",{className:J.a.wrapper},r.a.createElement("img",{"data-testid":"logo",className:J.a.logo,src:a(293),alt:""}))},X=function(){return r.a.createElement("div",{className:Y.a.wrapper},r.a.createElement($,null))},Q=a(9),ee=a(40),te=a.n(ee),ae=a(41),ne=a.n(ae),re=a(23),se=function(e){var t=e.title,a=e.icon,n=e.collapse,s=e.onClick,l=e.active,c=e.NavId;return r.a.createElement("div",{className:"".concat(ne.a.wrapper," ").concat(l?ne.a.active:ne.a.inActive),onClick:function(e){e.preventDefault(),s(c)}},r.a.createElement("div",{className:ne.a.icon},r.a.createElement(re.a,{icon:a})),r.a.createElement("div",{className:n?ne.a.hide:ne.a.title},r.a.createElement("h3",null,t)))},le=a(14),ce={Dashboard:le.f,Enrollment:le.a,Assignment:le.n,Payment:le.g,CourseMarket:le.m,UserInfo:le.o,Help:le.k,Setting:le.e,Users:le.c,MarkSystem:le.d,TeachingCourse:le.b,Courses:le.i,Classroom:le.h},ie=[{icon:ce.Dashboard,title:"Dashboard",NavId:"Dashboard"},{icon:ce.Enrollment,title:"My Course",NavId:"Enrollment"},{icon:ce.Assignment,title:"Assignment",NavId:"Assignment"},{icon:ce.CourseMarket,title:"Course market",NavId:"CourseMarket"},{icon:ce.Payment,title:"Payment",NavId:"Payment"},{icon:ce.UserInfo,title:"Profile",NavId:"UserInfo"},{filler:!0},{icon:ce.Help,title:"Help",NavId:"Help"},{icon:ce.Setting,title:"Setting",NavId:"Setting"}],oe=[{icon:ce.Dashboard,title:"Dashboard",NavId:"Dashboard"},{icon:ce.TeachingCourse,title:"Teaching",NavId:"TeachingCourse"},{icon:ce.MarkSystem,title:"Marking",NavId:"MarkSystem"},{icon:ce.CourseMarket,title:"Course market",NavId:"CourseMarket"},{icon:ce.UserInfo,title:"Profile",NavId:"UserInfo"},{filler:!0},{icon:ce.Help,title:"Help",NavId:"Help"},{icon:ce.Setting,title:"Setting",NavId:"Setting"}],ue=[{icon:ce.Dashboard,title:"Dashboard",NavId:"Dashboard"},{icon:ce.Users,title:"User management",NavId:"Users"},{icon:ce.Courses,title:"Course management",NavId:"CourseManagement"},{icon:ce.CourseMarket,title:"Course market",NavId:"CourseMarket"},{icon:ce.Classroom,title:"Classroom",NavId:"Classroom"},{filler:!0},{icon:ce.Help,title:"Help",NavId:"Help"},{icon:ce.Setting,title:"Setting",NavId:"Setting"}],he=a(113),me=a.n(he),de=a(114),pe=a.n(de),ge="ADD_HEADER_HISTORY",fe=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{headingTitle:e,toPageID:t,courseID:n,id:a,type:ge}},ve=function(e){return e.split(" ").map((function(e){return e?e[0].toUpperCase()+e.slice(1,e.length).toLowerCase():""})).join(" ")},Ee=Object(C.b)(null,(function(e){return{onClick:function(t,a,n){e(fe(t,a,n))}}}))((function(e){var t=e.RenderArray,a=e.onClick,n=e.toPageID,s=e.titleSuffix;return t.map((function(e){return r.a.createElement("div",{"data-testid":"link",onClick:function(t){t.preventDefault();var r=s||"";a(ve((e.name+" "+r).trim()),n,e.id)},className:pe.a.links,key:"id"+Math.random()},ve(e.name))}))})),be=Ee,_e=a(39),ye={title:"Dashboard",content:{pageID:"Dashboard"}},Ce=function(e,t){return{title:e,content:t}},ke=function(e,t,a){switch(e){case"Dashboard":return{pageID:"Dashboard"};case"MarkingAssignment":return{pageID:"MarkingAssignment",id:t,secondID:a};case"Assignment":return{pageID:"Assignment",id:t,secondID:a};case"Enrollment":return{pageID:"Enrollment"};case"UserInfo":return{pageID:"UserInfo",id:t,secondID:a};case"Users":return{pageID:"Users"};case"CourseManagement":return{pageID:"CourseManagement"};case"Help":return{pageID:"Help"};case"Setting":return{pageID:"Setting"};case"SubjectCourse":return{pageID:"SubjectCourse",id:t};case"TeacherCourseAssignment":return{pageID:"TeacherCourseAssignment",id:t};case"TeacherMarkingSystem":return{pageID:"TeacherMarkingSystem",id:t};case"StudentAssignment":return{pageID:"StudentAssignment"};case"Payment":return{pageID:"Payment"};case"Classroom":return{pageID:"Classroom"};case"CourseDetail":return{pageID:"CourseDetail",id:t};case"StudentCourse":return{pageID:"StudentCourse",id:t};default:return{pageID:"TO_BE_IMPLEMENT"}}},Se=localStorage.getItem("jwt"),Ne=localStorage.getItem("role"),Oe=localStorage.getItem("userID"),we={jwt:Se,role:Ne,uuid:Oe},je={name:"",avatar:""},Ae=a(115),De=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_e.d,Le=Object(_e.c)({headerHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:var a=ke(t.toPageID,t.id,t.courseID),n=Ce(t.headingTitle,a);return console.log(n),n;default:return e}},Authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_AUTH_TO_STATE":return localStorage.setItem("jwt",t.payload.jwt),localStorage.setItem("userID",t.payload.uuid),localStorage.setItem("role",t.payload.role),t.payload;case"LOG_OUT":return localStorage.clear(),{jwt:null,role:null,uuid:null};default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_INFO":return{name:t.name,avatar:e.avatar};case"ADD_USER_AVATAR":return{name:e.name,avatar:t.avatar};default:return e}}}),Ie=Object(_e.e)(Le,De(Object(_e.a)(Ae.a))),Pe=function(){Ie.dispatch({type:"LOG_OUT"})},xe=function(e){var t=Ie.getState().Authentication.jwt;return e.headers.authorization="Bearer ".concat(t),e},Te=function(e){return e.interceptors.request.use(xe),e.interceptors.response.use((function(e){return e}),Be),e},Be=function(e){switch(e.response.status){case 401:return console.log("Logging out due to 401"),Pe(),Promise.reject(e);case 403:return console.log("Logging out due to 403"),Pe(),Promise.reject(e);default:return Promise.reject(e)}},Me=a(116),Re=a.n(Me),Ue=a(117),Fe=a.n(Ue),He=function(e){var t=e.children,a=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Fe.a.title},a),t)},We=a(47),Ve=function(e,t){for(var a=Object(We.a)(e),n=[];a.length>0;)n.push(a.splice(0,t));return n},qe=a(75),ze=a.n(qe),Ge=function(e){var t=e.children,a=e.background;return r.a.createElement("div",{className:"".concat(ze.a.container," ").concat(a?ze.a.background:null)},t)},Ze=a(53),Ye=a.n(Ze),Ke=function(e){var t=e.currentPage,a=e.handlePageChange,n=e.totalPage;return r.a.createElement("div",{className:Ye.a.pagination},1===t?r.a.createElement("div",null):r.a.createElement("div",{"data-testid":"prev",className:Ye.a.clickable,onClick:function(){return a(t-1)}},"<"),r.a.createElement("div",{className:Ye.a.number},t," / ",n),t===n?r.a.createElement("div",null):r.a.createElement("div",{"data-testid":"next",className:Ye.a.clickable,onClick:function(){return a(t+1)}},">"))},Je=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={subjectList:[],loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"getSubjectList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(w).get("/subjects").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.subjectList,this.setState({page:1,subjectList:a,loading:!1,paginationArray:Ve(a,7)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"componentDidMount",value:function(){this.getSubjectList()}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"render",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(Ge,null,r.a.createElement(I,{color:"white"})):r.a.createElement(He,{title:"Subjects"},r.a.createElement(be,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"SubjectCourse"}),r.a.createElement("div",{className:Re.a.filler}),r.a.createElement(Ke,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})))}}]),a}(r.a.Component),$e=Je,Xe={params:{detail:"courses"}},Qe=function(){var e=Te(w),t=Ie.getState().Authentication.uuid;return e.get("".concat("/teachers","/").concat(t),Xe).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},et=a(118),tt=a.n(et),at=function(e){var t=e.name;return r.a.createElement("div",{className:tt.a.wrapper},"You have no ",t,".")},nt=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={teachingList:[],loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"getTeachingList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:t=e.sent,a=t.hasOwnProperty("courseList")?t.courseList:[],this.setState({page:1,teachingList:a,loading:!1,paginationArray:Ve(a,5)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTeachingList()}},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"renderList",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return 0!==this.state.teachingList.length?r.a.createElement(He,{title:"Your Teaching"},r.a.createElement(be,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"TeacherCourseAssignment"}),r.a.createElement(Ke,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})):r.a.createElement(at,{name:"Teaching Courses"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(Ge,null,r.a.createElement(I,{color:"white"})):this.renderList())}}]),a}(r.a.Component),rt=nt,st=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={teachingList:null,loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"getTeachingList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:t=e.sent,a=t.hasOwnProperty("courseList")?t.courseList:[],this.setState({page:1,teachingList:a,loading:!1,paginationArray:Ve(a,6)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTeachingList()}},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"renderList",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return 0!==this.state.teachingList.length?r.a.createElement(He,{title:"Marking"},r.a.createElement(be,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"TeacherMarkingSystem"}),r.a.createElement(Ke,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})):r.a.createElement(at,{name:"Teaching Courses"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(Ge,null,r.a.createElement(I,{color:"white"})):this.renderList())}}]),a}(r.a.Component),lt=st,ct={params:{detail:"courses"}},it=function(){var e=Ie.getState().Authentication.uuid;return Te(w).get("".concat("/students/").concat(e),ct).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},ot=a(119),ut=a.n(ot),ht=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={courseList:[],loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"getCourseList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it();case 2:t=e.sent,a=t.courseList,this.setState({page:1,courseList:a,loading:!1,paginationArray:Ve(a,4)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"componentDidMount",value:function(){this.getCourseList()}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"renderList",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return 0!==this.state.courseList.length?r.a.createElement(He,{title:"Enrollment"},r.a.createElement(be,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"StudentCourse",titleSuffix:"Files"}),r.a.createElement("div",{className:ut.a.filler}),r.a.createElement(Ke,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})):r.a.createElement(at,{name:"Enrol Courses"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(Ge,null,r.a.createElement(I,{color:"white"})):this.renderList())}}]),a}(r.a.Component),mt=ht,dt=function(e){var t=e.current;return r.a.createElement("div",{className:me.a.wrapper},function(e){switch(e){case"TeachingCourse":return r.a.createElement(rt,null);case"CourseMarket":return r.a.createElement($e,null);case"Enrollment":return r.a.createElement(mt,null);case"MarkSystem":return r.a.createElement(lt,null);default:return null}}(t))},pt=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).clickToDisplayCanvas=function(e){e===n.state.current?n.toggleCanvas():e!==n.state.current&&(n.setCanvasStatus(!1),n.setCanvasStatus(!0))},n.state={canvasOn:!1,current:"Dashboard"},n.handleClick=n.handleClick.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"readConfig",value:function(e){var t=this;return e.map((function(e){return e.filler?r.a.createElement("div",{key:"Filler",className:te.a.filler}):r.a.createElement(se,{active:t.state.current===e.NavId,collapse:t.state.canvasOn,key:"NavItem_id"+Math.random(),icon:e.icon,title:e.title,NavId:e.NavId,onClick:t.handleClick})}))}},{key:"componentDidMount",value:function(){this.changeActive("Dashboard")}},{key:"renderNavItem",value:function(){switch(this.props.role){case"student":return this.readConfig(ie);case"teacher":return this.readConfig(oe);case"admin":return this.readConfig(ue);default:return null}}},{key:"changeActive",value:function(e){this.setState({current:e})}},{key:"setCanvasStatus",value:function(e){this.setState({canvasOn:e})}},{key:"toggleCanvas",value:function(){this.setState({canvasOn:!this.state.canvasOn})}},{key:"handleClick",value:function(e){switch(e){case"Dashboard":this.changeActive(e),this.setCanvasStatus(!1),this.props.addHeader("Dashboard","Dashboard");break;case"Users":this.changeActive(e),this.props.addHeader("User management","Users"),this.setCanvasStatus(!1);break;case"CourseManagement":this.changeActive(e),this.props.addHeader("Course management","CourseManagement"),this.setCanvasStatus(!1);break;case"Assignment":this.changeActive(e),this.props.addHeader("Assignment","StudentAssignment"),this.setCanvasStatus(!1);break;case"UserInfo":this.changeActive(e),this.props.addHeader("Profile","UserInfo"),this.setCanvasStatus(!1);break;case"Help":this.changeActive(e),this.props.addHeader("Help","Help"),this.setCanvasStatus(!1);break;case"Setting":this.changeActive(e),this.props.addHeader("Setting","Setting"),this.setCanvasStatus(!1);break;case"Payment":this.changeActive(e),this.props.addHeader("Payment","Payment"),this.setCanvasStatus(!1);break;case"Classroom":this.changeActive(e),this.props.addHeader("Classroom","Classroom"),this.setCanvasStatus(!1);break;default:this.changeActive(e),this.clickToDisplayCanvas(e)}}},{key:"render",value:function(){return r.a.createElement("div",{className:te.a.wrapper},r.a.createElement("div",{className:"".concat(te.a.sideWrapper," + ").concat(this.state.canvasOn?null:te.a.sideWrapperNotCollapse)},this.renderNavItem()),r.a.createElement("div",{className:this.state.canvasOn?te.a.canvasActive:te.a.canvas},this.state.canvasOn?r.a.createElement(dt,{current:this.state.current}):null))}}]),a}(r.a.Component),gt=Object(C.b)((function(e){return{role:e.Authentication.role.toLowerCase()}}),(function(e){return{addHeader:function(t,a){return e(fe(t,a))}}}))(pt),ft=gt,vt=a(36),Et=a.n(vt),bt=a(76),_t=a.n(bt),yt=a(13),Ct=a.n(yt),kt=function(e){var t=Te(w);Ie.dispatch(function(e){return{avatar:e,type:"ADD_USER_AVATAR"}}(e));var a=Ie.getState(),n=a.Authentication.role.toLowerCase(),r=a.Authentication.uuid;switch(n){case"student":return t.put("/students"+"/".concat(r),{avatar:e}).then((function(){return console.log(e)})).catch(console.log);case"teacher":return t.put("/teachers"+"/".concat(r),{avatar:e,title:"null"}).then((function(){return console.log(e)})).catch(console.log);default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},St=function(e){var t=e.icon,a=e.onClick,n=e.color,s=e.background,l=function(e){a(e,n,s),kt(e+" "+n+" "+s)},c=function(e){a(t,e,s),kt(t+" "+e+" "+s)},i=function(e){a(t,n,e),kt(t+" "+n+" "+e)};return r.a.createElement("div",{className:Ct.a.wrapper},r.a.createElement("div",{className:Ct.a.row},r.a.createElement("p",{className:Ct.a.name},"Avatar "),r.a.createElement("div",{className:Ct.a.selectionRow},r.a.createElement("div",{className:Ct.a.display,onClick:function(){return l("faUserTie")}},r.a.createElement(re.a,{icon:le.r})),r.a.createElement("div",{className:Ct.a.display,onClick:function(){return l("faUserGraduate")}},r.a.createElement(re.a,{icon:le.p})),r.a.createElement("div",{className:Ct.a.display,onClick:function(){return l("faUserSecret")}},r.a.createElement(re.a,{icon:le.q})))),r.a.createElement("div",{className:Ct.a.row},r.a.createElement("p",{className:Ct.a.name},"Color "),r.a.createElement("div",{className:Ct.a.selectionRow},r.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.blue),onClick:function(){return c("blue")}},r.a.createElement(re.a,{icon:le.o})),r.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.green),onClick:function(){return c("green")}},r.a.createElement(re.a,{icon:le.o})),r.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.brown),onClick:function(){return c("brown")}},r.a.createElement(re.a,{icon:le.o})),r.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.red),onClick:function(){return c("red")}},r.a.createElement(re.a,{icon:le.o})),r.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.grey),onClick:function(){return c("grey")}},r.a.createElement(re.a,{icon:le.o})))),r.a.createElement("div",{className:Ct.a.row},r.a.createElement("p",{className:Ct.a.name},"Background"),r.a.createElement("div",{className:Ct.a.selectionRow},r.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.dark),onClick:function(){return i("dark")}}),r.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.light),onClick:function(){return i("light")}}))))},Nt={},Ot=function(e,t){var a=Te(w);switch(e){case"student":return a.get("/students"+"/".concat(t),Nt).then((function(e){return e.data.studentInfo})).catch((function(e){return console.log(e)}));case"teacher":return a.get("/teachers"+"/".concat(t),Nt).then((function(e){return e.data.teacherInfo})).catch((function(e){return console.log(e)}));default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},wt={faUserTie:le.r,faUserGraduate:le.p,faUserSecret:le.q},jt=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={selectionPanelShow:!1,icon:"faUserTie",color:"green",background:"light"},n.toggleSelectionPanel=n.toggleSelectionPanel.bind(Object(Q.a)(n)),n.changeAvatar=n.changeAvatar.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"toggleSelectionPanel",value:function(){this.setState({selectionPanelShow:!this.state.selectionPanelShow})}},{key:"changeAvatar",value:function(e,t,a){this.setState({selectionPanelShow:!1,icon:e,color:t,background:a})}},{key:"getAvatar",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.userRole,n=t.userID,e.next=3,Ot(a,n);case 3:r=e.sent,s=r.avatar,0!==(l=s?s.split(" "):[]).length&&this.setState({icon:l[0],color:l[1],background:l[2]});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getAvatar()}},{key:"render",value:function(){return r.a.createElement("div",{className:"".concat(_t.a.wrapper," ").concat(Ct.a[this.state.background])},r.a.createElement("div",{"data-testid":"avatar",className:"".concat(_t.a.avatar," ").concat(Ct.a[this.state.color]),onClick:this.toggleSelectionPanel},r.a.createElement(re.a,{icon:wt[this.state.icon]})),this.state.selectionPanelShow?r.a.createElement(St,{onClick:this.changeAvatar,icon:this.state.icon,color:this.state.color,background:this.state.background}):null)}}]),a}(r.a.Component),At=jt,Dt=function(){return r.a.createElement("div",{className:Et.a.loading},r.a.createElement("div",null,"Loading..."))},Lt=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!0,name:null},n}return Object(v.a)(a,[{key:"getUserName",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(this.props.userRole,this.props.userID);case 2:t=e.sent,a=t.name,this.setState({loading:!1,name:a},(function(){return n.props.addNameToRedux(a)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getUserName()}},{key:"render",value:function(){return r.a.createElement("div",{className:Et.a.nameWrapper},this.state.loading?r.a.createElement(Dt,null):r.a.createElement("div",{className:Et.a.name},this.state.name?this.state.name:ve(this.props.userRole)))}}]),a}(r.a.Component),It=function(e){var t=e.userRole;return r.a.createElement("h3",null," ",ve(t)+" Version")},Pt=Object(C.b)((function(e){return{userRole:e.Authentication.role.toLowerCase(),userID:e.Authentication.uuid}}),(function(e){return{addName:function(t){return e(function(e){return{name:e,type:"ADD_USER_INFO"}}(t))}}}))((function(e){var t=e.userRole,a=e.userID,n=e.addName,s=e.noAvatar;return r.a.createElement("div",{className:Et.a.wrapper},r.a.createElement("div",{className:Et.a.header},r.a.createElement(X,null)),s?null:r.a.createElement(At,{userRole:t,userID:a}),r.a.createElement(Lt,{userRole:t,userID:a,addNameToRedux:n}),r.a.createElement("div",{className:Et.a.sideBar},r.a.createElement(ft,null)),r.a.createElement("div",{className:Et.a.footer},r.a.createElement(It,{userRole:t})))})),xt=Pt,Tt=a(37),Bt=a.n(Tt),Mt=a(77),Rt=a.n(Mt),Ut=a(18),Ft=a.n(Ut),Ht=a(59),Wt=a.n(Ht),Vt=function(e,t){var a,n=Ie.getState(),r=n.Authentication.uuid;switch(n.Authentication.role){case"TEACHER":a="teachers/";break;case"STUDENT":a="students/"}return Te(w).put("".concat(a).concat(r).concat("/password"),{currentPassword:e,newPassword:t})},qt=a(24),zt=a.n(qt),Gt=function(e){var t=e.children;return r.a.createElement("div",{className:zt.a.title},t)},Zt=function(e){var t=e.children;return r.a.createElement("div",{className:zt.a.item},t)},Yt=function(e){return r.a.createElement("button",Object.assign({"data-testid":"searchBtn"},e,{className:zt.a.searchBtn}),r.a.createElement(re.a,{icon:le.l}))},Kt=function(e){return r.a.createElement("button",Object.assign({"data-testid":"addBtn"},e,{className:zt.a.searchBtn}),r.a.createElement(re.a,{icon:le.j}))},Jt=function(e){var t=e.children;return r.a.createElement("div",{className:zt.a.searchRow},t)},$t=function(e){var t=e.children;return r.a.createElement("div",{className:zt.a.horizontalRow},t)},Xt=function(e){var t=e.children;return r.a.createElement("div",{className:zt.a.inactiveBlock},t)},Qt=function(e){var t=e.children,a=e.className,n=Object(H.a)(e,["children","className"]);return r.a.createElement("button",Object.assign({className:zt.a.btn+" "+zt.a[a]},n,{"data-testid":"btn"}),t)},ea=function(e){var t=e.children,a=e.className,n=Object(H.a)(e,["children","className"]);return r.a.createElement("form",Object.assign({className:zt.a[a]+" "+zt.a.form},n,{"data-testid":"form"}),t)},ta=function(e){var t=e.children,a=e.className,n=Object(H.a)(e,["children","className"]);return r.a.createElement("div",Object.assign({"data-testid":"inform",className:zt.a[a]+" "+zt.a.form},n),t)},aa=function(e){var t=e.children,a=e.className,n=e.searchBar;return r.a.createElement("small",{"data-testid":"small-test",className:"".concat(zt.a[a]," ").concat(n?zt.a.searchSmall:null)},t)},na=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1,oldPassword:"",newPassword:"",confirmPassword:"",successful:!1,incorrectPassword:!1,missMatchPassword:!1},n}return Object(v.a)(a,[{key:"changeUserPassword",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.oldPassword,a=this.state.newPassword,this.setState({loading:!0}),e.next=5,Vt(t,a).then((function(){return n.setState({successful:!0,loading:!1},(function(){return setTimeout((function(){return n.setState({successful:!1})}),3e3)}))})).catch((function(e){400===e.response.status&&n.setState({incorrectPassword:!0,loading:!1}),console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.state.missMatchPassword||this.changeUserPassword()}},{key:"noMissMatch",value:function(){return this.state.confirmPassword===this.state.newPassword?(this.setState({missMatchPassword:!1}),!0):(this.setState({missMatchPassword:!0}),!1)}},{key:"handleValueChange",value:function(e){var t=this;return this.setState({successful:!1,incorrectPassword:!1}),function(a){var n=a.target.value;t.setState(Object(g.a)({},e,n),(function(){return"confirmPassword"===e?t.noMissMatch():null}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(ea,{className:this.state.successful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(Ge,null,r.a.createElement(I,null)):null,r.a.createElement(Zt,null,r.a.createElement("label",null,"Current password"),r.a.createElement("input",{type:"password",placeholder:"Enter Current Password",autoComplete:"on",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("oldPassword")(t)}})),r.a.createElement(Zt,null,r.a.createElement("label",null,"New password"),r.a.createElement("input",{type:"password",placeholder:"Enter New Password",maxLength:30,autoComplete:"on",onChange:function(t){return e.handleValueChange("newPassword")(t)},required:!0})),r.a.createElement(Zt,null,r.a.createElement("label",null,"Confirm password"),r.a.createElement("input",{type:"password",placeholder:"Confirm New Password",maxLength:30,autoComplete:"on",required:!0,onChange:function(t){e.handleValueChange("confirmPassword")(t)}})),this.state.incorrectPassword?r.a.createElement(aa,{className:"error"}," Incorrect password. "):null,this.state.missMatchPassword?r.a.createElement(aa,{className:"error"}," Confirm password miss match. "):null,this.state.successful?r.a.createElement(aa,null," Successful. "):null,r.a.createElement(Qt,{type:"submit"},"Confirm"))}}]),a}(r.a.Component),ra=na,sa=function(e,t,a){return Te(w).put("".concat("/teachers").concat("/assignments","/").concat(e),{score:t,comment:a})},la=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1,comment:"",score:0,successful:!1},n}return Object(v.a)(a,[{key:"onSubmit",value:function(){var e=this.props.id;this.putReview(e)}},{key:"putReview",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,n=a.score,r=a.comment,this.setState({loading:!0}),e.next=4,sa(t,n,r).then((function(){return s.setState({successful:!0,loading:!1},(function(){setTimeout((function(){return s.setState({successful:!1})}),3e3)}))})).catch(console.log);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleValueChange",value:function(e){var t=this;return this.setState({successful:!1}),function(a){var n=a.target.value;t.setState(Object(g.a)({},e,n))}}},{key:"render",value:function(){var e=this;return r.a.createElement(ea,{className:this.state.successful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(Ge,null,r.a.createElement(I,null)):null,r.a.createElement(Zt,null,r.a.createElement("label",null,"Enter Score:"),r.a.createElement("input",{type:"number",placeholder:"Enter score",required:!0,max:100,min:0,onChange:function(t){return e.handleValueChange("score")(t)}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"comment"},"Comment: "),r.a.createElement("textarea",{id:"comment",placeholder:"Enter comment for this assignment",required:!0,onChange:function(t){e.handleValueChange("comment")(t)}})),this.state.successful?r.a.createElement(aa,null," Successful. "):null,r.a.createElement(Qt,{type:"submit"},"Confirm"))}}]),a}(r.a.Component),ca=la,ia=function(e){var t=Ie.getState().Authentication.uuid,a={studentUuid:t,courseId:e};return Te(w).post("".concat("/students/").concat(t).concat("/courses"),a)},oa=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1,successful:!1},n}return Object(v.a)(a,[{key:"enrolCourse",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,n=t.toggle,r=t.handleEnrol,this.setState({loading:!0}),e.next=4,ia(a).then((function(){return s.setState({loading:!1},(function(){r(),n()}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.enrolCourse()}},{key:"render",value:function(){var e=this;return r.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(Ge,null,r.a.createElement(I,null)):null,this.state.successful?r.a.createElement(aa,null," Successful. "):null,r.a.createElement(Qt,{type:"submit"},"Confirm"))}}]),a}(r.a.Component),ua=oa,ha=a(54),ma=a.n(ha),da=function(e){var t=e.children;return r.a.createElement("div",{className:ma.a.title},t)},pa=function(e){var t=e.children;return r.a.createElement("div",{className:ma.a.subHeading},t)},ga=function(e){var t=e.children;return r.a.createElement("div",{className:ma.a.content},t)},fa=function(e){var t=e.children;return r.a.createElement("div",{className:ma.a.wrapper},t)},va=function(e){var t=e.comment,a=e.score;return r.a.createElement(fa,null,r.a.createElement(pa,null,"Score:"),r.a.createElement(ga,null,a),r.a.createElement(pa,null,"Comment:"),r.a.createElement(ga,null,t))},Ea=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleSearchByTemp=function(e){n.props.onSearchByChange(e.target.value)},n.handleSearchTemp=function(e){n.props.onSearchChange(e.target.value)},n.state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.title?r.a.createElement(Gt,null,this.props.title):null,r.a.createElement(Jt,null,r.a.createElement(Zt,null,r.a.createElement("select",{value:this.props.searchBy,onChange:this.handleSearchByTemp},r.a.createElement("option",{value:"Teacher Name"},"Teacher Name"),r.a.createElement("option",{value:"Teacher ID"},"Teacher ID"))),r.a.createElement(Zt,null,r.a.createElement("input",{placeholder:"Enter ID or Name...",type:"text",value:this.props.search,onChange:this.handleSearchTemp})),r.a.createElement(aa,{className:"error",searchBar:!0},this.props.errors),r.a.createElement(Kt,{onClick:function(t){t.preventDefault(),e.props.onClick()}})))}}]),a}(r.a.Component),ba=Ea,_a=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",null,this.props.nameList.map((function(t){return r.a.createElement("li",{key:t.uuid,onClick:function(){e.props.handleClick(t.name,t.uuid)}},t.name)})))}}]),a}(r.a.Component),ya=_a,Ca={},ka=function(e,t){var a=Te(w);switch(e){case"studentId":return a.get("/query/students?campusId"+"=".concat(t),Ca).then((function(e){return e.data.studentList})).catch((function(e){return console.log(e.response)}));case"studentName":return a.get("/query/students?name"+"=".concat(t),Ca).then((function(e){return e.data.studentList})).catch((function(e){return console.log(e.response)}));case"teacherId":return a.get("/query/teachers?campusId"+"=".concat(t),Ca).then((function(e){return e.data.teacherList})).catch((function(e){return console.log(e.response)}));case"teacherName":return a.get("/query/teachers?name"+"=".concat(t),Ca).then((function(e){return e.data.teacherList})).catch((function(e){return console.log(e.response)}));default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},Sa=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={search:"",searchBy:"Teacher Name",nameList:[],suggestion:"",errors:"",uuid:null},n.onClick=n.onClick.bind(Object(Q.a)(n)),n.handleSearchTemp=n.handleSearchTemp.bind(Object(Q.a)(n)),n.handleSearchByTemp=n.handleSearchByTemp.bind(Object(Q.a)(n)),n.handleClick=n.handleClick.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handleSearchByTemp",value:function(e){this.setState({searchBy:e}),console.log(this.state.searchBy)}},{key:"handleClick",value:function(e,t){var a=this;this.setState({search:e,uuid:t,errors:""},(function(){return console.log(a.state.search,a.state.uuid)}))}},{key:"handleSearchTemp",value:function(e){var t=this,a=this.state.errors;a=RegExp(/^[a-zA-Z0-9]+$/).test(e)?"":"Invalid Input!",this.setState({errors:a,search:e},(function(){t.state.search&&t.state.search.length>1&&t.state.search.length%2===0&&t.getTeacherQuery(t.state.searchBy)})),console.log(this.state.search)}},{key:"getTeacherQuery",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=RegExp(/^t([0-9]*)$/),n=RegExp(/^([a-zA-Z]*)$/),e.t0=t,e.next="Teacher ID"===e.t0?5:"Teacher Name"===e.t0?15:25;break;case 5:if(!0!==a.test(this.state.search)){e.next=13;break}return e.next=8,ka("teacherId",this.state.search);case 8:r=e.sent,console.log(r),this.setState({nameList:r}),e.next=14;break;case 13:this.setState({errors:"Please check the Teacher ID!"});case 14:return e.abrupt("break",26);case 15:if(!0!==n.test(this.state.search)){e.next=23;break}return e.next=18,ka("teacherName",this.state.search);case 18:s=e.sent,console.log(s),this.setState({nameList:s}),e.next=24;break;case 23:this.setState({errors:"Please check the Teacher Name!"});case 24:case 25:return e.abrupt("break",26);case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onClick",value:function(){var e=this.props,t=e.handleAddTeacher,a=e.onClick,n=this.state,r=n.uuid;t(n.search,r),a()}},{key:"render",value:function(){var e=this.state,t=e.search,a=e.searchBy,n=e.errors,s=e.nameList;return r.a.createElement(ta,null,r.a.createElement(ba,{title:"Find Teacher",search:t,onSearchChange:this.handleSearchTemp,searchBy:a,onSearchByChange:this.handleSearchByTemp,onClick:this.onClick,errors:n,nameList:s}),r.a.createElement(Zt,null,null===this.state.nameList?null:r.a.createElement(ya,{nameList:s,handleClick:this.handleClick})))}}]),a}(r.a.Component),Na=Sa,Oa=function(e){return Te(w).put("".concat("users/").concat(e).concat("/password"))},wa=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(v.a)(a,[{key:"resetPassword",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.uuid,n=t.toggle,this.setState({loading:!0}),e.next=4,Oa(a).then((function(){return r.setState({loading:!1},(function(){n()}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.resetPassword()}},{key:"render",value:function(){var e=this;return r.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(Ge,null,r.a.createElement(I,null)):null,r.a.createElement("h4",null,"\xa0\xa0\xa0\xa0Are your sure to reset?"),r.a.createElement(Qt,{type:"submit"},"Reset Confirm"))}}]),a}(r.a.Component),ja=wa,Aa=function(e){return Te(w).delete("users"+"/".concat(e))},Da=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(v.a)(a,[{key:"DeleteUser",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.uuid,n=t.toggle,r=t.onSubmit,this.setState({loading:!0}),e.next=4,Aa(a).then((function(){return s.setState({loading:!1},(function(){n(),r()}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.DeleteUser()}},{key:"render",value:function(){var e=this;return r.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(Ge,null,r.a.createElement(I,null)):null,r.a.createElement("h4",null,"\xa0\xa0\xa0Are your sure to delete?"),r.a.createElement(Qt,{type:"submit"},"Delete Confirm"))}}]),a}(r.a.Component),La=Da,Ia=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"renderPopupWindow",value:function(e){switch(e){case"CHANGE_PASSWORD":return r.a.createElement(ra,null);case"RESET_PASSWORD":return r.a.createElement(ja,this.props);case"DELETE_USER":return r.a.createElement(La,this.props);case"ADD_TEACHER_TO_COURSE":return r.a.createElement(Na,Object.assign({},this.props,{onClick:this.props.toggle}));case"ENROL":return r.a.createElement(ua,this.props);case"VIEW_REPORT":return r.a.createElement(va,Object.assign({onClick:this.props.toggle},this.props));case"MARKING":return r.a.createElement(ca,{onClick:this.props.toggle,id:this.props.id});default:return null}}},{key:"render",value:function(){return r.a.createElement("div",{className:Wt.a.mask},r.a.createElement("div",{className:Wt.a.wrapper},r.a.createElement("span",{className:Wt.a.close,onClick:this.props.toggle},"\xd7"),this.renderPopupWindow(this.props.type)))}}]),a}(r.a.Component),Pa=Ia,xa=a(78),Ta=a.n(xa),Ba=Object(C.b)(null,(function(e){return{logOut:function(){e({type:"LOG_OUT"}),e(fe("Dashboard","Dashboard"))}}}))((function(e){var t=e.logOut;return r.a.createElement("button",{"data-testid":"btn",className:"".concat(Ta.a.btn," + ").concat(Ta.a.logOutBtn),onClick:t,to:"/login"},"Log Out")})),Ma=Object(u.g)(Ba),Ra=a(29),Ua=a.n(Ra),Fa=function(e){var t=e.loaded,a=e.wrongType,n=e.overSize,s=e.success,l=e.fileName,c=e.onChange,i=e.handleConfirm,o=e.noSupportCredential;return r.a.createElement("div",{"data-testid":"btn",className:Ua.a.uploadContainer},r.a.createElement("input",{id:"UPLOAD",className:Ua.a.uploadInput,type:"file",onChange:c}),r.a.createElement("label",{htmlFor:"UPLOAD",className:Ua.a.uploadLabel},r.a.createElement("div",{className:"".concat(Ua.a.btn," + ").concat(Ua.a.uploadBtn)},t?l:"Upload")),!t||a||n||s?null:r.a.createElement("button",{className:"".concat(Ua.a.btn," + ").concat(Ua.a.confirmBtn),onClick:function(e){return i(e)}},"Confirm"),r.a.createElement("div",{className:Ua.a.floatWarning},a?r.a.createElement("div",{className:Ua.a.warningText},"X Only support .pdf format. Please uploaded again."):null,n?r.a.createElement("div",{className:Ua.a.warningText},"X Only support file size less than 15 MB. Please uploaded again."):null,s?r.a.createElement("div",{className:Ua.a.successText},"Upload Successfully."):null,o?r.a.createElement("div",{className:Ua.a.warningText},"X This feature requires AWS Credential, not supported for open source project."):null))},Ha=function(e){var t=e.onClick;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ft.a.btn," + ").concat(Ft.a.themeBtn)},"Mark")},Wa=function(e){var t=e.onClick;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ft.a.btn," + ").concat(Ft.a.themeBtn)},"Enrol")},Va=function(e){var t=e.onClick;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ft.a.btn," + ").concat(Ft.a.themeBtn)},"Change Password")},qa=function(e){var t=e.onClick;return r.a.createElement("button",{onClick:t,className:"".concat(Ft.a.btn," + ").concat(Ft.a.themeBtn)},"Reset Password")},za=function(e){var t=e.onClick;return r.a.createElement("button",{onClick:t,className:"".concat(Ft.a.btn," + ").concat(Ft.a.deleteBtn)},"Delete")},Ga=function(e){var t=e.onClick;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ft.a.btn," + ").concat(Ft.a.themeBtn)},"View")},Za=function(e){var t=e.onClick,a=e.name;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ft.a.btn," + ").concat(Ft.a.themeBtn)},a||"Add"," Teacher")},Ya=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={seen:!1},n.togglePop=n.togglePop.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"togglePop",value:function(){this.setState({seen:!this.state.seen})}},{key:"renderButton",value:function(e){var t=this;switch(e){case"CHANGE_PASSWORD":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Va,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Pa,{type:"CHANGE_PASSWORD",toggle:this.togglePop}):null);case"RESET_PASSWORD":return r.a.createElement(r.a.Fragment,null,r.a.createElement(qa,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Pa,Object.assign({},this.props,{type:"RESET_PASSWORD",toggle:this.togglePop})):null);case"DELETE_USER":return r.a.createElement(r.a.Fragment,null,r.a.createElement(za,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Pa,Object.assign({onSubmit:this.props.redirectToUsrManagement},this.props,{type:"DELETE_USER",toggle:this.togglePop})):null);case"UPLOAD":return r.a.createElement(Fa,this.props);case"LOGOUT":return r.a.createElement(Ma,null);case"ADD_TEACHER_TO_COURSE":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Za,{name:this.props.name,onClick:function(e){e.preventDefault(),t.togglePop()}}),this.state.seen?r.a.createElement(Pa,Object.assign({type:"ADD_TEACHER_TO_COURSE"},this.props,{toggle:this.togglePop})):null);case"ENROL":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wa,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Pa,Object.assign({type:"ENROL"},this.props,{toggle:function(){t.togglePop()}})):null);case"VIEW_REPORT":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ga,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Pa,Object.assign({type:"VIEW_REPORT"},this.props,{toggle:function(){t.togglePop()}})):null);case"MARKING":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ha,Object.assign({},this.props,{onClick:this.togglePop})),this.state.seen?r.a.createElement(Pa,Object.assign({type:"MARKING"},this.props,{toggle:function(){t.props.handleReview(),t.togglePop()}})):null);default:return null}}},{key:"render",value:function(){return r.a.createElement("div",{className:Ft.a.wrapper},this.renderButton(this.props.type))}}]),a}(r.a.Component),Ka=function(e){var t=e.title;return r.a.createElement("div",{className:Rt.a.wrapper},r.a.createElement("h2",{className:Rt.a.title},t),r.a.createElement(Ya,{type:"LOGOUT"}))},Ja=a(120),$a=a.n(Ja),Xa=a(31),Qa=a.n(Xa),en=function(e){var t=e.children;return r.a.createElement("div",{className:Qa.a.indexItem},t)},tn=function(e){var t=e.children,a=Object(H.a)(e,["children"]);return r.a.createElement("div",Object.assign({"data-testid":"table-item",className:Qa.a.item},a),t)},an=function(e){var t=e.children,a=e.disable,n=Object(H.a)(e,["children","disable"]);return r.a.createElement("div",Object.assign({"data-testid":"row",className:"".concat(Qa.a.row," ").concat(a?null:Qa.a.links)},n),t)},nn=function(e){var t=e.children;return r.a.createElement("div",{className:Qa.a.headerRow},t)},rn=function(e){var t=e.children;return r.a.createElement("div",{className:Qa.a.table},t)},sn=function(e){var t=e.currentPage,a=e.handlePageChange,n=e.totalPage;return r.a.createElement("div",{className:Qa.a.pagination},1===t?r.a.createElement("div",null):r.a.createElement("div",{"data-testid":"prev",className:Qa.a.clickable,onClick:function(){return a(t-1)}},"Prev"),r.a.createElement("div",{className:Qa.a.number},"- ",t," -"),t===n?r.a.createElement("div",null):r.a.createElement("div",{"data-testid":"next",className:Qa.a.clickable,onClick:function(){return a(t+1)}},"Next"),r.a.createElement("div",{className:Qa.a.total,"data-testid":"totalPage"},"Total Page of ",n))},ln=function(e){return r.a.createElement(tn,{key:e+Math.random()},e)},cn=Object(C.b)(null,(function(e){return{onClick:function(t,a,n,r){e(fe(t,a,n,r))}}}))((function(e){var t=e.onClick,a=e.RenderObj,n=e.toPageID,s=a.disable,l=a.name,c=a.id,i=a.secondID,o=(a.comment,a.index),u=Object(H.a)(a,["disable","name","id","secondID","comment","index"]);return u=function(e){var t={};return Object.keys(e).sort().forEach((function(a){return t[a]=e[a]})),t}(u),r.a.createElement(an,{key:"name_"+Math.random(),disable:s,onClick:function(e){return e.preventDefault(),s?null:t(l,n,c,i)}},r.a.createElement(en,null,o+1),r.a.createElement(tn,null,l),function(e){var t=[];for(var a in e)t.push(ln(e[a]));return t}(u))})),on=a(121),un=a.n(on),hn=function(){return r.a.createElement("div",{"data-testid":"loading",className:un.a.loading},r.a.createElement("h4",null,"Loading..."))},mn=a(79),dn=a.n(mn),pn=function(e){var t=e.children;return r.a.createElement("div",{className:dn.a.wrapper},r.a.createElement("div",{className:dn.a.container},t))},gn={},fn=function(e,t){var a=Te(w);switch(e){case"courseId":return a.get("/query/courses?code"+"=".concat(t),gn).then((function(e){return e.data.courseList})).catch((function(e){return console.log(e.response)}));case"courseName":return a.get("/query/courses?name"+"=".concat(t),gn).then((function(e){return e.data.courseList})).catch((function(e){return console.log(e.response)}));default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},vn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleSearchByTemp=function(e){n.props.onSearchByChange(e.target.value)},n.handleSearchTemp=function(e){n.props.onSearchChange(e.target.value)},n.state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.props.onClick(t)}},this.props.title?r.a.createElement(Gt,null,this.props.title):null,r.a.createElement(Jt,null,r.a.createElement(Zt,null,r.a.createElement("select",{value:this.props.searchBy,onChange:this.handleSearchByTemp},r.a.createElement("option",{value:"Course Name"},"Course Name"),r.a.createElement("option",{value:"Course ID"},"Course ID"))),r.a.createElement(Zt,null,r.a.createElement("input",{placeholder:"Enter ID or Name...",type:"text",value:this.props.search,onChange:this.handleSearchTemp})),r.a.createElement(aa,{className:"error",searchBar:!0},this.props.errors),r.a.createElement(Yt,{type:"submit"})))}}]),a}(r.a.Component),En=a(122),bn=a.n(En),_n=function(e){var t=e.text;return r.a.createElement("div",{className:bn.a.wrapper},t)},yn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleSearchByTemp=function(e){n.setState({searchBy:e}),console.log(n.state.searchBy)},n.handleSearchTemp=function(e){var t=n.state.errors;t=RegExp(/^[a-zA-Z0-9]+$/).test(e)?"":"Invalid Input!",n.setState({errors:t,search:e}),console.log(n.state.search,n.state.errors)},n.state={page:1,paginationArray:[],search:"",searchBy:"Course Name",courseList:[],errors:""},n.onSubmit=n.onSubmit.bind(Object(Q.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getCourseName",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=RegExp(/^([0-9]*)$/),n=RegExp(/^([a-zA-Z]*)$/),this.setState({page:1}),e.t0=t,e.next="Course ID"===e.t0?6:"Course Name"===e.t0?15:25;break;case 6:if(!0!==a.test(this.state.search)){e.next=13;break}return e.next=9,fn("courseId",this.state.search);case 9:r=e.sent,this.setState({courseList:r,paginationArray:Ve(r,8)}),e.next=14;break;case 13:this.setState({errors:"Please check the Course ID!"});case 14:return e.abrupt("break",26);case 15:if(!0!==n.test(this.state.search)){e.next=23;break}return e.next=18,fn("courseName",this.state.search);case 18:s=e.sent,console.log(s),this.setState({courseList:s,paginationArray:Ve(s,8)}),e.next=24;break;case 23:this.setState({errors:"Please check the Course Name!"});case 24:case 25:return e.abrupt("break",26);case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidWillMount",value:function(){this.state.searchBy!==this.props.searchBy&&this.setState({errors:""})}},{key:"componentDidMount",value:function(){this.getCourseName()}},{key:"onSubmit",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.search){e.next=5;break}this.setState({errors:"Please Input Something!"}),e.next=14;break;case 5:if(""!==this.state.errors){e.next=10;break}return e.next=8,console.log(this.state.searchBy),this.getCourseName(this.state.searchBy);case 8:e.next=14;break;case 10:if(this.state.searchBy===this.props.searchBy){e.next=14;break}return this.setState({errors:""}),e.next=14,console.log(this.state.searchBy),this.getCourseName(this.state.searchBy);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderCourseList",value:function(){var e=this.state,t=e.page,a=e.paginationArray[t-1];return console.log(a),a.map((function(e,t){var a=e.id,n=e.name,s=a;console.log(e);var l={index:t,name:n,id:a,courseId:s};return r.a.createElement(cn,{key:"CourseManagement"+Math.random(),RenderObj:l,toPageID:"CourseDetail"})}))}},{key:"renderContent",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(_n,{text:"There is no such course!"}):r.a.createElement(rn,null,r.a.createElement(nn,null,r.a.createElement(en,null,"No:"),r.a.createElement(tn,null,"Course Name:"),r.a.createElement(tn,null,"Course ID:")),this.renderCourseList(),r.a.createElement(sn,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"render",value:function(){return r.a.createElement(pn,null,r.a.createElement(vn,{title:this.props.title,search:this.state.search,onSearchChange:this.handleSearchTemp,searchBy:this.state.searchBy,onSearchByChange:this.handleSearchByTemp,onClick:this.onSubmit,errors:this.state.errors}),this.renderContent())}}]),a}(r.a.Component),Cn=Object(C.b)((function(e){return{id:e.headerHistory.content.id,header:e.headerHistory.title}}))(yn),kn=a(60),Sn=a.n(kn),Nn=new Date,On=Nn.getFullYear(),wn=Nn.getMonth()<7?1:2,jn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={postSuccessful:!1,loading:!1,notNullableError:"",name:null,location:null,introduction:null,assessment:null,workLoad:12.5,learningOutcome:null,teacherName:"",teacherUuid:"",year:On,semester:wn,subjectId:n.props.subjectId,courseId:n.props.courseId},n.handleTeacherUuidChange=n.handleTeacherUuidChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handleTeacherUuidChange",value:function(e,t){console.log(e,t),this.setState({teacherUuid:t,teacherName:e,notNullableError:""},this.checkNull)}},{key:"checkNull",value:function(){var e=this.state,t=(e.postSuccessful,e.loading,e.notNullableError,e.workLoad,e.year,e.semester,e.subjectId,e.courseId,e.teacherUuid,Object(H.a)(e,["postSuccessful","loading","notNullableError","workLoad","year","semester","subjectId","courseId","teacherUuid"]));for(var a in t)t[a]&&t[a].trim()||("teacherName"===a?this.setState({notNullableError:"Must assign a teacher to a course."}):this.setState({notNullableError:"No empty input is allowed."}))}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(g.a)(n,e,r),Object(g.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"sendData",value:function(e){var t=this.state,a=t.subjectId,n=t.courseId,r=t.teacherUuid;switch(this.props.apiMethod){case"POST":return function(e){return Te(w).post("/courses",e)}(Object(h.a)({},e,{teacherUuid:r,subjectId:a}));case"PUT":return function(e){var t=e.courseId;return Te(w).put("".concat("/courses","/").concat(t),e)}(Object(h.a)({},e,{courseId:n}));default:return null}}},{key:"postCourse",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.postSuccessful,t.loading,t.notNullableError,t.teacherName,t.teacherUuid,t.courseId,t.subjectId,a=Object(H.a)(t,["postSuccessful","loading","notNullableError","teacherName","teacherUuid","courseId","subjectId"]),this.setState({loading:!0}),e.next=4,this.sendData(a).then((function(){n.setState({loading:!1,postSuccessful:!0},(function(){n.props.handleSubmit(),setTimeout((function(){return n.setState({postSuccessful:!1})}),2e3)}))})).catch(console.log);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.postCourse()}},{key:"componentDidMount",value:function(){if(console.log(this.props),this.props.hasOwnProperty("detail")){var e=this.props.detail,t=e.name,a=e.workLoad,n=e.location,r=e.learningOutcome,s=e.assessment,l=e.introduction,c=e.teacherName;this.setState({name:t,workLoad:a,location:n,learningOutcome:r,assessment:s,teacherName:c,introduction:l})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.workLoad,s=t.location,l=t.learningOutcome,c=t.assessment,i=t.introduction,o=t.teacherName;return r.a.createElement(pn,null,r.a.createElement(ea,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(Ge,{background:!0},r.a.createElement(I,null)):null,r.a.createElement(Gt,null,this.props.title),r.a.createElement($t,null,r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"name"},"Name: "),r.a.createElement("input",{id:"name",type:"text",value:null===a?"":a,placeholder:"Enter name for the course",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("name")(t)}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"workLoad"},"Course points:"),r.a.createElement("select",{onChange:function(t){return e.handleValueChange("workLoad")(t)},required:!0,value:null===n?"":n,id:"workLoad"},r.a.createElement("option",{value:12.5},"12.5"),r.a.createElement("option",{value:25},"25"),r.a.createElement("option",{value:37.5},"37.5"),r.a.createElement("option",{value:50},"50"),r.a.createElement("option",{value:100},"100"))),"POST"===this.props.apiMethod?r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"AddTeacherBtn"},"Teacher:"),o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,o),r.a.createElement(Ya,{name:"Change",handleAddTeacher:this.handleTeacherUuidChange,id:"AddTeacherBtn",type:"ADD_TEACHER_TO_COURSE"})):r.a.createElement(Ya,{handleAddTeacher:this.handleTeacherUuidChange,id:"AddTeacherBtn",type:"ADD_TEACHER_TO_COURSE"})):null),r.a.createElement($t,null,r.a.createElement(Zt,null,r.a.createElement("label",null," Year: "),r.a.createElement("div",null,On)),r.a.createElement(Zt,null,r.a.createElement("label",null," Semester: "),r.a.createElement("div",null,wn)),"PUT"===this.props.apiMethod?r.a.createElement(Zt,null,r.a.createElement("label",null,"Teacher:"),r.a.createElement("div",null,o)):null),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"location"},"Location: "),r.a.createElement("input",{id:"location",type:"text",value:null===s?"":s,placeholder:"Enter location for the course",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("location")(t)}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"outcome"},"Learning Outcome: "),r.a.createElement("textarea",{id:"outcome",className:Sn.a.outcome,value:null===l?"":l,placeholder:"Enter learning outcomes",required:!0,onChange:function(t){e.handleValueChange("learningOutcome")(t)}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"assessment"},"Assessments: "),r.a.createElement("textarea",{id:"assessment",className:Sn.a.content,value:null===c?"":c,placeholder:"Enter assessments for the course",required:!0,onChange:function(t){e.handleValueChange("assessment")(t)}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"Intro"},"Introduction: "),r.a.createElement("textarea",{id:"Intro",className:Sn.a.intro,value:null===i?"":i,placeholder:"Enter introduction for the course",required:!0,onChange:function(t){e.handleValueChange("introduction")(t)}})),this.state.notNullableError?r.a.createElement(Xt,null,"Unable to Click"):r.a.createElement(Qt,{type:"submit"},"Submit"),this.state.postSuccessful?r.a.createElement(aa,null,"Successful."):null,this.state.notNullableError?r.a.createElement(aa,{className:"error"},this.state.notNullableError):null))}}]),a}(r.a.Component),An=function(e,t){return e.name>t.name?1:-1},Dn=function(e){return function(e){var t=!0;return e.forEach((function(e){return t=e.hasOwnProperty("name")})),t}(e)?e.sort(An):"no property of 'name' is found in each object"},Ln=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],subjectId:0,courseList:null,loading:!0},n.handleSubmit=n.handleSubmit.bind(Object(Q.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getCourseList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({page:1,loading:!0}),e.next=3,n=this.props.id,Te(w).get("".concat("subjects/").concat(n)).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:t=e.sent,a=t.courseList,this.setState({courseList:Dn(a),paginationArray:Ve(Dn(a),5),loading:!1});case 6:case"end":return e.stop()}var n}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){this.getCourseList()}},{key:"componentDidUpdate",value:function(){var e=this;this.state.subjectId!==this.props.id&&this.setState({subjectId:this.props.id},(function(){return e.getCourseList()}))}},{key:"componentDidMount",value:function(){this.getCourseList()}},{key:"renderCoursesList",value:function(){var e=this.state,t=e.page;return e.paginationArray[t-1].map((function(e,t){var a=e.name,n=e.id,s=e.courseCode,l=e.year,c={index:t,name:a,id:n,a_courseCode:s,b_semester:e.semester,c_year:l};return r.a.createElement(cn,{key:"SubjectCourse"+Math.random(),RenderObj:c,toPageID:"CourseDetail"})}))}},{key:"renderContent",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(_n,{text:"No courses under this subject."}):r.a.createElement(rn,null,r.a.createElement(nn,null,r.a.createElement(en,null,"No:"),r.a.createElement(tn,null,"Name:"),r.a.createElement(tn,null,"Code:"),r.a.createElement(tn,null,"Semester:"),r.a.createElement(tn,null,"Year:")),this.renderCoursesList(),r.a.createElement(sn,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"render",value:function(){var e=this.props,t=e.role,a=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,null,this.state.loading?r.a.createElement(hn,null):this.renderContent()),r.a.createElement(Cn,{title:"Search In Course Market"}),"ADMIN"===t?r.a.createElement(jn,{subjectId:a,handleSubmit:this.handleSubmit,apiMethod:"POST",title:"Post New Course"}):null)}}]),a}(r.a.Component),In=Object(C.b)((function(e){return{id:e.headerHistory.content.id,role:e.Authentication.role}}))(Ln),Pn=a(80),xn=a.n(Pn),Tn=function(e,t){return e.dueDate<t.dueDate?1:-1},Bn=function(e){return function(e){var t=!0;return e.forEach((function(e){return t=e.hasOwnProperty("dueDate")})),t}(e)?e.sort(Tn):"no property of 'dueDate' is found in each object"},Mn={params:{detail:"assignments"}},Rn=function(e){return Te(w).get("".concat("/courses/").concat(e),Mn).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},Un=function(e,t,a,n,r){var s=Ie.getState().userInfo.name;return Te(w).post("".concat("courses/").concat(r,"/").concat("assignments/"),{title:e,acceptanceCriteria:t,content:a,dueDate:n,publisher:s})},Fn=a(49),Hn=a.n(Fn),Wn=function(e){var t=e.title,a=e.description;return r.a.createElement("div",{className:Hn.a.detailWrapper},r.a.createElement("h3",null,t),r.a.createElement("p",{className:Hn.a.description},a))},Vn=function(e){var t=e.title,a=e.children,n=e.description,s=Object(H.a)(e,["title","children","description"]);return r.a.createElement("div",{className:Hn.a.wrapper},r.a.createElement("div",{className:Hn.a.heading},r.a.createElement(Wn,{title:t,description:n})),r.a.createElement("div",{"data-testid":"content",className:s.hasOwnProperty("background")?Hn.a.functionalComponent:null},a))},qn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],courseAssignmentId:0,assignmentList:null,notNullableError:"",loading:!0,acceptanceCriteria:"",content:"",title:"",dueDate:"",publishLoading:!1,publishSuccessful:!1},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getAssignmentList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({page:1,loading:!0}),e.next=3,Rn(this.props.id);case 3:t=e.sent,a=t.assignmentList,this.setState({assignmentList:a,paginationArray:Ve(Bn(a),5),loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this;this.state.courseAssignmentId!==this.props.id&&this.setState({courseAssignmentId:this.props.id},(function(){return e.getAssignmentList()}))}},{key:"componentDidMount",value:function(){this.getAssignmentList()}},{key:"renderAssignmentList",value:function(){var e=this,t=this.state,a=t.page,n=t.paginationArray;if(0===n.length)return r.a.createElement(_n,{text:"You have not post assignment yet"});var s=n[a-1];return[].concat(Object(We.a)(s.map((function(t,a){var n=t.title,s=t.id,l=t.dueDate,c={index:a,name:n,id:s,secondID:e.props.id,dueDate:l+" 11:59 pm "};return r.a.createElement(cn,{key:"TeacherCourseAssignment"+Math.random(),RenderObj:c,toPageID:"Assignment"})}))),[r.a.createElement(sn,{key:"TeacherCourseAssignment"+Math.random(),currentPage:a,handlePageChange:this.handlePageChange,totalPage:n.length})])}},{key:"checkNull",value:function(){var e=this.state,t=(e.courseAssignmentId,e.assignmentList,e.notNullableError,e.loading,e.dueDate,e.publishLoading,e.publishSuccessful,e.page,e.paginationArray,Object(H.a)(e,["courseAssignmentId","assignmentList","notNullableError","loading","dueDate","publishLoading","publishSuccessful","page","paginationArray"]));for(var a in t)t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(g.a)(n,e,r),Object(g.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"publishAssignment",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.title,a=this.state.acceptanceCriteria,n=this.state.content,r=this.state.courseAssignmentId,s=this.state.dueDate,this.setState({publishLoading:!0}),e.next=8,Un(t,a,n,s,r).then((function(){l.getAssignmentList(),l.setState({publishLoading:!1,publishSuccessful:!0},(function(){return setTimeout((function(){return l.setState({publishSuccessful:!1})}),2e3)}))})).catch(console.log);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.publishAssignment()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,null,r.a.createElement(rn,null,r.a.createElement(nn,null,r.a.createElement(en,null,"No:"),r.a.createElement(tn,null,"Assignment Name:"),r.a.createElement(tn,null,"Assignment Due:")),this.state.loading?r.a.createElement(hn,null):this.renderAssignmentList())),r.a.createElement(pn,null,r.a.createElement(ea,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},r.a.createElement(Gt,null,"Publish New Assignment"),this.state.publishLoading?r.a.createElement(Ge,{background:!0},r.a.createElement(I,null)):null,r.a.createElement($t,null,r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"title"},"Title: "),r.a.createElement("input",{id:"title",type:"text",placeholder:"Enter title for the assignment",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("title")(t)}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"dueDate"},"Due Date (11:59 pm):"),r.a.createElement("input",{onChange:function(t){return e.handleValueChange("dueDate")(t)},required:!0,type:"date",id:"dueDate"}))),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"AC"},"Criteria: "),r.a.createElement("textarea",{id:"AC",className:xn.a.acceptance,placeholder:"Enter acceptance criteria",required:!0,onChange:function(t){e.handleValueChange("acceptanceCriteria")(t)}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"content"},"Content: "),r.a.createElement("textarea",{id:"content",className:xn.a.content,placeholder:"Enter assignment content",required:!0,onChange:function(t){e.handleValueChange("content")(t)}})),this.state.notNullableError?r.a.createElement(Xt,null,"Unable to Click"):r.a.createElement(Qt,{type:"submit"},"Publish Assignment"),this.state.notNullableError?r.a.createElement(aa,{className:"error"},this.state.notNullableError):null,this.state.publishSuccessful?r.a.createElement(aa,null,"Assignment published successfully."):null)),r.a.createElement(Vn,{title:"Files Exchange Functionality Is Coming Soon..."}))}}]),a}(r.a.Component),zn=Object(C.b)((function(e){return{id:e.headerHistory.content.id}}))(qn),Gn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleRoleTemp=function(e){n.props.onRoleChange(e.target.value)},n.handleSearchTemp=function(e){n.props.onSearchChange(e.target.value)},n.state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.props.onClick(t)}},r.a.createElement(Jt,null,r.a.createElement(Zt,null,r.a.createElement("select",{value:this.props.role,onChange:this.handleRoleTemp},r.a.createElement("option",{value:"student"},"Student"),r.a.createElement("option",{value:"teacher"},"Teacher"))),r.a.createElement(Zt,null,r.a.createElement("input",{placeholder:"Enter ID or Name...",type:"text",value:this.props.search,onChange:this.handleSearchTemp})),r.a.createElement(aa,{className:"error",searchBar:!0},this.props.errors),r.a.createElement(Yt,{type:"submit"})))}}]),a}(r.a.Component),Zn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleRoleTemp=function(e){n.setState({role:e})},n.handleSearchTemp=function(e){var t=n.state.errors;t=RegExp(/^[a-zA-Z0-9]+$/).test(e)?"":"Invalid Input!",n.setState({errors:t,search:e})},n.state={page:1,paginationArray:[],search:"",role:"student",nameList:[],errors:""},n.onSubmit=n.onSubmit.bind(Object(Q.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getUserName",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,s,l,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=RegExp(/^(s[0-9]*)$/),n=RegExp(/^([a-zA-Z]*)$/),r=RegExp(/^(t[0-9]*)$/),s=RegExp(/^([a-zA-Z]*)$/),this.setState({page:1}),e.t0=t,e.next="student"===e.t0?8:"teacher"===e.t0?25:42;break;case 8:if(!0!==a.test(this.state.search)){e.next=15;break}return e.next=11,ka("studentId",this.state.search);case 11:l=e.sent,this.setState({nameList:l,paginationArray:Ve(l.filter((function(e){return!0===e.active})),8)}),e.next=24;break;case 15:if(!0!==n.test(this.state.search)){e.next=23;break}return e.next=18,ka("studentName",this.state.search);case 18:c=e.sent,this.setState({nameList:c,paginationArray:Ve(c.filter((function(e){return!0===e.active})),8)}),console.log(this.state.paginationArray),e.next=24;break;case 23:this.setState({errors:"Please check the StudentID!"});case 24:return e.abrupt("break",42);case 25:if(!0!==r.test(this.state.search)){e.next=33;break}return e.next=28,ka("teacherId",this.state.search);case 28:i=e.sent,console.log(i),this.setState({nameList:i,paginationArray:Ve(i.filter((function(e){return!0===e.active})),8)}),e.next=41;break;case 33:if(!0!==s.test(this.state.search)){e.next=40;break}return e.next=36,ka("teacherName",this.state.search);case 36:o=e.sent,this.setState({nameList:o,paginationArray:Ve(o.filter((function(e){return!0===e.active})),8)}),e.next=41;break;case 40:this.setState({errors:"Please check the TeacherID!"});case 41:return e.abrupt("break",42);case 42:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.search){e.next=5;break}this.setState({errors:"Please Input Something!"}),e.next=14;break;case 5:if(""!==this.state.errors){e.next=10;break}return e.next=8,console.log(this.state.role),this.getUserName(this.state.role);case 8:e.next=14;break;case 10:if(this.state.role===this.props.role){e.next=14;break}return this.setState({errors:""}),e.next=14,console.log(this.state.role),this.getUserName(this.state.role);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderUserList",value:function(){var e=this.state,t=e.page,a=e.paginationArray[t-1],n=this.state.role;return a.map((function(e,t){var a=e.uuid,s=e.name,l=e.campusId,c={index:t,id:a,secondID:n,name:s,campusId:l};return r.a.createElement(cn,{key:"UserManagement"+Math.random(),RenderObj:c,toPageID:"UserInfo"})}))}},{key:"renderContent",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(_n,{text:"There is no such user!"}):r.a.createElement(rn,null,r.a.createElement(nn,null,r.a.createElement(en,null,"No:"),r.a.createElement(tn,null,"Name:"),r.a.createElement(tn,null,"Campus ID:")),this.renderUserList(),r.a.createElement(sn,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"render",value:function(){return r.a.createElement(pn,null,r.a.createElement(Gn,{search:this.state.search,onSearchChange:this.handleSearchTemp,role:this.state.role,onRoleChange:this.handleRoleTemp,onClick:this.onSubmit,errors:this.state.errors}),this.renderContent())}}]),a}(r.a.Component),Yn=Object(C.b)((function(e){return{id:e.headerHistory.content.id,secondID:e.headerHistory.content.secondID,header:e.headerHistory.title}}))(Zn),Kn=a(61),Jn=a.n(Kn),$n=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={userInfo:null,loading:!0},n}return Object(v.a)(a,[{key:"getUserInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(this.props.userRole,this.props.userID);case 2:if(t=e.sent,"student"!==this.props.userRole){e.next=8;break}a=t||{name:"Loading ..."},this.setState({userInfo:a,loading:!1}),e.next=18;break;case 8:if("teacher"!==this.props.userRole){e.next=13;break}n=t||{name:"Loading ..."},this.setState({userInfo:n,loading:!1}),e.next=18;break;case 13:return e.next=15,Ot(this.props.secondID,this.props.id);case 15:r=e.sent,s=r||{name:"Loading ..."},this.setState({userInfo:s,loading:!1});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"render",value:function(){return r.a.createElement("div",{className:Jn.a.wrapper},this.state.loading?r.a.createElement(hn,null):r.a.createElement(r.a.Fragment,null,this.state.userInfo.hasOwnProperty("title")?r.a.createElement(Vn,{title:"Title",background:!0},null!==this.state.userInfo.title?this.state.userInfo.title:r.a.createElement("span",{className:Jn.a.noText},"No Title.")):null,this.state.userInfo.hasOwnProperty("introduction")?r.a.createElement(Vn,{title:"Introduction",background:!0},null!==this.state.userInfo.title?this.state.userInfo.introduction:r.a.createElement("span",{className:Jn.a.noText},"No Introduction.")):null,r.a.createElement(Vn,{title:"Name",background:!0},this.state.userInfo.name),"admin"===this.props.userRole?r.a.createElement(Vn,{title:"Reset Password"},r.a.createElement(Ya,{type:"RESET_PASSWORD",uuid:this.props.id})):r.a.createElement(Vn,{title:"Change Password"},r.a.createElement(Ya,{type:"CHANGE_PASSWORD"})),"admin"===this.props.userRole?r.a.createElement(Vn,{title:"Delete User"},r.a.createElement(Ya,{type:"DELETE_USER",uuid:this.props.id,redirectToUsrManagement:this.props.redirectToUsrManagement})):null))}}]),a}(r.a.Component),Xn=Object(C.b)((function(e){return{id:e.headerHistory.content.id,secondID:e.headerHistory.content.secondID,userRole:e.Authentication.role.toLowerCase(),userID:e.Authentication.uuid}}),(function(e){return{redirectToUsrManagement:function(){return e(fe("User management","Users"))}}}))($n),Qn={params:{detail:"students"}},er={params:{detail:"teachers"}},tr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"students",a=Te(w);return"students"===t?a.get("".concat("/courses/").concat(e),Qn).then((function(e){return e.data})).catch((function(e){return console.log(e)})):"teachers"===t?a.get("".concat("/courses/").concat(e),er).then((function(e){return e.data})).catch((function(e){return console.log(e)})):void 0},ar=function(e){var t=e.enrolled,a=e.id,n=e.handleEnrol;return t?r.a.createElement(Vn,{title:"Enrol This Course",background:!0},"You have already enrolled in this course."):r.a.createElement(Vn,{title:"Enrol This Course",description:"currently enrolment are for free"},r.a.createElement(Ya,{type:"ENROL",id:a,handleEnrol:n}))},nr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={studentList:[],courseDetail:null,loading:!0,enrolled:!1,editableDetail:null},n.handleEnrol=n.handleEnrol.bind(Object(Q.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handleEnrol",value:function(){this.setState({enrolled:!0})}},{key:"handleSubmit",value:function(){this.getCourseDetail()}},{key:"componentDidMount",value:function(){this.getCourseDetail()}},{key:"getCourseDetail",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l,c,i,o,u,h,m,p=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(this.props.id);case 2:return t=e.sent,a=t.course,n=t.studentList,e.next=7,tr(this.props.id,"teachers");case 7:r=e.sent,s=r.teacherList,l=a.assessment,c=a.learningOutcome,i=a.workLoad,o=a.location,u=a.name,h=a.introduction,m={assessment:l,learningOutcome:c,workLoad:i,location:o,name:u,introduction:h,teacherName:s[0]?s[0].name:""},this.setState({studentList:n,courseDetail:a,loading:!1,editableDetail:m},(function(){p.checkEnrollment(),p.props.addHeader(u,p.props.id)}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkEnrollment",value:function(){var e=this,t=this.state.studentList,a=this.props.uuid;t.forEach((function(t){return t.uuid===a?e.setState({enrolled:!0}):null}))}},{key:"renderCourseDetail",value:function(){var e=this.state.courseDetail,t=e.year,a=e.assessment,n=e.learningOutcome,s=e.courseCode,l=e.workLoad,c=e.location,i=e.name,o=e.introduction,u=e.semester,h=this.state.editableDetail.teacherName;return r.a.createElement(fa,null,r.a.createElement(da,null,s," - ",i),r.a.createElement(pa,null,t," ",c),r.a.createElement(pa,null,"Semester: "),r.a.createElement(ga,null," ",u," "),r.a.createElement(pa,null,"Credit Points: "),r.a.createElement(ga,null," ",l," "),r.a.createElement(pa,null,"Course Introduction: "),r.a.createElement(ga,null," ",o," "),r.a.createElement(pa,null,"Learning Outcomes: "),r.a.createElement(ga,null," ",n," "),r.a.createElement(pa,null,"Assessments: "),r.a.createElement(ga,null," ",a," "),h?r.a.createElement(r.a.Fragment,null,r.a.createElement(pa,null,"Teacher: "),r.a.createElement(ga,null," ",h," ")):null)}},{key:"render",value:function(){var e=this.props,t=e.userRole,a=e.id,n=this.state,s=n.enrolled,l=n.editableDetail;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,null,this.state.loading?r.a.createElement(hn,null):this.renderCourseDetail()),"STUDENT"===t?r.a.createElement(ar,{id:a,enrolled:s,handleEnrol:this.handleEnrol}):null,"ADMIN"===t?this.state.loading?null:r.a.createElement(jn,{courseId:a,detail:l,handleSubmit:this.handleSubmit,apiMethod:"PUT",title:"Edit Course"}):null)}}]),a}(r.a.Component),rr=Object(C.b)((function(e){return{id:e.headerHistory.content.id,userRole:e.Authentication.role,uuid:e.Authentication.uuid}}),(function(e){return{addHeader:function(t,a){return e(fe(t,"CourseDetail",a))}}}))(nr),sr=a(48),lr=a.n(sr),cr=function(e){return Te(w).post("/subjects",e)},ir=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={postSuccessful:!1,loading:!1,errorMessage:"",notNullableError:"",name:"",subjectCode:"",introduction:""},n}return Object(v.a)(a,[{key:"handleSubjectCodeChange",value:function(){this.setState({errorMessage:""},this.validateSubjectCode)}},{key:"validateSubjectCode",value:function(){var e,t=this,a=/[A-Za-z]/;return this.state.subjectCode.split("").forEach((function(n){!a.test(n)&&n?(t.setState({errorMessage:"".concat(n," is not a valid character.")}),e=!1):n&&(e=!0)})),e}},{key:"checkNull",value:function(){var e=this.state,t=(e.postSuccessful,e.loading,e.errorMessage,e.notNullableError,Object(H.a)(e,["postSuccessful","loading","errorMessage","notNullableError"]));for(var a in t)t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(g.a)(n,e,r),Object(g.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"postSubject",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.loading,t.postSuccessful,t.errorMessage,t.notNullableError,a=Object(H.a)(t,["loading","postSuccessful","errorMessage","notNullableError"]),this.setState({loading:!0}),console.log(a),e.next=5,cr(a).then((function(){n.setState({loading:!1,postSuccessful:!0},(function(){return setTimeout((function(){return n.setState({postSuccessful:!1})}),2e3)}))})).catch(console.log);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.postSubject()}},{key:"render",value:function(){var e=this;return r.a.createElement(pn,null,r.a.createElement(ea,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},r.a.createElement(Gt,null,"Post New Subject"),this.state.loading?r.a.createElement(Ge,{background:!0},r.a.createElement(I,null)):null,r.a.createElement($t,null,r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"name"},"Name: "),r.a.createElement("input",{id:"name",type:"text",placeholder:"Enter name for the subject",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("name")(t)}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"subjectCode",className:this.state.errorMessage?lr.a.error:null},"Subject Code:"," "),r.a.createElement("input",{id:"subjectCode",type:"text",placeholder:"Enter 3 letters subject code",minLength:3,maxLength:3,required:!0,onChange:function(t){e.handleValueChange("subjectCode")(t),e.handleSubjectCodeChange()}}))),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"Intro"},"Introduction: "),r.a.createElement("textarea",{id:"Intro",className:lr.a.intro,placeholder:"Enter introduction for the subject",required:!0,onChange:function(t){e.handleValueChange("introduction")(t)}})),this.state.errorMessage||this.state.notNullableError?r.a.createElement(Xt,null,"Unable to Click"):r.a.createElement(Qt,{type:"submit"},"Add New Subject"),this.state.postSuccessful?r.a.createElement(aa,null,"Successful."):null,this.state.errorMessage||this.state.notNullableError?r.a.createElement(aa,{className:"error"},this.state.errorMessage?this.state.errorMessage:this.state.notNullableError):null))}}]),a}(r.a.Component),or=function(e,t){var a;switch(e){case"Teacher":a="/users/teachers";break;case"Student":a="/users/students"}return Te(w).post(a,t)},ur=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={postSuccessful:!1,loading:!1,errorMessage:"",notNullableError:"",role:" ",email:"",firstName:"",lastName:""},n}return Object(v.a)(a,[{key:"handleEmailChange",value:function(){var e=this;this.setState({errorMessage:""},(function(){return e.validateEmail()}))}},{key:"handleFirstNameChange",value:function(){var e=this;this.setState({errorMessage:""},(function(){return e.validateName(e.state.firstName)}))}},{key:"handleLastNameChange",value:function(){var e=this;this.setState({errorMessage:""},(function(){return e.validateName(e.state.lastName)}))}},{key:"validateEmail",value:function(){var e=this.state.email;return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(this.setState({errorMessage:"not a valid email."}),!1)}},{key:"validateName",value:function(e){var t,a=this,n=/[A-Za-z]/;return e.split("").forEach((function(e){!n.test(e)&&e?(a.setState({errorMessage:"".concat(e," is not a valid character.")}),t=!1):e&&(t=!0)})),t}},{key:"checkNull",value:function(){var e=this.state,t=(e.postSuccessful,e.loading,e.errorMessage,e.notNullableError,Object(H.a)(e,["postSuccessful","loading","errorMessage","notNullableError"]));for(var a in t)t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(g.a)(n,e,r),Object(g.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"postUserInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.loading,t.postSuccessful,t.errorMessage,t.notNullableError,a=t.role,n=Object(H.a)(t,["loading","postSuccessful","errorMessage","notNullableError","role"]),console.log(a,n),this.setState({loading:!0}),e.next=5,or(a,n).then((function(){r.setState({loading:!1,postSuccessful:!0},(function(){return setTimeout((function(){return r.setState({postSuccessful:!1})}),2e3)}))})).catch((function(e){409===e.response.status&&r.setState({loading:!1,errorMessage:"Email has been used"})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){console.log(this.validateEmail()),!1===this.validateEmail()||this.postUserInfo()}},{key:"render",value:function(){var e=this;return r.a.createElement(pn,null,r.a.createElement(ea,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},r.a.createElement(Gt,null,"Add New User"),this.state.loading?r.a.createElement(Ge,{background:!0},r.a.createElement(I,null)):null,r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"Role"},"Role: "),r.a.createElement("select",{className:lr.a.role,onChange:function(t){e.handleValueChange("role")(t)}},r.a.createElement("option",{value:"select"},"Select"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Teacher"},"Teacher"))),r.a.createElement($t,null,r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"email"},"Email: "),r.a.createElement("input",{id:"email",type:"text",placeholder:"Please enter the email",maxLength:30,required:!0,onChange:function(t){e.handleValueChange("email")(t),e.handleEmailChange()}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"FirstName",className:this.state.errorMessage?lr.a.error:null},"First Name:"," "),r.a.createElement("input",{id:"FirstName",type:"text",placeholder:"Please enter the FirstName",maxLength:30,required:!0,onChange:function(t){e.handleValueChange("firstName")(t),e.handleFirstNameChange()}})),r.a.createElement(Zt,null,r.a.createElement("label",{htmlFor:"LastName"},"Last Name: "),r.a.createElement("input",{id:"LastName",placeholder:"Please enter the LastName",maxLength:30,required:!0,onChange:function(t){e.handleValueChange("lastName")(t),e.handleLastNameChange()}}))),this.state.errorMessage||this.state.notNullableError?r.a.createElement(Xt,null,"Unable to Click"):r.a.createElement(Qt,{type:"submit"},"Add New User"),this.state.postSuccessful?r.a.createElement(aa,null,"Successful."):null,this.state.errorMessage||this.state.notNullableError?r.a.createElement(aa,{className:"error"},this.state.errorMessage?this.state.errorMessage:this.state.notNullableError):null))}}]),a}(r.a.Component),hr=Object(C.b)((function(e){return{role:e.Authentication.role}}))((function(e){var t=e.role;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vn,{title:"Welcome"}),r.a.createElement(Vn,{title:"More Future Features Are Coming Soon..."}),"ADMIN"===t?r.a.createElement(ur,null):null,"ADMIN"===t?r.a.createElement(ir,null):null)})),mr=function(e,t){var a=Ie.getState().Authentication.role,n=Te(w);return"TEACHER"===a?n.get("".concat("/courses/").concat(t).concat("/assignments/").concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)})):"STUDENT"===a?n.get("".concat("/students").concat("/assignments/").concat(e)).then((function(e){return console.log(e.data),e.data})).catch((function(e){return console.log(e)})):void 0},dr=function(e,t){var a={fileName:e};return Te(w).put("".concat("/students").concat("/assignments/").concat(t),a).then((function(e){return e.data})).catch(console.log)},pr=function(e){var t=e.lastIndexOf("."),a=e.slice(t-1,e.length);return e.length>16?e.slice(0,6)+"..."+e.slice(t-5,t)+a:e},gr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loaded:!1,file:null,fileName:"",fileType:"application/pdf",fileSize:0,success:!1,loading:!1,noSupportCredential:!1},n.handleChange=n.handleChange.bind(Object(Q.a)(n)),n.handleConfirm=n.handleConfirm.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handleChange",value:function(e){var t=this;0===e.target.files.length?console.log("file is not included"):this.setState({loaded:!0,success:!1,fileName:e.target.files[0]?e.target.files[0].name:"",fileSize:e.target.files[0]?e.target.files[0].size:0,fileType:e.target.files[0]?e.target.files[0].type:"application/pdf",file:e.target.files[0]},(function(){return console.log(t.state.file)}))}},{key:"getPreSignedUrl",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date+".pdf",e.next=3,dr(a,t);case 3:n=e.sent,r=n.url,console.log(r),this.uploadToAWS(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadToAWS",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put(t,this.state.file).then((function(){return a.setState({loaded:!1,success:!0,loading:!1},(function(){return setTimeout((function(){return a.setState({success:!1})}),3e3)}))})).catch((function(e){403===e.response.status?(a.setState({loaded:!1,loading:!1,noSupportCredential:!0},(function(){return setTimeout((function(){return a.setState({noSupportCredential:!1})}),3e3)})),console.log(e.response)):console.log(e.response)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleConfirm",value:function(e){e.preventDefault(),this.setState({loading:!0}),this.getPreSignedUrl(this.props.id)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(I,{color:"upload"}):r.a.createElement(Ya,{noSupportCredential:this.state.noSupportCredential,type:"UPLOAD",handleConfirm:this.handleConfirm,onChange:this.handleChange,loaded:this.state.loaded,fileName:pr(this.state.fileName),wrongType:"application/pdf"!==this.state.fileType,overSize:(e=this.state.fileSize,(e/1024/1024).toFixed(0)>15),success:this.state.success}));var e}}]),a}(r.a.Component),fr=Object(C.b)((function(e){return{id:e.headerHistory.content.id}}))(gr),vr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={assignmentDetail:null,loading:!0},n}return Object(v.a)(a,[{key:"getAssignment",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.id,n=t.courseID,"student"!==(r=t.userRole)){e.next=8;break}return e.next=4,mr(a,n);case 4:s=e.sent,this.setState({assignmentDetail:s,loading:!1}),e.next=14;break;case 8:if("teacher"!==r){e.next=14;break}return e.next=11,mr(a,n);case 11:l=e.sent,c=l.assignment,this.setState({assignmentDetail:c,loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getAssignment()}},{key:"renderAssignmentDetail",value:function(){var e=this.state.assignmentDetail,t=e.title,a=e.courseName,n=e.dueDate,s=e.acceptanceCriteria,l=e.content;return console.log(n),r.a.createElement(fa,null,r.a.createElement(da,null,a," - ",t),r.a.createElement(pa,null,"Due on ",n," at 11:59 pm "),r.a.createElement(pa,null,"Acceptance Criteria: "),r.a.createElement(ga,null," ",s," "),r.a.createElement(pa,null,"Content: "),r.a.createElement(ga,null," ",l," "))}},{key:"getTodayDate",value:function(){return(new Date).toISOString().replace(/T/," ").replace(/\..+/,"").split(" ")[0]}},{key:"renderOptionalContent",value:function(){var e=this.getTodayDate(),t=this.state.assignmentDetail.dueDate;return"student"===this.props.userRole&&e<t?r.a.createElement(Vn,{title:"Upload File",description:"File must be less than 15MB.\nOnly PDF is accepted."},r.a.createElement(fr,null)):null}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,null,this.state.loading?r.a.createElement(hn,null):this.renderAssignmentDetail()),this.state.loading?r.a.createElement(hn,null):this.renderOptionalContent())}}]),a}(r.a.Component),Er=Object(C.b)((function(e){return{id:e.headerHistory.content.id,userRole:e.Authentication.role.toLowerCase(),courseID:e.headerHistory.content.secondID}}))(vr),br={params:{detail:"assignments"}},_r=function(){var e=Ie.getState().Authentication.uuid;return Te(w).get("".concat("/students/").concat(e),Object(h.a)({},br)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},yr=a(81),Cr=a.n(yr),kr=function(e){var t=e.children;return r.a.createElement("div",null,t)},Sr=function(e){var t=e.children;return r.a.createElement("div",{className:Cr.a.radio},t)},Nr=function(e){var t=e.children;return r.a.createElement("div",{className:Cr.a.wrapper},t)},Or=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],displayOption:"all",assignmentList:[],loading:!0},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getAssignmentList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,_r();case 3:t=e.sent,a=t.assignmentList,this.setState({page:1,assignmentList:Bn(a),paginationArray:Ve(Bn(a),4),loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getAssignmentList()}},{key:"renderOption",value:function(e){var t=this.state.assignmentList;switch(e){case"all":this.setState({page:1,paginationArray:Ve(t,4),displayOption:"all"});break;case"notSubmitted":this.setState({page:1,displayOption:"notSubmitted",paginationArray:Ve(t.filter((function(e){return!e.submitted})),4)});break;case"scored":this.setState({page:1,displayOption:"scored",paginationArray:Ve(t.filter((function(e){return e.scored})),4)});break;default:this.setState({page:1,paginationArray:Ve(t,4),displayOption:"all"})}}},{key:"renderResult",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(_n,{text:"You have no assignment to be done."}):[r.a.createElement(nn,{key:"StudentAssignment "+Math.random()},r.a.createElement(en,null,"No:"),r.a.createElement(tn,null,"Name:"),r.a.createElement(tn,null,"Course:"),r.a.createElement(tn,null,"Due:"),r.a.createElement(tn,null,"Status:"),r.a.createElement(tn,null,"Report:")),this.renderAssignmentList(a[t-1]),r.a.createElement(sn,{key:"StudentAssignment"+Math.random(),currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length})]}},{key:"renderAssignmentList",value:function(e){return e.map((function(e,t){var a=e.id,n=e.score,s=e.submitted,l=e.scored,c=e.comment,i=e.title,o=e.dueDate,u=e.courseName,h={index:t,disable:l,name:i,id:a,d_scored:l?r.a.createElement(Ya,{type:"VIEW_REPORT",comment:c,score:n}):"No Report Yet",a_courseName:u,b_dueDate:o.split("-").slice(1,3).join("/"),c_submitted:s?"Done":"No Submitted"};return r.a.createElement(cn,{key:"StudentAssignment "+Math.random(),RenderObj:h,toPageID:"Assignment"})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,null,this.state.loading?r.a.createElement(hn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Nr,null,r.a.createElement(kr,null," Display Option: "),r.a.createElement(Sr,null,r.a.createElement("input",{id:"all",type:"radio",name:"display",checked:"all"===this.state.displayOption,onChange:function(){return e.renderOption("all")}}),r.a.createElement("label",{htmlFor:"all"},"All")),r.a.createElement(Sr,null,r.a.createElement("input",{id:"notSubmitted",type:"radio",name:"display",checked:"notSubmitted"===this.state.displayOption,onChange:function(){return e.renderOption("notSubmitted")}}),r.a.createElement("label",{htmlFor:"notSubmitted"},"Only not submitted")),r.a.createElement(Sr,null,r.a.createElement("input",{id:"scored",type:"radio",name:"display",checked:"scored"===this.state.displayOption,onChange:function(){return e.renderOption("scored")}}),r.a.createElement("label",{htmlFor:"scored"},"Only marked"))),r.a.createElement(rn,null,this.renderResult()))))}}]),a}(r.a.Component),wr=Object(C.b)((function(e){return{id:e.headerHistory.content.id,header:e.headerHistory.title}}))(Or),jr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],courseAssignmentId:0,assignmentList:null,loading:!0},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getAssignmentList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({page:1,loading:!0}),e.next=3,Rn(this.props.id);case 3:t=e.sent,a=t.assignmentList,this.setState({assignmentList:a,paginationArray:Ve(Bn(a),8),loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this;this.state.courseAssignmentId!==this.props.id&&this.setState({courseAssignmentId:this.props.id},(function(){return e.getAssignmentList()}))}},{key:"componentDidMount",value:function(){this.getAssignmentList()}},{key:"renderAssignmentList",value:function(){var e=this,t=this.state,a=t.page,n=t.paginationArray;if(0===n.length)return r.a.createElement(_n,{text:"You have no assignment to be marked"});var s=n[a-1];return[].concat(Object(We.a)(s.map((function(t,a){var n=t.title,s=t.id,l=t.dueDate,c={index:a,name:n,id:s,secondID:e.props.id,dueDate:l+" 11:59 pm "};return r.a.createElement(cn,{key:"TeacherCourseAssignment"+Math.random(),RenderObj:c,toPageID:"MarkingAssignment"})}))),[r.a.createElement(sn,{key:"TeacherCourseAssignment"+Math.random(),currentPage:a,handlePageChange:this.handlePageChange,totalPage:n.length})])}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,null,r.a.createElement(rn,null,r.a.createElement(nn,null,r.a.createElement(en,null,"No:"),r.a.createElement(tn,null,"Assignment Name:"),r.a.createElement(tn,null,"Assignment Due:")),this.state.loading?r.a.createElement(hn,null):this.renderAssignmentList())))}}]),a}(r.a.Component),Ar=Object(C.b)((function(e){return{id:e.headerHistory.content.id}}))(jr),Dr=function(){return r.a.createElement(Vn,{title:"This Page Is Coming Soon..."})},Lr=function(e,t){return e.score<t.score?1:-1},Ir=function(e){return function(e){var t=!0;return e.forEach((function(e){return t=e.hasOwnProperty("score")})),t}(e)?e.sort(Lr):"no property of 'score' is found in each object"},Pr=function(e){var t={params:{objectKey:e}};return Te(w).get("".concat("/teachers").concat("/assignments"),t).then((function(e){return e.data})).catch(console.log)},xr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],displayOption:"all",scoreChange:!1,assignmentDetail:null,studentAssignmentList:[],loading:!0},n.handleReview=n.handleReview.bind(Object(Q.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getStudentAssignmentList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,n=t.courseID,e.next=3,mr(a,n);case 3:r=e.sent,s=r.assignment,l=r.studentAssignmentList,this.setState({page:1,assignmentDetail:s,studentAssignmentList:Ir(l),paginationArray:Ve(Ir(l),5),loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderOption",value:function(e){switch(e){case"all":this.setState({page:1,paginationArray:Ve(this.state.studentAssignmentList,5),displayOption:"all"});break;case"notMarked":this.setState({page:1,displayOption:"notMarked",paginationArray:Ve(this.state.studentAssignmentList.filter((function(e){return e.submitted&&!e.scored})),5)});break;default:this.setState({page:1,paginationArray:Ve(this.state.studentAssignmentList,5),displayOption:"all"})}}},{key:"invokeLinkClick",value:function(e){var t=document.createElement("a");t.href=e,t.click()}},{key:"downloadFileFromS3",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pr(t);case 2:a=e.sent,n=a.url,this.invokeLinkClick(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this;this.state.scoreChange&&this.setState({scoreChange:!1},(function(){return e.getStudentAssignmentList()}))}},{key:"componentDidMount",value:function(){this.getStudentAssignmentList()}},{key:"handleReview",value:function(){this.setState({scoreChange:!0})}},{key:"renderArray",value:function(e){var t=this,a=[];return e.forEach((function(e,n){var s=e.attachmentUrl,l=e.score,c=e.submitted,i=e.scored,o=e.id;a.push(r.a.createElement(an,{key:"MarkingAssignmentID"+Math.random()},r.a.createElement(en,null,"No. ",n+1),c?r.a.createElement(tn,{onClick:function(){return t.downloadFileFromS3(s)}},"Download Response"):r.a.createElement(tn,null,"Not Submitted yet"),r.a.createElement(tn,null,i?l:"Not Marked yet"),r.a.createElement(tn,null,c?r.a.createElement(Ya,{type:"MARKING",id:o,handleReview:t.handleReview}):null)))})),a}},{key:"renderStudentAssignmentList",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(_n,{text:"No assignment to be marked."}):r.a.createElement(rn,null,r.a.createElement(nn,null,r.a.createElement(en,null,"No. "),r.a.createElement(tn,null,"Response status: "),r.a.createElement(tn,null,"Score:"),r.a.createElement(tn,null)),this.renderArray(a[t-1]),r.a.createElement(sn,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"renderAssignmentDetail",value:function(){var e=this.state.assignmentDetail,t=e.title,a=e.courseName,n=e.dueDate,s=e.acceptanceCriteria,l=e.content;return r.a.createElement(fa,null,r.a.createElement(da,null,a," - ",t),r.a.createElement(pa,null,"Due: ",n," 11:59 pm "),r.a.createElement(pa,null,"Acceptance Criteria: "),r.a.createElement(ga,null," ",s," "),r.a.createElement(pa,null,"Content: "),r.a.createElement(ga,null," ",l," "))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pn,null,this.state.loading?r.a.createElement(hn,null):this.renderAssignmentDetail()),r.a.createElement(pn,null,r.a.createElement(Nr,null,r.a.createElement(kr,null," Display Option: "),r.a.createElement(Sr,null,r.a.createElement("input",{id:"all",type:"radio",name:"display",checked:"all"===this.state.displayOption,onChange:function(){return e.renderOption("all")}}),r.a.createElement("label",{htmlFor:"all"},"All")),r.a.createElement(Sr,null,r.a.createElement("input",{id:"notMarked",type:"radio",name:"display",checked:"notMarked"===this.state.displayOption,onChange:function(){return e.renderOption("notMarked")}}),r.a.createElement("label",{htmlFor:"notMarked"},"Only not marked"))),this.renderStudentAssignmentList()))}}]),a}(r.a.Component),Tr=Object(C.b)((function(e){return{id:e.headerHistory.content.id,courseID:e.headerHistory.content.secondID}}))(xr),Br=function(e){var t=e.pageID;return r.a.createElement("div",{className:$a.a.wrapper},function(){switch(t){case"Dashboard":return r.a.createElement(hr,null);case"SubjectCourse":return r.a.createElement(In,null);case"Users":return r.a.createElement(Yn,null);case"CourseManagement":return r.a.createElement(Cn,null);case"TeacherCourseAssignment":return r.a.createElement(zn,null);case"TeacherMarkingSystem":return r.a.createElement(Ar,null);case"MarkingAssignment":return r.a.createElement(Tr,null);case"StudentAssignment":return r.a.createElement(wr,null);case"UserInfo":return r.a.createElement(Xn,null);case"Assignment":return r.a.createElement(Er,null);case"CourseDetail":return r.a.createElement(rr,null);default:return r.a.createElement(Dr,null)}}())},Mr=Object(C.b)((function(e){return{pageID:e.headerHistory.content.pageID,title:e.headerHistory.title,role:e.Authentication.role}}))((function(e){var t=e.pageID,a=e.title,n=e.role,s=function(){switch(n){case"TEACHER":return Bt.a.teacherBackground;case"STUDENT":return Bt.a.studentBackground;case"ADMIN":default:return Bt.a.adminBackground}};return r.a.createElement("div",{className:"".concat(Bt.a.wrapper," ").concat(s())},r.a.createElement("div",{"data-testid":"header",className:Bt.a.header},r.a.createElement(Ka,{title:a})),r.a.createElement("div",{"data-testid":"content",className:"".concat(Bt.a.content)},r.a.createElement(Br,{pageID:t})))})),Rr=function(e){var t=e.showNav,a=e.setShowNav;return r.a.createElement("div",{className:t?G.a.mask:null},r.a.createElement("div",{"data-testid":"hamburger",className:"".concat(G.a.hamburger," ").concat(t?G.a.hamburgerActive:G.a.hamburgerInactive),onClick:function(e){e.preventDefault(),a(!t)}},r.a.createElement("div",{className:G.a.line}),r.a.createElement("div",{className:G.a.line}),r.a.createElement("div",{className:G.a.line})),t?r.a.createElement(Ur,null,r.a.createElement("div",{"data-testid":"nav",className:G.a.nav},r.a.createElement(xt,{noAvatar:!0}))):null)},Ur=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,t,r.a.createElement("div",{className:G.a.main},r.a.createElement(Mr,null)))},Fr=function(){var e=r.a.useState(window.innerWidth),t=Object(q.a)(e,2),a=t[0],n=t[1],s=r.a.useState(!1),l=Object(q.a)(s,2),c=l[0],i=l[1];return r.a.useEffect((function(){window.addEventListener("resize",(function(){return n(window.innerWidth)}))}),[]),a<1200?r.a.createElement(Ur,null,r.a.createElement(Rr,{showNav:c,setShowNav:i})):r.a.createElement(Ur,null,r.a.createElement("div",{className:G.a.nav},r.a.createElement(xt,null)))},Hr=function(){return r.a.createElement(V,{path:"/"},r.a.createElement(Fr,null))},Wr=function(){return r.a.createElement(o.a,{basename:"/campus-frontend/"},r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/login",exact:!0},r.a.createElement(F,null)),r.a.createElement(Hr,null)))},Vr=function(){return r.a.createElement("div",{className:i.a.wrapper},r.a.createElement(Wr,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.a,{store:Ie},r.a.createElement(Vr,null))),document.getElementById("root"))},31:function(e,t,a){e.exports={table:"TableLayout_table__2c8Zo",headerRow:"TableLayout_headerRow__3BDmR",row:"TableLayout_row__hhp3Z",item:"TableLayout_item__1We3j",indexItem:"TableLayout_indexItem__55haE",links:"TableLayout_links__1JI6G",linksItem:"TableLayout_linksItem__2kGst",pagination:"TableLayout_pagination__2RC9R",number:"TableLayout_number__20K2v",total:"TableLayout_total__1fh4p",clickable:"TableLayout_clickable__mOK9m"}},34:function(e,t,a){e.exports={nav:"Layout_nav__MNzL5",main:"Layout_main__3OBIG",mask:"Layout_mask__1M4r-",hamburgerActive:"Layout_hamburgerActive__3Rwsm",hamburgerInactive:"Layout_hamburgerInactive__1W4v1",hamburger:"Layout_hamburger__homib",line:"Layout_line__2Y7Yx"}},36:function(e,t,a){e.exports={wrapper:"Nav_wrapper__-SuCi",nameWrapper:"Nav_nameWrapper__1OSBO",loading:"Nav_loading__t8m9I",name:"Nav_name__2fPRs",sideBar:"Nav_sideBar__327k4",footer:"Nav_footer__3CaLO"}},37:function(e,t,a){e.exports={wrapper:"Main_wrapper__3dfG9",header:"Main_header__3SZ-5",teacherBackground:"Main_teacherBackground__crBcY",studentBackground:"Main_studentBackground__1LMBm",adminBackground:"Main_adminBackground__2xy0t"}},40:function(e,t,a){e.exports={wrapper:"NavSideBar_wrapper__3tIy5",sideWrapper:"NavSideBar_sideWrapper__rbMAa",sideWrapperNotCollapse:"NavSideBar_sideWrapperNotCollapse__3v138",filler:"NavSideBar_filler__3R53G",canvas:"NavSideBar_canvas__1HYg1",canvasActive:"NavSideBar_canvasActive__3bP_2"}},41:function(e,t,a){e.exports={wrapper:"NavItems_wrapper__11aOS",active:"NavItems_active__1hXqh",inActive:"NavItems_inActive__2QeOj",icon:"NavItems_icon__1_BOY",title:"NavItems_title__gWnUs",hide:"NavItems_hide__2cebl"}},48:function(e,t,a){e.exports={intro:"PostForm_intro__Hzbk7",role:"PostForm_role__1phBC"}},49:function(e,t,a){e.exports={wrapper:"HalfWidthLayout_wrapper__2fsNf",description:"HalfWidthLayout_description__3jsPh",detailWrapper:"HalfWidthLayout_detailWrapper__1-j2A",contextWrapper:"HalfWidthLayout_contextWrapper__egbCP",heading:"HalfWidthLayout_heading__25_g4",functionalComponent:"HalfWidthLayout_functionalComponent__3Ezri"}},53:function(e,t,a){e.exports={pagination:"CanvasPagination_pagination__Nc3FI",number:"CanvasPagination_number__o1Zjv",clickable:"CanvasPagination_clickable__3HBpd"}},54:function(e,t,a){e.exports={wrapper:"DisplayContentLayout_wrapper__2mJF1",title:"DisplayContentLayout_title__1fEoM",subHeading:"DisplayContentLayout_subHeading__2qg9k",content:"DisplayContentLayout_content__1OQNp"}},59:function(e,t,a){e.exports={wrapper:"Popup_wrapper__3oqZd",btn:"Popup_btn__1M_F1",themeBtn:"Popup_themeBtn__3oL0E",deleteBtn:"Popup_deleteBtn__2iCi1",createBtn:"Popup_createBtn__3h95q",updateBtn:"Popup_updateBtn__34vMY",searchBtn:"Popup_searchBtn__1GW9P",searchInput:"Popup_searchInput__2GTc3",modal:"Popup_modal__2Uixz",close:"Popup_close__FXjmf",mask:"Popup_mask__1-WpP"}},60:function(e,t,a){e.exports={intro:"CourseForm_intro__2Zosd",content:"CourseForm_content__xvjh6",outcome:"CourseForm_outcome__kTc4A"}},61:function(e,t,a){e.exports={wrapper:"Profile_wrapper__37BIp",loading:"Profile_loading__MazEO",container:"Profile_container__1wT5S",heading:"Profile_heading__3NhLM",BtnContainer:"Profile_BtnContainer__2wAmf",noText:"Profile_noText__1VBG2"}},73:function(e,t,a){e.exports={wrapper:"NavLogo_wrapper__2i66c",logo:"NavLogo_logo__223K2"}},75:function(e,t,a){e.exports={background:"LoaderContainer_background__2r4Iw",container:"LoaderContainer_container__x1KjK"}},76:function(e,t,a){e.exports={wrapper:"NavAvatar_wrapper__3C1OO",avatar:"NavAvatar_avatar__2rqvE",wrapperLight:"NavAvatar_wrapperLight__1QUeJ",wrapperDark:"NavAvatar_wrapperDark__dNPX2",avatarRed:"NavAvatar_avatarRed__GhDUk"}},77:function(e,t,a){e.exports={wrapper:"Header_wrapper__2iOJs",title:"Header_title__JKb_K"}},78:function(e,t,a){e.exports={wrapper:"LogOutBtn_wrapper__1wLSs",btn:"LogOutBtn_btn__1uTKu",themeBtn:"LogOutBtn_themeBtn__2bySd",deleteBtn:"LogOutBtn_deleteBtn__3CmU2",createBtn:"LogOutBtn_createBtn__2C-Mk",updateBtn:"LogOutBtn_updateBtn__9dYTS",searchBtn:"LogOutBtn_searchBtn__2in2m",searchInput:"LogOutBtn_searchInput__3fgWe",logOutBtn:"LogOutBtn_logOutBtn__23oWe"}},79:function(e,t,a){e.exports={wrapper:"FullWidthLayout_wrapper__1Jasc",container:"FullWidthLayout_container__1xa6g"}},80:function(e,t,a){e.exports={acceptance:"TeacherCourseAssignment_acceptance__3wsom",content:"TeacherCourseAssignment_content__lJohy"}},81:function(e,t,a){e.exports={wrapper:"RadioLayout_wrapper__2l3M8",radio:"RadioLayout_radio__Hcqb1"}}},[[123,1,2]]]);
//# sourceMappingURL=main.416257fe.chunk.js.map