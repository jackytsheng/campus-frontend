(this["webpackJsonpschool-management-system-app"]=this["webpackJsonpschool-management-system-app"]||[]).push([[0],{108:function(e,t,a){e.exports={wrapper:"App_wrapper__RCHjb"}},111:function(e,t,a){e.exports={particle:"Particle_particle__2pjEa"}},112:function(e,t,a){e.exports={wrapper:"NavHeader_wrapper__2zswT",title:"NavHeader_title__1fKA9"}},113:function(e,t,a){e.exports={wrapper:"Canvas_wrapper__3v9c6"}},114:function(e,t,a){e.exports={links:"RenderLink_links__1YorG"}},116:function(e,t,a){e.exports={filler:"CourseMarket_filler__3EV-I",pagination:"CourseMarket_pagination__3gtt7",number:"CourseMarket_number__3AdAA",clickable:"CourseMarket_clickable__7yHZ5"}},117:function(e,t,a){e.exports={title:"CanvasTitleWrap_title__1QHMT"}},118:function(e,t,a){e.exports={wrapper:"NothingDisplay_wrapper__8EnKB"}},119:function(e,t,a){e.exports={filler:"StudentEnrollment_filler__30BPT",pagination:"StudentEnrollment_pagination__1se6j",number:"StudentEnrollment_number__1TkOd",clickable:"StudentEnrollment_clickable__11pgu"}},120:function(e,t,a){e.exports={wrapper:"Content_wrapper__3fgP7"}},121:function(e,t,a){e.exports={loading:"Loading_loading__1QuCL"}},122:function(e,t,a){e.exports={wrapper:"NoContent_wrapper__3rWzh"}},123:function(e,t,a){e.exports=a(296)},128:function(e,t,a){},13:function(e,t,a){e.exports={wrapper:"SelectAvatar_wrapper__1g02W",row:"SelectAvatar_row__qBTZz",selectionRow:"SelectAvatar_selectionRow__2fCbZ",display:"SelectAvatar_display__Z5-DZ",name:"SelectAvatar_name__11BEJ",brown:"SelectAvatar_brown__3DjM7",green:"SelectAvatar_green__tcO_z",red:"SelectAvatar_red__1oOny",grey:"SelectAvatar_grey__3K_jB",blue:"SelectAvatar_blue__3p-J4",dark:"SelectAvatar_dark__2ABAY",light:"SelectAvatar_light__3u71Y"}},18:function(e,t,a){e.exports={wrapper:"Button_wrapper__Sjioc",btn:"Button_btn__1Lkv5",themeBtn:"Button_themeBtn__3JGb1",deleteBtn:"Button_deleteBtn__1Tfwl",createBtn:"Button_createBtn__2_yUL",updateBtn:"Button_updateBtn__2RYJn",searchBtn:"Button_searchBtn__1h4SN",searchInput:"Button_searchInput__2ExaE"}},22:function(e,t,a){e.exports={wrapper:"Login_wrapper__2h9Wm",modal:"Login_modal__1_50X",greeting:"Login_greeting__gOmpc",title:"Login_title__1lY0k",form:"Login_form__1tdal",loaderContainer:"Login_loaderContainer__3DrJd",control:"Login_control__2kp5c",failLogin:"Login_failLogin__3j6l6",forget:"Login_forget__2evrf",button:"Login_button__3o8rl",loader:"Login_loader__26WFR",spin:"Login_spin__1Uc4U"}},24:function(e,t,a){e.exports={horizontalRow:"FormLayout_horizontalRow__uHbwq",item:"FormLayout_item__UHewD",searchRow:"FormLayout_searchRow__3tzcZ",searchBtn:"FormLayout_searchBtn__1MWq_",form:"FormLayout_form__2aZkI",title:"FormLayout_title__3GexF",searchSmall:"FormLayout_searchSmall__h4xxl",error:"FormLayout_error__UmVgL",successful:"FormLayout_successful__ejCb9",inactiveBlock:"FormLayout_inactiveBlock__3cVDl",btn:"FormLayout_btn__9ofca"}},26:function(e,t,a){e.exports={circle:"Loader_circle__3_imu",upload:"Loader_upload__2ST8r",circleDot:"Loader_circleDot__1wB3-",update:"Loader_update__2M1fZ",white:"Loader_white__25y7g"}},293:function(e,t,a){e.exports=a.p+"static/media/logo-light.24e2fc50.png"},296:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(56),l=a.n(s),c=(a(128),a(108)),i=a.n(c),o=a(50),u=a(19),h=a(38),m=a(3),d=a.n(m),p=a(8),g=a(21),f=a(4),v=a(5),E=a(6),b=a(7),_=a(22),y=a.n(_),C=a(10),k=a(46),S=a.n(k),N=function(e,t){return S.a.post("http://localhost:8080/authenticate",{username:e,password:t})},O=function(){var e=["Good Morning!","Good Afternoon!","Good Evening!"],t=Date().split(" ")[4].slice(0,2),a=Date().split(" ")[0],n=Date().split(" ")[1],s=Date().split(" ")[2];return r.a.createElement("div",{"data-testid":"greeting",className:y.a.greeting},r.a.createElement("h3",{className:y.a.date},"".concat(a.toUpperCase())),r.a.createElement("h3",{className:y.a.date},"".concat(s,", ").concat(n.toUpperCase())),r.a.createElement("h1",{className:y.a.title},t>4&&t<12?e[0]:t>12&&t<18?e[1]:e[2]," "),r.a.createElement("p",null,"A management system which only makes room for things that matter."))},w=a(26),j=a.n(w),A=function(e){var t=e.color;return r.a.createElement("div",{"data-testid":"loader",className:"".concat(j.a.circle," ").concat(j.a[t])},r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}),r.a.createElement("div",{className:j.a.circleDot}))},D=a(110),L=a.n(D),I=a(111),P=a.n(I),x={detectRetina:!0,fpsLimit:30,interactivity:{detectsOn:"canvas",events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"bubble",parallax:{enable:!0,force:60,smooth:10}},resize:!0},modes:{push:{quantity:4},bubble:{distance:150,duration:2,opacity:1,size:10}}},particles:{color:{value:"#84a9ac"},links:{color:"#84a9ac",distance:100,enable:!0,opacity:.5,width:1},move:{attract:{enable:!1,rotate:{x:600,y:1200}},enable:!0,outMode:"out"},number:{density:{enable:!0,area:400},limit:50,value:10},opacity:{random:{enable:!0,minimumValue:.3},value:.7},shape:{type:"circle"},size:{random:{enable:!0,minimumValue:1},value:4},stroke:{color:{value:"#2E3D66"},width:0,opacity:1}},pauseOnBlur:!0},T=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1,failLogin:!1,InactiveUser:!1,username:"",password:""},n}return Object(v.a)(a,[{key:"handleValueChange",value:function(e){var t=this;return this.setState({failLogin:!1,InactiveUser:!1}),function(a){var n=a.target.value;t.setState(Object(g.a)({},e,n))}}},{key:"loginToSever",value:function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,N(t,a).then((function(e){n.props.storeAuthToState(e.data),n.setState({loading:!1},(function(){return n.props.history.push("/")}))})).catch((function(e){switch(e.response.status){case 401:n.setState({failLogin:!0,loading:!1}),console.log(e.response);break;case 403:n.setState({InactiveUser:!0,loading:!1}),console.log(e.response);break;default:n.setState({loading:!1}),console.log(e.response)}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:y.a.wrapper},r.a.createElement(L.a,{className:P.a.particle,params:Object(h.a)({},x)}),r.a.createElement("div",{className:y.a.modal},r.a.createElement(O,null),r.a.createElement("form",{className:y.a.form,onSubmit:function(t){t.preventDefault(),e.loginToSever(e.state.username,e.state.password)}},this.state.loading?r.a.createElement("div",{className:y.a.loaderContainer},r.a.createElement(A,null)):null,r.a.createElement("div",{className:y.a.control},r.a.createElement("label",null,"User ID"),r.a.createElement("input",{className:this.state.failLogin||this.state.InactiveUser?y.a.failLogin:null,type:"text",placeholder:"Enter User ID",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("username")(t)}})),r.a.createElement("div",{className:y.a.control},r.a.createElement("label",{className:y.a.label},"Password"),r.a.createElement("input",{className:this.state.failLogin?y.a.failLogin:null,type:"password",placeholder:"Enter Password",maxLength:30,autoComplete:"on",onChange:function(t){return e.handleValueChange("password")(t)},required:!0})),this.state.failLogin?r.a.createElement("small",null," Incorrect username or password. "):null,this.state.InactiveUser?r.a.createElement("small",null," Inactive user. Please contact admin. "):null,r.a.createElement("button",{className:y.a.button,type:"submit"},"Log in"),r.a.createElement("div",{className:y.a.forget}," Forget password ?"))))}}]),a}(r.a.Component),B=Object(C.b)(null,(function(e){return{storeAuthToState:function(t){return e(function(e){return{payload:e,type:"STORE_AUTH_TO_STATE"}}(t))}}}))(T),M=Object(u.g)(B),R=a(16),U=Object(C.b)((function(e){return{authenticated:!!e.Authentication.jwt}}),null)((function(e){var t=e.children,a=e.authenticated,n=(e.storeAuthToState,Object(R.a)(e,["children","authenticated","storeAuthToState"]));return r.a.createElement(u.b,Object.assign({},n,{render:function(){return a?t:(console.log("I am redirecting"),r.a.createElement(u.a,{to:"/login"}))}}))})),F=U,H=a(82),W=a(34),V=a.n(W),q=a(112),z=a.n(q),G=a(73),Z=a.n(G),Y=function(){return r.a.createElement("div",{className:Z.a.wrapper},r.a.createElement("img",{"data-testid":"logo",className:Z.a.logo,src:a(293),alt:""}))},K=function(){return r.a.createElement("div",{className:z.a.wrapper},r.a.createElement(Y,null))},J=a(9),$=a(40),Q=a.n($),X=a(41),ee=a.n(X),te=a(23),ae=function(e){var t=e.title,a=e.icon,n=e.collapse,s=e.onClick,l=e.active,c=e.NavId;return r.a.createElement("div",{className:"".concat(ee.a.wrapper," ").concat(l?ee.a.active:ee.a.inActive),onClick:function(e){e.preventDefault(),s(c)}},r.a.createElement("div",{className:ee.a.icon},r.a.createElement(te.a,{icon:a})),r.a.createElement("div",{className:n?ee.a.hide:ee.a.title},r.a.createElement("h3",null,t)))},ne=a(14),re={Dashboard:ne.f,Enrollment:ne.a,Assignment:ne.n,Payment:ne.g,CourseMarket:ne.m,UserInfo:ne.o,Help:ne.k,Setting:ne.e,Users:ne.c,MarkSystem:ne.d,TeachingCourse:ne.b,Courses:ne.i,Classroom:ne.h},se=[{icon:re.Dashboard,title:"Dashboard",NavId:"Dashboard"},{icon:re.Enrollment,title:"My Course",NavId:"Enrollment"},{icon:re.Assignment,title:"Assignment",NavId:"Assignment"},{icon:re.CourseMarket,title:"Course market",NavId:"CourseMarket"},{icon:re.Payment,title:"Payment",NavId:"Payment"},{icon:re.UserInfo,title:"Profile",NavId:"UserInfo"},{filler:!0},{icon:re.Help,title:"Help",NavId:"Help"},{icon:re.Setting,title:"Setting",NavId:"Setting"}],le=[{icon:re.Dashboard,title:"Dashboard",NavId:"Dashboard"},{icon:re.TeachingCourse,title:"Teaching",NavId:"TeachingCourse"},{icon:re.MarkSystem,title:"Marking",NavId:"MarkSystem"},{icon:re.CourseMarket,title:"Course market",NavId:"CourseMarket"},{icon:re.UserInfo,title:"Profile",NavId:"UserInfo"},{filler:!0},{icon:re.Help,title:"Help",NavId:"Help"},{icon:re.Setting,title:"Setting",NavId:"Setting"}],ce=[{icon:re.Dashboard,title:"Dashboard",NavId:"Dashboard"},{icon:re.Users,title:"User management",NavId:"Users"},{icon:re.Courses,title:"Course management",NavId:"CourseManagement"},{icon:re.CourseMarket,title:"Course market",NavId:"CourseMarket"},{icon:re.Classroom,title:"Classroom",NavId:"Classroom"},{filler:!0},{icon:re.Help,title:"Help",NavId:"Help"},{icon:re.Setting,title:"Setting",NavId:"Setting"}],ie=a(113),oe=a.n(ie),ue=a(114),he=a.n(ue),me="ADD_HEADER_HISTORY",de=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{headingTitle:e,toPageID:t,courseID:n,id:a,type:me}},pe=function(e){return e.split(" ").map((function(e){return e?e[0].toUpperCase()+e.slice(1,e.length).toLowerCase():""})).join(" ")},ge=Object(C.b)(null,(function(e){return{onClick:function(t,a,n){e(de(t,a,n))}}}))((function(e){var t=e.RenderArray,a=e.onClick,n=e.toPageID,s=e.titleSuffix;return t.map((function(e){return r.a.createElement("div",{"data-testid":"link",onClick:function(t){t.preventDefault();var r=s||"";a(pe((e.name+" "+r).trim()),n,e.id)},className:he.a.links,key:"id"+Math.random()},pe(e.name))}))})),fe=ge,ve=S.a.create({baseURL:"http://localhost:8080"}),Ee=ve,be=a(39),_e={title:"Dashboard",content:{pageID:"Dashboard"}},ye=function(e,t){return{title:e,content:t}},Ce=function(e,t,a){switch(e){case"Dashboard":return{pageID:"Dashboard"};case"MarkingAssignment":return{pageID:"MarkingAssignment",id:t,secondID:a};case"Assignment":return{pageID:"Assignment",id:t,secondID:a};case"Enrollment":return{pageID:"Enrollment"};case"UserInfo":return{pageID:"UserInfo",id:t,secondID:a};case"Users":return{pageID:"Users"};case"CourseManagement":return{pageID:"CourseManagement"};case"Help":return{pageID:"Help"};case"Setting":return{pageID:"Setting"};case"SubjectCourse":return{pageID:"SubjectCourse",id:t};case"TeacherCourseAssignment":return{pageID:"TeacherCourseAssignment",id:t};case"TeacherMarkingSystem":return{pageID:"TeacherMarkingSystem",id:t};case"StudentAssignment":return{pageID:"StudentAssignment"};case"Payment":return{pageID:"Payment"};case"Classroom":return{pageID:"Classroom"};case"CourseDetail":return{pageID:"CourseDetail",id:t};case"StudentCourse":return{pageID:"StudentCourse",id:t};default:return{pageID:"TO_BE_IMPLEMENT"}}},ke=localStorage.getItem("jwt"),Se=localStorage.getItem("role"),Ne=localStorage.getItem("userID"),Oe={jwt:ke,role:Se,uuid:Ne},we={name:"",avatar:""},je=a(115),Ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.d,De=Object(be.c)({headerHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:var a=Ce(t.toPageID,t.id,t.courseID),n=ye(t.headingTitle,a);return console.log(n),n;default:return e}},Authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_AUTH_TO_STATE":return localStorage.setItem("jwt",t.payload.jwt),localStorage.setItem("userID",t.payload.uuid),localStorage.setItem("role",t.payload.role),t.payload;case"LOG_OUT":return localStorage.clear(),{jwt:null,role:null,uuid:null};default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_INFO":return{name:t.name,avatar:e.avatar};case"ADD_USER_AVATAR":return{name:e.name,avatar:t.avatar};default:return e}}}),Le=Object(be.e)(De,Ae(Object(be.a)(je.a))),Ie=function(){Le.dispatch({type:"LOG_OUT"})},Pe=function(e){var t=Le.getState().Authentication.jwt;return e.headers.authorization="Bearer ".concat(t),e},xe=function(e){return e.interceptors.request.use(Pe),e.interceptors.response.use((function(e){return e}),Te),e},Te=function(e){switch(e.response.status){case 401:return console.log("Logging out due to 401"),Ie(),Promise.reject(e);case 403:return console.log("Logging out due to 403"),Ie(),Promise.reject(e);default:return Promise.reject(e)}},Be=a(116),Me=a.n(Be),Re=a(117),Ue=a.n(Re),Fe=function(e){var t=e.children,a=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ue.a.title},a),t)},He=a(47),We=function(e,t){for(var a=Object(He.a)(e),n=[];a.length>0;)n.push(a.splice(0,t));return n},Ve=a(75),qe=a.n(Ve),ze=function(e){var t=e.children,a=e.background;return r.a.createElement("div",{className:"".concat(qe.a.container," ").concat(a?qe.a.background:null)},t)},Ge=a(53),Ze=a.n(Ge),Ye=function(e){var t=e.currentPage,a=e.handlePageChange,n=e.totalPage;return r.a.createElement("div",{className:Ze.a.pagination},1===t?r.a.createElement("div",null):r.a.createElement("div",{"data-testid":"prev",className:Ze.a.clickable,onClick:function(){return a(t-1)}},"<"),r.a.createElement("div",{className:Ze.a.number},t," / ",n),t===n?r.a.createElement("div",null):r.a.createElement("div",{"data-testid":"next",className:Ze.a.clickable,onClick:function(){return a(t+1)}},">"))},Ke=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={subjectList:[],loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"getSubjectList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(Ee).get("/subjects").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.subjectList,this.setState({page:1,subjectList:a,loading:!1,paginationArray:We(a,7)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"componentDidMount",value:function(){this.getSubjectList()}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"render",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(ze,null,r.a.createElement(A,{color:"white"})):r.a.createElement(Fe,{title:"Subjects"},r.a.createElement(fe,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"SubjectCourse"}),r.a.createElement("div",{className:Me.a.filler}),r.a.createElement(Ye,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})))}}]),a}(r.a.Component),Je=Ke,$e={params:{detail:"courses"}},Qe=function(){var e=xe(Ee),t=Le.getState().Authentication.uuid;return e.get("".concat("/teachers","/").concat(t),$e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},Xe=a(118),et=a.n(Xe),tt=function(e){var t=e.name;return r.a.createElement("div",{className:et.a.wrapper},"You have no ",t,".")},at=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={teachingList:[],loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"getTeachingList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:t=e.sent,a=t.hasOwnProperty("courseList")?t.courseList:[],this.setState({page:1,teachingList:a,loading:!1,paginationArray:We(a,5)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTeachingList()}},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"renderList",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return 0!==this.state.teachingList.length?r.a.createElement(Fe,{title:"Your Teaching"},r.a.createElement(fe,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"TeacherCourseAssignment"}),r.a.createElement(Ye,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})):r.a.createElement(tt,{name:"Teaching Courses"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(ze,null,r.a.createElement(A,{color:"white"})):this.renderList())}}]),a}(r.a.Component),nt=at,rt=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={teachingList:null,loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"getTeachingList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:t=e.sent,a=t.hasOwnProperty("courseList")?t.courseList:[],this.setState({page:1,teachingList:a,loading:!1,paginationArray:We(a,6)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTeachingList()}},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"renderList",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return 0!==this.state.teachingList.length?r.a.createElement(Fe,{title:"Marking"},r.a.createElement(fe,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"TeacherMarkingSystem"}),r.a.createElement(Ye,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})):r.a.createElement(tt,{name:"Teaching Courses"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(ze,null,r.a.createElement(A,{color:"white"})):this.renderList())}}]),a}(r.a.Component),st=rt,lt={params:{detail:"courses"}},ct=function(){var e=Le.getState().Authentication.uuid;return xe(Ee).get("".concat("/students/").concat(e),lt).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},it=a(119),ot=a.n(it),ut=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={courseList:[],loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"getCourseList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:t=e.sent,a=t.courseList,this.setState({page:1,courseList:a,loading:!1,paginationArray:We(a,4)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"componentDidMount",value:function(){this.getCourseList()}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"renderList",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return 0!==this.state.courseList.length?r.a.createElement(Fe,{title:"Enrollment"},r.a.createElement(fe,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"StudentCourse",titleSuffix:"Files"}),r.a.createElement("div",{className:ot.a.filler}),r.a.createElement(Ye,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})):r.a.createElement(tt,{name:"Enrol Courses"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(ze,null,r.a.createElement(A,{color:"white"})):this.renderList())}}]),a}(r.a.Component),ht=ut,mt=function(e){var t=e.current;return r.a.createElement("div",{className:oe.a.wrapper},function(e){switch(e){case"TeachingCourse":return r.a.createElement(nt,null);case"CourseMarket":return r.a.createElement(Je,null);case"Enrollment":return r.a.createElement(ht,null);case"MarkSystem":return r.a.createElement(st,null);default:return null}}(t))},dt=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).clickToDisplayCanvas=function(e){e===n.state.current?n.toggleCanvas():e!==n.state.current&&(n.setCanvasStatus(!1),n.setCanvasStatus(!0))},n.state={canvasOn:!1,current:"Dashboard"},n.handleClick=n.handleClick.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"readConfig",value:function(e){var t=this;return e.map((function(e){return e.filler?r.a.createElement("div",{key:"Filler",className:Q.a.filler}):r.a.createElement(ae,{active:t.state.current===e.NavId,collapse:t.state.canvasOn,key:"NavItem_id"+Math.random(),icon:e.icon,title:e.title,NavId:e.NavId,onClick:t.handleClick})}))}},{key:"componentDidMount",value:function(){this.changeActive("Dashboard")}},{key:"renderNavItem",value:function(){switch(this.props.role){case"student":return this.readConfig(se);case"teacher":return this.readConfig(le);case"admin":return this.readConfig(ce);default:return null}}},{key:"changeActive",value:function(e){this.setState({current:e})}},{key:"setCanvasStatus",value:function(e){this.setState({canvasOn:e})}},{key:"toggleCanvas",value:function(){this.setState({canvasOn:!this.state.canvasOn})}},{key:"handleClick",value:function(e){switch(e){case"Dashboard":this.changeActive(e),this.setCanvasStatus(!1),this.props.addHeader("Dashboard","Dashboard");break;case"Users":this.changeActive(e),this.props.addHeader("User management","Users"),this.setCanvasStatus(!1);break;case"CourseManagement":this.changeActive(e),this.props.addHeader("Course management","CourseManagement"),this.setCanvasStatus(!1);break;case"Assignment":this.changeActive(e),this.props.addHeader("Assignment","StudentAssignment"),this.setCanvasStatus(!1);break;case"UserInfo":this.changeActive(e),this.props.addHeader("Profile","UserInfo"),this.setCanvasStatus(!1);break;case"Help":this.changeActive(e),this.props.addHeader("Help","Help"),this.setCanvasStatus(!1);break;case"Setting":this.changeActive(e),this.props.addHeader("Setting","Setting"),this.setCanvasStatus(!1);break;case"Payment":this.changeActive(e),this.props.addHeader("Payment","Payment"),this.setCanvasStatus(!1);break;case"Classroom":this.changeActive(e),this.props.addHeader("Classroom","Classroom"),this.setCanvasStatus(!1);break;default:this.changeActive(e),this.clickToDisplayCanvas(e)}}},{key:"render",value:function(){return r.a.createElement("div",{className:Q.a.wrapper},r.a.createElement("div",{className:"".concat(Q.a.sideWrapper," + ").concat(this.state.canvasOn?null:Q.a.sideWrapperNotCollapse)},this.renderNavItem()),r.a.createElement("div",{className:this.state.canvasOn?Q.a.canvasActive:Q.a.canvas},this.state.canvasOn?r.a.createElement(mt,{current:this.state.current}):null))}}]),a}(r.a.Component),pt=Object(C.b)((function(e){return{role:e.Authentication.role.toLowerCase()}}),(function(e){return{addHeader:function(t,a){return e(de(t,a))}}}))(dt),gt=pt,ft=a(36),vt=a.n(ft),Et=a(76),bt=a.n(Et),_t=a(13),yt=a.n(_t),Ct=function(e){var t=xe(Ee);Le.dispatch(function(e){return{avatar:e,type:"ADD_USER_AVATAR"}}(e));var a=Le.getState(),n=a.Authentication.role.toLowerCase(),r=a.Authentication.uuid;switch(n){case"student":return t.put("/students"+"/".concat(r),{avatar:e}).then((function(){return console.log(e)})).catch(console.log);case"teacher":return t.put("/teachers"+"/".concat(r),{avatar:e,title:"null"}).then((function(){return console.log(e)})).catch(console.log);default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},kt=function(e){var t=e.icon,a=e.onClick,n=e.color,s=e.background,l=function(e){a(e,n,s),Ct(e+" "+n+" "+s)},c=function(e){a(t,e,s),Ct(t+" "+e+" "+s)},i=function(e){a(t,n,e),Ct(t+" "+n+" "+e)};return r.a.createElement("div",{className:yt.a.wrapper},r.a.createElement("div",{className:yt.a.row},r.a.createElement("p",{className:yt.a.name},"Avatar "),r.a.createElement("div",{className:yt.a.selectionRow},r.a.createElement("div",{className:yt.a.display,onClick:function(){return l("faUserTie")}},r.a.createElement(te.a,{icon:ne.r})),r.a.createElement("div",{className:yt.a.display,onClick:function(){return l("faUserGraduate")}},r.a.createElement(te.a,{icon:ne.p})),r.a.createElement("div",{className:yt.a.display,onClick:function(){return l("faUserSecret")}},r.a.createElement(te.a,{icon:ne.q})))),r.a.createElement("div",{className:yt.a.row},r.a.createElement("p",{className:yt.a.name},"Color "),r.a.createElement("div",{className:yt.a.selectionRow},r.a.createElement("div",{className:"".concat(yt.a.display," ").concat(yt.a.blue),onClick:function(){return c("blue")}},r.a.createElement(te.a,{icon:ne.o})),r.a.createElement("div",{className:"".concat(yt.a.display," ").concat(yt.a.green),onClick:function(){return c("green")}},r.a.createElement(te.a,{icon:ne.o})),r.a.createElement("div",{className:"".concat(yt.a.display," ").concat(yt.a.brown),onClick:function(){return c("brown")}},r.a.createElement(te.a,{icon:ne.o})),r.a.createElement("div",{className:"".concat(yt.a.display," ").concat(yt.a.red),onClick:function(){return c("red")}},r.a.createElement(te.a,{icon:ne.o})),r.a.createElement("div",{className:"".concat(yt.a.display," ").concat(yt.a.grey),onClick:function(){return c("grey")}},r.a.createElement(te.a,{icon:ne.o})))),r.a.createElement("div",{className:yt.a.row},r.a.createElement("p",{className:yt.a.name},"Background"),r.a.createElement("div",{className:yt.a.selectionRow},r.a.createElement("div",{className:"".concat(yt.a.display," ").concat(yt.a.dark),onClick:function(){return i("dark")}}),r.a.createElement("div",{className:"".concat(yt.a.display," ").concat(yt.a.light),onClick:function(){return i("light")}}))))},St={},Nt=function(e,t){var a=xe(Ee);switch(e){case"student":return a.get("/students"+"/".concat(t),St).then((function(e){return e.data.studentInfo})).catch((function(e){return console.log(e)}));case"teacher":return a.get("/teachers"+"/".concat(t),St).then((function(e){return e.data.teacherInfo})).catch((function(e){return console.log(e)}));default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},Ot={faUserTie:ne.r,faUserGraduate:ne.p,faUserSecret:ne.q},wt=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={selectionPanelShow:!1,icon:"faUserTie",color:"green",background:"light"},n.toggleSelectionPanel=n.toggleSelectionPanel.bind(Object(J.a)(n)),n.changeAvatar=n.changeAvatar.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"toggleSelectionPanel",value:function(){this.setState({selectionPanelShow:!this.state.selectionPanelShow})}},{key:"changeAvatar",value:function(e,t,a){this.setState({selectionPanelShow:!1,icon:e,color:t,background:a})}},{key:"getAvatar",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.userRole,n=t.userID,e.next=3,Nt(a,n);case 3:r=e.sent,s=r.avatar,0!==(l=s?s.split(" "):[]).length&&this.setState({icon:l[0],color:l[1],background:l[2]});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getAvatar()}},{key:"render",value:function(){return r.a.createElement("div",{className:"".concat(bt.a.wrapper," ").concat(yt.a[this.state.background])},r.a.createElement("div",{"data-testid":"avatar",className:"".concat(bt.a.avatar," ").concat(yt.a[this.state.color]),onClick:this.toggleSelectionPanel},r.a.createElement(te.a,{icon:Ot[this.state.icon]})),this.state.selectionPanelShow?r.a.createElement(kt,{onClick:this.changeAvatar,icon:this.state.icon,color:this.state.color,background:this.state.background}):null)}}]),a}(r.a.Component),jt=wt,At=function(){return r.a.createElement("div",{className:vt.a.loading},r.a.createElement("div",null,"Loading..."))},Dt=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!0,name:null},n}return Object(v.a)(a,[{key:"getUserName",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt(this.props.userRole,this.props.userID);case 2:t=e.sent,a=t.name,this.setState({loading:!1,name:a},(function(){return n.props.addNameToRedux(a)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getUserName()}},{key:"render",value:function(){return r.a.createElement("div",{className:vt.a.nameWrapper},this.state.loading?r.a.createElement(At,null):r.a.createElement("div",{className:vt.a.name},this.state.name?this.state.name:pe(this.props.userRole)))}}]),a}(r.a.Component),Lt=function(e){var t=e.userRole;return r.a.createElement("h3",null," ",pe(t)+" Version")},It=Object(C.b)((function(e){return{userRole:e.Authentication.role.toLowerCase(),userID:e.Authentication.uuid}}),(function(e){return{addName:function(t){return e(function(e){return{name:e,type:"ADD_USER_INFO"}}(t))}}}))((function(e){var t=e.userRole,a=e.userID,n=e.addName,s=e.noAvatar;return r.a.createElement("div",{className:vt.a.wrapper},r.a.createElement("div",{className:vt.a.header},r.a.createElement(K,null)),s?null:r.a.createElement(jt,{userRole:t,userID:a}),r.a.createElement(Dt,{userRole:t,userID:a,addNameToRedux:n}),r.a.createElement("div",{className:vt.a.sideBar},r.a.createElement(gt,null)),r.a.createElement("div",{className:vt.a.footer},r.a.createElement(Lt,{userRole:t})))})),Pt=It,xt=a(37),Tt=a.n(xt),Bt=a(77),Mt=a.n(Bt),Rt=a(18),Ut=a.n(Rt),Ft=a(59),Ht=a.n(Ft),Wt=function(e,t){var a,n=Le.getState(),r=n.Authentication.uuid;switch(n.Authentication.role){case"TEACHER":a="teachers/";break;case"STUDENT":a="students/"}return xe(Ee).put("".concat(a).concat(r).concat("/password"),{currentPassword:e,newPassword:t})},Vt=a(24),qt=a.n(Vt),zt=function(e){var t=e.children;return r.a.createElement("div",{className:qt.a.title},t)},Gt=function(e){var t=e.children;return r.a.createElement("div",{className:qt.a.item},t)},Zt=function(e){return r.a.createElement("button",Object.assign({"data-testid":"searchBtn"},e,{className:qt.a.searchBtn}),r.a.createElement(te.a,{icon:ne.l}))},Yt=function(e){return r.a.createElement("button",Object.assign({"data-testid":"addBtn"},e,{className:qt.a.searchBtn}),r.a.createElement(te.a,{icon:ne.j}))},Kt=function(e){var t=e.children;return r.a.createElement("div",{className:qt.a.searchRow},t)},Jt=function(e){var t=e.children;return r.a.createElement("div",{className:qt.a.horizontalRow},t)},$t=function(e){var t=e.children;return r.a.createElement("div",{className:qt.a.inactiveBlock},t)},Qt=function(e){var t=e.children,a=e.className,n=Object(R.a)(e,["children","className"]);return r.a.createElement("button",Object.assign({className:qt.a.btn+" "+qt.a[a]},n,{"data-testid":"btn"}),t)},Xt=function(e){var t=e.children,a=e.className,n=Object(R.a)(e,["children","className"]);return r.a.createElement("form",Object.assign({className:qt.a[a]+" "+qt.a.form},n,{"data-testid":"form"}),t)},ea=function(e){var t=e.children,a=e.className,n=Object(R.a)(e,["children","className"]);return r.a.createElement("div",Object.assign({"data-testid":"inform",className:qt.a[a]+" "+qt.a.form},n),t)},ta=function(e){var t=e.children,a=e.className,n=e.searchBar;return r.a.createElement("small",{"data-testid":"small-test",className:"".concat(qt.a[a]," ").concat(n?qt.a.searchSmall:null)},t)},aa=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1,oldPassword:"",newPassword:"",confirmPassword:"",successful:!1,incorrectPassword:!1,missMatchPassword:!1},n}return Object(v.a)(a,[{key:"changeUserPassword",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.oldPassword,a=this.state.newPassword,this.setState({loading:!0}),e.next=5,Wt(t,a).then((function(){return n.setState({successful:!0,loading:!1},(function(){return setTimeout((function(){return n.setState({successful:!1})}),3e3)}))})).catch((function(e){400===e.response.status&&n.setState({incorrectPassword:!0,loading:!1}),console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.state.missMatchPassword||this.changeUserPassword()}},{key:"noMissMatch",value:function(){return this.state.confirmPassword===this.state.newPassword?(this.setState({missMatchPassword:!1}),!0):(this.setState({missMatchPassword:!0}),!1)}},{key:"handleValueChange",value:function(e){var t=this;return this.setState({successful:!1,incorrectPassword:!1}),function(a){var n=a.target.value;t.setState(Object(g.a)({},e,n),(function(){return"confirmPassword"===e?t.noMissMatch():null}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(Xt,{className:this.state.successful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(ze,null,r.a.createElement(A,null)):null,r.a.createElement(Gt,null,r.a.createElement("label",null,"Current password"),r.a.createElement("input",{type:"password",placeholder:"Enter Current Password",autoComplete:"on",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("oldPassword")(t)}})),r.a.createElement(Gt,null,r.a.createElement("label",null,"New password"),r.a.createElement("input",{type:"password",placeholder:"Enter New Password",maxLength:30,autoComplete:"on",onChange:function(t){return e.handleValueChange("newPassword")(t)},required:!0})),r.a.createElement(Gt,null,r.a.createElement("label",null,"Confirm password"),r.a.createElement("input",{type:"password",placeholder:"Confirm New Password",maxLength:30,autoComplete:"on",required:!0,onChange:function(t){e.handleValueChange("confirmPassword")(t)}})),this.state.incorrectPassword?r.a.createElement(ta,{className:"error"}," Incorrect password. "):null,this.state.missMatchPassword?r.a.createElement(ta,{className:"error"}," Confirm password miss match. "):null,this.state.successful?r.a.createElement(ta,null," Successful. "):null,r.a.createElement(Qt,{type:"submit"},"Confirm"))}}]),a}(r.a.Component),na=aa,ra=function(e,t,a){return xe(Ee).put("".concat("/teachers").concat("/assignments","/").concat(e),{score:t,comment:a})},sa=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1,comment:"",score:0,successful:!1},n}return Object(v.a)(a,[{key:"onSubmit",value:function(){var e=this.props.id;this.putReview(e)}},{key:"putReview",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,n=a.score,r=a.comment,this.setState({loading:!0}),e.next=4,ra(t,n,r).then((function(){return s.setState({successful:!0,loading:!1},(function(){setTimeout((function(){return s.setState({successful:!1})}),3e3)}))})).catch(console.log);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleValueChange",value:function(e){var t=this;return this.setState({successful:!1}),function(a){var n=a.target.value;t.setState(Object(g.a)({},e,n))}}},{key:"render",value:function(){var e=this;return r.a.createElement(Xt,{className:this.state.successful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(ze,null,r.a.createElement(A,null)):null,r.a.createElement(Gt,null,r.a.createElement("label",null,"Enter Score:"),r.a.createElement("input",{type:"number",placeholder:"Enter score",required:!0,max:100,min:0,onChange:function(t){return e.handleValueChange("score")(t)}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"comment"},"Comment: "),r.a.createElement("textarea",{id:"comment",placeholder:"Enter comment for this assignment",required:!0,onChange:function(t){e.handleValueChange("comment")(t)}})),this.state.successful?r.a.createElement(ta,null," Successful. "):null,r.a.createElement(Qt,{type:"submit"},"Confirm"))}}]),a}(r.a.Component),la=sa,ca=function(e){var t=Le.getState().Authentication.uuid,a={studentUuid:t,courseId:e};return xe(Ee).post("".concat("/students/").concat(t).concat("/courses"),a)},ia=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1,successful:!1},n}return Object(v.a)(a,[{key:"enrolCourse",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,n=t.toggle,r=t.handleEnrol,this.setState({loading:!0}),e.next=4,ca(a).then((function(){return s.setState({loading:!1},(function(){r(),n()}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.enrolCourse()}},{key:"render",value:function(){var e=this;return r.a.createElement(Xt,{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(ze,null,r.a.createElement(A,null)):null,this.state.successful?r.a.createElement(ta,null," Successful. "):null,r.a.createElement(Qt,{type:"submit"},"Confirm"))}}]),a}(r.a.Component),oa=ia,ua=a(54),ha=a.n(ua),ma=function(e){var t=e.children;return r.a.createElement("div",{className:ha.a.title},t)},da=function(e){var t=e.children;return r.a.createElement("div",{className:ha.a.subHeading},t)},pa=function(e){var t=e.children;return r.a.createElement("div",{className:ha.a.content},t)},ga=function(e){var t=e.children;return r.a.createElement("div",{className:ha.a.wrapper},t)},fa=function(e){var t=e.comment,a=e.score;return r.a.createElement(ga,null,r.a.createElement(da,null,"Score:"),r.a.createElement(pa,null,a),r.a.createElement(da,null,"Comment:"),r.a.createElement(pa,null,t))},va=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleSearchByTemp=function(e){n.props.onSearchByChange(e.target.value)},n.handleSearchTemp=function(e){n.props.onSearchChange(e.target.value)},n.state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.title?r.a.createElement(zt,null,this.props.title):null,r.a.createElement(Kt,null,r.a.createElement(Gt,null,r.a.createElement("select",{value:this.props.searchBy,onChange:this.handleSearchByTemp},r.a.createElement("option",{value:"Teacher Name"},"Teacher Name"),r.a.createElement("option",{value:"Teacher ID"},"Teacher ID"))),r.a.createElement(Gt,null,r.a.createElement("input",{placeholder:"Enter ID or Name...",type:"text",value:this.props.search,onChange:this.handleSearchTemp})),r.a.createElement(ta,{className:"error",searchBar:!0},this.props.errors),r.a.createElement(Yt,{onClick:function(t){t.preventDefault(),e.props.onClick()}})))}}]),a}(r.a.Component),Ea=va,ba=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",null,this.props.nameList.map((function(t){return r.a.createElement("li",{key:t.uuid,onClick:function(){e.props.handleClick(t.name,t.uuid)}},t.name)})))}}]),a}(r.a.Component),_a=ba,ya={},Ca=function(e,t){var a=xe(Ee);switch(e){case"studentId":return a.get("/query/students?campusId"+"=".concat(t),ya).then((function(e){return e.data.studentList})).catch((function(e){return console.log(e.response)}));case"studentName":return a.get("/query/students?name"+"=".concat(t),ya).then((function(e){return e.data.studentList})).catch((function(e){return console.log(e.response)}));case"teacherId":return a.get("/query/teachers?campusId"+"=".concat(t),ya).then((function(e){return e.data.teacherList})).catch((function(e){return console.log(e.response)}));case"teacherName":return a.get("/query/teachers?name"+"=".concat(t),ya).then((function(e){return e.data.teacherList})).catch((function(e){return console.log(e.response)}));default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},ka=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={search:"",searchBy:"Teacher Name",nameList:[],suggestion:"",errors:"",uuid:null},n.onClick=n.onClick.bind(Object(J.a)(n)),n.handleSearchTemp=n.handleSearchTemp.bind(Object(J.a)(n)),n.handleSearchByTemp=n.handleSearchByTemp.bind(Object(J.a)(n)),n.handleClick=n.handleClick.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handleSearchByTemp",value:function(e){this.setState({searchBy:e}),console.log(this.state.searchBy)}},{key:"handleClick",value:function(e,t){var a=this;this.setState({search:e,uuid:t,errors:""},(function(){return console.log(a.state.search,a.state.uuid)}))}},{key:"handleSearchTemp",value:function(e){var t=this,a=this.state.errors;a=RegExp(/^[a-zA-Z0-9]+$/).test(e)?"":"Invalid Input!",this.setState({errors:a,search:e},(function(){t.state.search&&t.state.search.length>1&&t.state.search.length%2===0&&t.getTeacherQuery(t.state.searchBy)})),console.log(this.state.search)}},{key:"getTeacherQuery",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=RegExp(/^t([0-9]*)$/),n=RegExp(/^([a-zA-Z]*)$/),e.t0=t,e.next="Teacher ID"===e.t0?5:"Teacher Name"===e.t0?15:25;break;case 5:if(!0!==a.test(this.state.search)){e.next=13;break}return e.next=8,Ca("teacherId",this.state.search);case 8:r=e.sent,console.log(r),this.setState({nameList:r}),e.next=14;break;case 13:this.setState({errors:"Please check the Teacher ID!"});case 14:return e.abrupt("break",26);case 15:if(!0!==n.test(this.state.search)){e.next=23;break}return e.next=18,Ca("teacherName",this.state.search);case 18:s=e.sent,console.log(s),this.setState({nameList:s}),e.next=24;break;case 23:this.setState({errors:"Please check the Teacher Name!"});case 24:case 25:return e.abrupt("break",26);case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onClick",value:function(){var e=this.props,t=e.handleAddTeacher,a=e.onClick,n=this.state,r=n.uuid;t(n.search,r),a()}},{key:"render",value:function(){var e=this.state,t=e.search,a=e.searchBy,n=e.errors,s=e.nameList;return r.a.createElement(ea,null,r.a.createElement(Ea,{title:"Find Teacher",search:t,onSearchChange:this.handleSearchTemp,searchBy:a,onSearchByChange:this.handleSearchByTemp,onClick:this.onClick,errors:n,nameList:s}),r.a.createElement(Gt,null,null===this.state.nameList?null:r.a.createElement(_a,{nameList:s,handleClick:this.handleClick})))}}]),a}(r.a.Component),Sa=ka,Na=function(e){return xe(Ee).put("".concat("users/").concat(e).concat("/password"))},Oa=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(v.a)(a,[{key:"resetPassword",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.uuid,n=t.toggle,this.setState({loading:!0}),e.next=4,Na(a).then((function(){return r.setState({loading:!1},(function(){n()}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.resetPassword()}},{key:"render",value:function(){var e=this;return r.a.createElement(Xt,{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(ze,null,r.a.createElement(A,null)):null,r.a.createElement("h4",null,"\xa0\xa0\xa0\xa0Are your sure to reset?"),r.a.createElement(Qt,{type:"submit"},"Reset Confirm"))}}]),a}(r.a.Component),wa=Oa,ja=function(e){return xe(Ee).delete("users"+"/".concat(e))},Aa=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(v.a)(a,[{key:"DeleteUser",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.uuid,n=t.toggle,r=t.onSubmit,this.setState({loading:!0}),e.next=4,ja(a).then((function(){return s.setState({loading:!1},(function(){n(),r()}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.DeleteUser()}},{key:"render",value:function(){var e=this;return r.a.createElement(Xt,{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(ze,null,r.a.createElement(A,null)):null,r.a.createElement("h4",null,"\xa0\xa0\xa0Are your sure to delete?"),r.a.createElement(Qt,{type:"submit"},"Delete Confirm"))}}]),a}(r.a.Component),Da=Aa,La=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={},n}return Object(v.a)(a,[{key:"renderPopupWindow",value:function(e){switch(e){case"CHANGE_PASSWORD":return r.a.createElement(na,null);case"RESET_PASSWORD":return r.a.createElement(wa,this.props);case"DELETE_USER":return r.a.createElement(Da,this.props);case"ADD_TEACHER_TO_COURSE":return r.a.createElement(Sa,Object.assign({},this.props,{onClick:this.props.toggle}));case"ENROL":return r.a.createElement(oa,this.props);case"VIEW_REPORT":return r.a.createElement(fa,Object.assign({onClick:this.props.toggle},this.props));case"MARKING":return r.a.createElement(la,{onClick:this.props.toggle,id:this.props.id});default:return null}}},{key:"render",value:function(){return r.a.createElement("div",{className:Ht.a.mask},r.a.createElement("div",{className:Ht.a.wrapper},r.a.createElement("span",{className:Ht.a.close,onClick:this.props.toggle},"\xd7"),this.renderPopupWindow(this.props.type)))}}]),a}(r.a.Component),Ia=La,Pa=a(78),xa=a.n(Pa),Ta=Object(C.b)(null,(function(e){return{logOut:function(){e({type:"LOG_OUT"}),e(de("Dashboard","Dashboard"))}}}))((function(e){var t=e.logOut;return r.a.createElement("button",{"data-testid":"btn",className:"".concat(xa.a.btn," + ").concat(xa.a.logOutBtn),onClick:t,to:"/login"},"Log Out")})),Ba=Object(u.g)(Ta),Ma=a(30),Ra=a.n(Ma),Ua=function(e){var t=e.loaded,a=e.wrongType,n=e.overSize,s=e.success,l=e.fileName,c=e.onChange,i=e.handleConfirm;return r.a.createElement("div",{"data-testid":"btn",className:Ra.a.uploadContainer},r.a.createElement("input",{id:"UPLOAD",className:Ra.a.uploadInput,type:"file",onChange:c}),r.a.createElement("label",{htmlFor:"UPLOAD",className:Ra.a.uploadLabel},r.a.createElement("div",{className:"".concat(Ra.a.btn," + ").concat(Ra.a.uploadBtn)},t?l:"Upload")),!t||a||n||s?null:r.a.createElement("button",{className:"".concat(Ra.a.btn," + ").concat(Ra.a.confirmBtn),onClick:function(e){return i(e)}},"Confirm"),r.a.createElement("div",{className:Ra.a.floatWarning},a?r.a.createElement("div",{className:Ra.a.warningText},"X Only support .pdf format. Please uploaded again."):null,n?r.a.createElement("div",{className:Ra.a.warningText},"X Only support file size less than 15 MB. Please uploaded again."):null,s?r.a.createElement("div",{className:Ra.a.successText},"Upload Successfully."):null))},Fa=function(e){var t=e.onClick;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ut.a.btn," + ").concat(Ut.a.themeBtn)},"Mark")},Ha=function(e){var t=e.onClick;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ut.a.btn," + ").concat(Ut.a.themeBtn)},"Enrol")},Wa=function(e){var t=e.onClick;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ut.a.btn," + ").concat(Ut.a.themeBtn)},"Change Password")},Va=function(e){var t=e.onClick;return r.a.createElement("button",{onClick:t,className:"".concat(Ut.a.btn," + ").concat(Ut.a.themeBtn)},"Reset Password")},qa=function(e){var t=e.onClick;return r.a.createElement("button",{onClick:t,className:"".concat(Ut.a.btn," + ").concat(Ut.a.deleteBtn)},"Delete")},za=function(e){var t=e.onClick;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ut.a.btn," + ").concat(Ut.a.themeBtn)},"View")},Ga=function(e){var t=e.onClick,a=e.name;return r.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ut.a.btn," + ").concat(Ut.a.themeBtn)},a||"Add"," Teacher")},Za=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={seen:!1},n.togglePop=n.togglePop.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"togglePop",value:function(){this.setState({seen:!this.state.seen})}},{key:"renderButton",value:function(e){var t=this;switch(e){case"CHANGE_PASSWORD":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wa,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Ia,{type:"CHANGE_PASSWORD",toggle:this.togglePop}):null);case"RESET_PASSWORD":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Va,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Ia,Object.assign({},this.props,{type:"RESET_PASSWORD",toggle:this.togglePop})):null);case"DELETE_USER":return r.a.createElement(r.a.Fragment,null,r.a.createElement(qa,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Ia,Object.assign({onSubmit:this.props.redirectToUsrManagement},this.props,{type:"DELETE_USER",toggle:this.togglePop})):null);case"UPLOAD":return r.a.createElement(Ua,this.props);case"LOGOUT":return r.a.createElement(Ba,null);case"ADD_TEACHER_TO_COURSE":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ga,{name:this.props.name,onClick:function(e){e.preventDefault(),t.togglePop()}}),this.state.seen?r.a.createElement(Ia,Object.assign({type:"ADD_TEACHER_TO_COURSE"},this.props,{toggle:this.togglePop})):null);case"ENROL":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ha,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Ia,Object.assign({type:"ENROL"},this.props,{toggle:function(){t.togglePop()}})):null);case"VIEW_REPORT":return r.a.createElement(r.a.Fragment,null,r.a.createElement(za,{onClick:this.togglePop}),this.state.seen?r.a.createElement(Ia,Object.assign({type:"VIEW_REPORT"},this.props,{toggle:function(){t.togglePop()}})):null);case"MARKING":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fa,Object.assign({},this.props,{onClick:this.togglePop})),this.state.seen?r.a.createElement(Ia,Object.assign({type:"MARKING"},this.props,{toggle:function(){t.props.handleReview(),t.togglePop()}})):null);default:return null}}},{key:"render",value:function(){return r.a.createElement("div",{className:Ut.a.wrapper},this.renderButton(this.props.type))}}]),a}(r.a.Component),Ya=function(e){var t=e.title;return r.a.createElement("div",{className:Mt.a.wrapper},r.a.createElement("h2",{className:Mt.a.title},t),r.a.createElement(Za,{type:"LOGOUT"}))},Ka=a(120),Ja=a.n(Ka),$a=a(31),Qa=a.n($a),Xa=function(e){var t=e.children;return r.a.createElement("div",{className:Qa.a.indexItem},t)},en=function(e){var t=e.children,a=Object(R.a)(e,["children"]);return r.a.createElement("div",Object.assign({"data-testid":"table-item",className:Qa.a.item},a),t)},tn=function(e){var t=e.children,a=e.disable,n=Object(R.a)(e,["children","disable"]);return r.a.createElement("div",Object.assign({"data-testid":"row",className:"".concat(Qa.a.row," ").concat(a?null:Qa.a.links)},n),t)},an=function(e){var t=e.children;return r.a.createElement("div",{className:Qa.a.headerRow},t)},nn=function(e){var t=e.children;return r.a.createElement("div",{className:Qa.a.table},t)},rn=function(e){var t=e.currentPage,a=e.handlePageChange,n=e.totalPage;return r.a.createElement("div",{className:Qa.a.pagination},1===t?r.a.createElement("div",null):r.a.createElement("div",{"data-testid":"prev",className:Qa.a.clickable,onClick:function(){return a(t-1)}},"Prev"),r.a.createElement("div",{className:Qa.a.number},"- ",t," -"),t===n?r.a.createElement("div",null):r.a.createElement("div",{"data-testid":"next",className:Qa.a.clickable,onClick:function(){return a(t+1)}},"Next"),r.a.createElement("div",{className:Qa.a.total,"data-testid":"totalPage"},"Total Page of ",n))},sn=function(e){return r.a.createElement(en,{key:e+Math.random()},e)},ln=Object(C.b)(null,(function(e){return{onClick:function(t,a,n,r){e(de(t,a,n,r))}}}))((function(e){var t=e.onClick,a=e.RenderObj,n=e.toPageID,s=a.disable,l=a.name,c=a.id,i=a.secondID,o=(a.comment,a.index),u=Object(R.a)(a,["disable","name","id","secondID","comment","index"]);return u=function(e){var t={};return Object.keys(e).sort().forEach((function(a){return t[a]=e[a]})),t}(u),r.a.createElement(tn,{key:"name_"+Math.random(),disable:s,onClick:function(e){return e.preventDefault(),s?null:t(l,n,c,i)}},r.a.createElement(Xa,null,o+1),r.a.createElement(en,null,l),function(e){var t=[];for(var a in e)t.push(sn(e[a]));return t}(u))})),cn=a(121),on=a.n(cn),un=function(){return r.a.createElement("div",{"data-testid":"loading",className:on.a.loading},r.a.createElement("h4",null,"Loading..."))},hn=a(79),mn=a.n(hn),dn=function(e){var t=e.children;return r.a.createElement("div",{className:mn.a.wrapper},r.a.createElement("div",{className:mn.a.container},t))},pn={},gn=function(e,t){var a=xe(Ee);switch(e){case"courseId":return a.get("/query/courses?code"+"=".concat(t),pn).then((function(e){return e.data.courseList})).catch((function(e){return console.log(e.response)}));case"courseName":return a.get("/query/courses?name"+"=".concat(t),pn).then((function(e){return e.data.courseList})).catch((function(e){return console.log(e.response)}));default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},fn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleSearchByTemp=function(e){n.props.onSearchByChange(e.target.value)},n.handleSearchTemp=function(e){n.props.onSearchChange(e.target.value)},n.state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Xt,{onSubmit:function(t){t.preventDefault(),e.props.onClick(t)}},this.props.title?r.a.createElement(zt,null,this.props.title):null,r.a.createElement(Kt,null,r.a.createElement(Gt,null,r.a.createElement("select",{value:this.props.searchBy,onChange:this.handleSearchByTemp},r.a.createElement("option",{value:"Course Name"},"Course Name"),r.a.createElement("option",{value:"Course ID"},"Course ID"))),r.a.createElement(Gt,null,r.a.createElement("input",{placeholder:"Enter ID or Name...",type:"text",value:this.props.search,onChange:this.handleSearchTemp})),r.a.createElement(ta,{className:"error",searchBar:!0},this.props.errors),r.a.createElement(Zt,{type:"submit"})))}}]),a}(r.a.Component),vn=a(122),En=a.n(vn),bn=function(e){var t=e.text;return r.a.createElement("div",{className:En.a.wrapper},t)},_n=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleSearchByTemp=function(e){n.setState({searchBy:e}),console.log(n.state.searchBy)},n.handleSearchTemp=function(e){var t=n.state.errors;t=RegExp(/^[a-zA-Z0-9]+$/).test(e)?"":"Invalid Input!",n.setState({errors:t,search:e}),console.log(n.state.search,n.state.errors)},n.state={page:1,paginationArray:[],search:"",searchBy:"Course Name",courseList:[],errors:""},n.onSubmit=n.onSubmit.bind(Object(J.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getCourseName",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=RegExp(/^([0-9]*)$/),n=RegExp(/^([a-zA-Z]*)$/),this.setState({page:1}),e.t0=t,e.next="Course ID"===e.t0?6:"Course Name"===e.t0?15:25;break;case 6:if(!0!==a.test(this.state.search)){e.next=13;break}return e.next=9,gn("courseId",this.state.search);case 9:r=e.sent,this.setState({courseList:r,paginationArray:We(r,8)}),e.next=14;break;case 13:this.setState({errors:"Please check the Course ID!"});case 14:return e.abrupt("break",26);case 15:if(!0!==n.test(this.state.search)){e.next=23;break}return e.next=18,gn("courseName",this.state.search);case 18:s=e.sent,console.log(s),this.setState({courseList:s,paginationArray:We(s,8)}),e.next=24;break;case 23:this.setState({errors:"Please check the Course Name!"});case 24:case 25:return e.abrupt("break",26);case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidWillMount",value:function(){this.state.searchBy!==this.props.searchBy&&this.setState({errors:""})}},{key:"componentDidMount",value:function(){this.getCourseName()}},{key:"onSubmit",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.search){e.next=5;break}this.setState({errors:"Please Input Something!"}),e.next=14;break;case 5:if(""!==this.state.errors){e.next=10;break}return e.next=8,console.log(this.state.searchBy),this.getCourseName(this.state.searchBy);case 8:e.next=14;break;case 10:if(this.state.searchBy===this.props.searchBy){e.next=14;break}return this.setState({errors:""}),e.next=14,console.log(this.state.searchBy),this.getCourseName(this.state.searchBy);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderCourseList",value:function(){var e=this.state,t=e.page,a=e.paginationArray[t-1];return console.log(a),a.map((function(e,t){var a=e.id,n=e.name,s=a;console.log(e);var l={index:t,name:n,id:a,courseId:s};return r.a.createElement(ln,{key:"CourseManagement"+Math.random(),RenderObj:l,toPageID:"CourseDetail"})}))}},{key:"renderContent",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(bn,{text:"There is no such course!"}):r.a.createElement(nn,null,r.a.createElement(an,null,r.a.createElement(Xa,null,"No:"),r.a.createElement(en,null,"Course Name:"),r.a.createElement(en,null,"Course ID:")),this.renderCourseList(),r.a.createElement(rn,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"render",value:function(){return r.a.createElement(dn,null,r.a.createElement(fn,{title:this.props.title,search:this.state.search,onSearchChange:this.handleSearchTemp,searchBy:this.state.searchBy,onSearchByChange:this.handleSearchByTemp,onClick:this.onSubmit,errors:this.state.errors}),this.renderContent())}}]),a}(r.a.Component),yn=Object(C.b)((function(e){return{id:e.headerHistory.content.id,header:e.headerHistory.title}}))(_n),Cn=a(60),kn=a.n(Cn),Sn=new Date,Nn=Sn.getFullYear(),On=Sn.getMonth()<7?1:2,wn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={postSuccessful:!1,loading:!1,notNullableError:"",name:null,location:null,introduction:null,assessment:null,workLoad:12.5,learningOutcome:null,teacherName:"",teacherUuid:"",year:Nn,semester:On,subjectId:n.props.subjectId,courseId:n.props.courseId},n.handleTeacherUuidChange=n.handleTeacherUuidChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handleTeacherUuidChange",value:function(e,t){console.log(e,t),this.setState({teacherUuid:t,teacherName:e,notNullableError:""},this.checkNull)}},{key:"checkNull",value:function(){var e=this.state,t=(e.postSuccessful,e.loading,e.notNullableError,e.workLoad,e.year,e.semester,e.subjectId,e.courseId,e.teacherUuid,Object(R.a)(e,["postSuccessful","loading","notNullableError","workLoad","year","semester","subjectId","courseId","teacherUuid"]));for(var a in t)t[a]&&t[a].trim()||("teacherName"===a?this.setState({notNullableError:"Must assign a teacher to a course."}):this.setState({notNullableError:"No empty input is allowed."}))}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(g.a)(n,e,r),Object(g.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"sendData",value:function(e){var t=this.state,a=t.subjectId,n=t.courseId,r=t.teacherUuid;switch(this.props.apiMethod){case"POST":return function(e){return xe(Ee).post("/courses",e)}(Object(h.a)({},e,{teacherUuid:r,subjectId:a}));case"PUT":return function(e){var t=e.courseId;return xe(Ee).put("".concat("/courses","/").concat(t),e)}(Object(h.a)({},e,{courseId:n}));default:return null}}},{key:"postCourse",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.postSuccessful,t.loading,t.notNullableError,t.teacherName,t.teacherUuid,t.courseId,t.subjectId,a=Object(R.a)(t,["postSuccessful","loading","notNullableError","teacherName","teacherUuid","courseId","subjectId"]),this.setState({loading:!0}),e.next=4,this.sendData(a).then((function(){n.setState({loading:!1,postSuccessful:!0},(function(){n.props.handleSubmit(),setTimeout((function(){return n.setState({postSuccessful:!1})}),2e3)}))})).catch(console.log);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.postCourse()}},{key:"componentDidMount",value:function(){if(console.log(this.props),this.props.hasOwnProperty("detail")){var e=this.props.detail,t=e.name,a=e.workLoad,n=e.location,r=e.learningOutcome,s=e.assessment,l=e.introduction,c=e.teacherName;this.setState({name:t,workLoad:a,location:n,learningOutcome:r,assessment:s,teacherName:c,introduction:l})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.workLoad,s=t.location,l=t.learningOutcome,c=t.assessment,i=t.introduction,o=t.teacherName;return r.a.createElement(dn,null,r.a.createElement(Xt,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?r.a.createElement(ze,{background:!0},r.a.createElement(A,null)):null,r.a.createElement(zt,null,this.props.title),r.a.createElement(Jt,null,r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"name"},"Name: "),r.a.createElement("input",{id:"name",type:"text",value:null===a?"":a,placeholder:"Enter name for the course",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("name")(t)}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"workLoad"},"Course points:"),r.a.createElement("select",{onChange:function(t){return e.handleValueChange("workLoad")(t)},required:!0,value:null===n?"":n,id:"workLoad"},r.a.createElement("option",{value:12.5},"12.5"),r.a.createElement("option",{value:25},"25"),r.a.createElement("option",{value:37.5},"37.5"),r.a.createElement("option",{value:50},"50"),r.a.createElement("option",{value:100},"100"))),"POST"===this.props.apiMethod?r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"AddTeacherBtn"},"Teacher:"),o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,o),r.a.createElement(Za,{name:"Change",handleAddTeacher:this.handleTeacherUuidChange,id:"AddTeacherBtn",type:"ADD_TEACHER_TO_COURSE"})):r.a.createElement(Za,{handleAddTeacher:this.handleTeacherUuidChange,id:"AddTeacherBtn",type:"ADD_TEACHER_TO_COURSE"})):null),r.a.createElement(Jt,null,r.a.createElement(Gt,null,r.a.createElement("label",null," Year: "),r.a.createElement("div",null,Nn)),r.a.createElement(Gt,null,r.a.createElement("label",null," Semester: "),r.a.createElement("div",null,On)),"PUT"===this.props.apiMethod?r.a.createElement(Gt,null,r.a.createElement("label",null,"Teacher:"),r.a.createElement("div",null,o)):null),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"location"},"Location: "),r.a.createElement("input",{id:"location",type:"text",value:null===s?"":s,placeholder:"Enter location for the course",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("location")(t)}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"outcome"},"Learning Outcome: "),r.a.createElement("textarea",{id:"outcome",className:kn.a.outcome,value:null===l?"":l,placeholder:"Enter learning outcomes",required:!0,onChange:function(t){e.handleValueChange("learningOutcome")(t)}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"assessment"},"Assessments: "),r.a.createElement("textarea",{id:"assessment",className:kn.a.content,value:null===c?"":c,placeholder:"Enter assessments for the course",required:!0,onChange:function(t){e.handleValueChange("assessment")(t)}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"Intro"},"Introduction: "),r.a.createElement("textarea",{id:"Intro",className:kn.a.intro,value:null===i?"":i,placeholder:"Enter introduction for the course",required:!0,onChange:function(t){e.handleValueChange("introduction")(t)}})),this.state.notNullableError?r.a.createElement($t,null,"Unable to Click"):r.a.createElement(Qt,{type:"submit"},"Submit"),this.state.postSuccessful?r.a.createElement(ta,null,"Successful."):null,this.state.notNullableError?r.a.createElement(ta,{className:"error"},this.state.notNullableError):null))}}]),a}(r.a.Component),jn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],subjectId:0,courseList:null,loading:!0},n.handleSubmit=n.handleSubmit.bind(Object(J.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getCourseList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({page:1,loading:!0}),e.next=3,n=this.props.id,xe(Ee).get("".concat("subjects/").concat(n)).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:t=e.sent,a=t.courseList,this.setState({courseList:a,paginationArray:We(a,5),loading:!1});case 6:case"end":return e.stop()}var n}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){this.getCourseList()}},{key:"componentDidUpdate",value:function(){var e=this;this.state.subjectId!==this.props.id&&this.setState({subjectId:this.props.id},(function(){return e.getCourseList()}))}},{key:"componentDidMount",value:function(){this.getCourseList()}},{key:"renderCoursesList",value:function(){var e=this.state,t=e.page;return e.paginationArray[t-1].map((function(e,t){var a=e.name,n=e.id,s=e.courseCode,l=e.year,c={index:t,name:a,id:n,a_courseCode:s,b_semester:e.semester,c_year:l};return r.a.createElement(ln,{key:"SubjectCourse"+Math.random(),RenderObj:c,toPageID:"CourseDetail"})}))}},{key:"renderContent",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(bn,{text:"No courses under this subject."}):r.a.createElement(nn,null,r.a.createElement(an,null,r.a.createElement(Xa,null,"No:"),r.a.createElement(en,null,"Name:"),r.a.createElement(en,null,"Code:"),r.a.createElement(en,null,"Semester:"),r.a.createElement(en,null,"Year:")),this.renderCoursesList(),r.a.createElement(rn,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"render",value:function(){var e=this.props,t=e.role,a=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,null,this.state.loading?r.a.createElement(un,null):this.renderContent()),r.a.createElement(yn,{title:"Search In Course Market"}),"ADMIN"===t?r.a.createElement(wn,{subjectId:a,handleSubmit:this.handleSubmit,apiMethod:"POST",title:"Post New Course"}):null)}}]),a}(r.a.Component),An=Object(C.b)((function(e){return{id:e.headerHistory.content.id,role:e.Authentication.role}}))(jn),Dn=a(80),Ln=a.n(Dn),In=function(e,t){return e.dueDate<t.dueDate?1:-1},Pn=function(e){return function(e){var t=!0;return e.forEach((function(e){return t=e.hasOwnProperty("dueDate")})),t}(e)?e.sort(In):"no property of 'dueDate' is found in each object"},xn={params:{detail:"assignments"}},Tn=function(e){return xe(Ee).get("".concat("/courses/").concat(e),xn).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},Bn=function(e,t,a,n,r){var s=Le.getState().userInfo.name;return xe(Ee).post("".concat("courses/").concat(r,"/").concat("assignments/"),{title:e,acceptanceCriteria:t,content:a,dueDate:n,publisher:s})},Mn=a(49),Rn=a.n(Mn),Un=function(e){var t=e.title,a=e.description;return r.a.createElement("div",{className:Rn.a.detailWrapper},r.a.createElement("h3",null,t),r.a.createElement("p",{className:Rn.a.description},a))},Fn=function(e){var t=e.title,a=e.children,n=e.description,s=Object(R.a)(e,["title","children","description"]);return r.a.createElement("div",{className:Rn.a.wrapper},r.a.createElement("div",{className:Rn.a.heading},r.a.createElement(Un,{title:t,description:n})),r.a.createElement("div",{"data-testid":"content",className:s.hasOwnProperty("background")?Rn.a.functionalComponent:null},a))},Hn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],courseAssignmentId:0,assignmentList:null,notNullableError:"",loading:!0,acceptanceCriteria:"",content:"",title:"",dueDate:"",publishLoading:!1,publishSuccessful:!1},n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getAssignmentList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({page:1,loading:!0}),e.next=3,Tn(this.props.id);case 3:t=e.sent,a=t.assignmentList,this.setState({assignmentList:a,paginationArray:We(Pn(a),5),loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this;this.state.courseAssignmentId!==this.props.id&&this.setState({courseAssignmentId:this.props.id},(function(){return e.getAssignmentList()}))}},{key:"componentDidMount",value:function(){this.getAssignmentList()}},{key:"renderAssignmentList",value:function(){var e=this,t=this.state,a=t.page,n=t.paginationArray;if(0===n.length)return r.a.createElement(bn,{text:"You have not post assignment yet"});var s=n[a-1];return[].concat(Object(He.a)(s.map((function(t,a){var n=t.title,s=t.id,l=t.dueDate,c={index:a,name:n,id:s,secondID:e.props.id,dueDate:l+" 11:59 pm "};return r.a.createElement(ln,{key:"TeacherCourseAssignment"+Math.random(),RenderObj:c,toPageID:"Assignment"})}))),[r.a.createElement(rn,{key:"TeacherCourseAssignment"+Math.random(),currentPage:a,handlePageChange:this.handlePageChange,totalPage:n.length})])}},{key:"checkNull",value:function(){var e=this.state,t=(e.courseAssignmentId,e.assignmentList,e.notNullableError,e.loading,e.dueDate,e.publishLoading,e.publishSuccessful,e.page,e.paginationArray,Object(R.a)(e,["courseAssignmentId","assignmentList","notNullableError","loading","dueDate","publishLoading","publishSuccessful","page","paginationArray"]));for(var a in t)t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(g.a)(n,e,r),Object(g.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"publishAssignment",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.title,a=this.state.acceptanceCriteria,n=this.state.content,r=this.state.courseAssignmentId,s=this.state.dueDate,this.setState({publishLoading:!0}),e.next=8,Bn(t,a,n,s,r).then((function(){l.getAssignmentList(),l.setState({publishLoading:!1,publishSuccessful:!0},(function(){return setTimeout((function(){return l.setState({publishSuccessful:!1})}),2e3)}))})).catch(console.log);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.publishAssignment()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,null,r.a.createElement(nn,null,r.a.createElement(an,null,r.a.createElement(Xa,null,"No:"),r.a.createElement(en,null,"Assignment Name:"),r.a.createElement(en,null,"Assignment Due:")),this.state.loading?r.a.createElement(un,null):this.renderAssignmentList())),r.a.createElement(dn,null,r.a.createElement(Xt,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},r.a.createElement(zt,null,"Publish New Assignment"),this.state.publishLoading?r.a.createElement(ze,{background:!0},r.a.createElement(A,null)):null,r.a.createElement(Jt,null,r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"title"},"Title: "),r.a.createElement("input",{id:"title",type:"text",placeholder:"Enter title for the assignment",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("title")(t)}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"dueDate"},"Due Date (11:59 pm):"),r.a.createElement("input",{onChange:function(t){return e.handleValueChange("dueDate")(t)},required:!0,type:"date",id:"dueDate"}))),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"AC"},"Criteria: "),r.a.createElement("textarea",{id:"AC",className:Ln.a.acceptance,placeholder:"Enter acceptance criteria",required:!0,onChange:function(t){e.handleValueChange("acceptanceCriteria")(t)}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"content"},"Content: "),r.a.createElement("textarea",{id:"content",className:Ln.a.content,placeholder:"Enter assignment content",required:!0,onChange:function(t){e.handleValueChange("content")(t)}})),this.state.notNullableError?r.a.createElement($t,null,"Unable to Click"):r.a.createElement(Qt,{type:"submit"},"Publish Assignment"),this.state.notNullableError?r.a.createElement(ta,{className:"error"},this.state.notNullableError):null,this.state.publishSuccessful?r.a.createElement(ta,null,"Assignment published successfully."):null)),r.a.createElement(Fn,{title:"Files Exchange Functionality Is Coming Soon..."}))}}]),a}(r.a.Component),Wn=Object(C.b)((function(e){return{id:e.headerHistory.content.id}}))(Hn),Vn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleRoleTemp=function(e){n.props.onRoleChange(e.target.value)},n.handleSearchTemp=function(e){n.props.onSearchChange(e.target.value)},n.state={},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Xt,{onSubmit:function(t){t.preventDefault(),e.props.onClick(t)}},r.a.createElement(Kt,null,r.a.createElement(Gt,null,r.a.createElement("select",{value:this.props.role,onChange:this.handleRoleTemp},r.a.createElement("option",{value:"student"},"Student"),r.a.createElement("option",{value:"teacher"},"Teacher"))),r.a.createElement(Gt,null,r.a.createElement("input",{placeholder:"Enter ID or Name...",type:"text",value:this.props.search,onChange:this.handleSearchTemp})),r.a.createElement(ta,{className:"error",searchBar:!0},this.props.errors),r.a.createElement(Zt,{type:"submit"})))}}]),a}(r.a.Component),qn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleRoleTemp=function(e){n.setState({role:e})},n.handleSearchTemp=function(e){var t=n.state.errors;t=RegExp(/^[a-zA-Z0-9]+$/).test(e)?"":"Invalid Input!",n.setState({errors:t,search:e})},n.state={page:1,paginationArray:[],search:"",role:"student",nameList:[],errors:""},n.onSubmit=n.onSubmit.bind(Object(J.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getUserName",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,s,l,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=RegExp(/^(s[0-9]*)$/),n=RegExp(/^([a-zA-Z]*)$/),r=RegExp(/^(t[0-9]*)$/),s=RegExp(/^([a-zA-Z]*)$/),this.setState({page:1}),e.t0=t,e.next="student"===e.t0?8:"teacher"===e.t0?25:42;break;case 8:if(!0!==a.test(this.state.search)){e.next=15;break}return e.next=11,Ca("studentId",this.state.search);case 11:l=e.sent,this.setState({nameList:l,paginationArray:We(l.filter((function(e){return!0===e.active})),8)}),e.next=24;break;case 15:if(!0!==n.test(this.state.search)){e.next=23;break}return e.next=18,Ca("studentName",this.state.search);case 18:c=e.sent,this.setState({nameList:c,paginationArray:We(c.filter((function(e){return!0===e.active})),8)}),console.log(this.state.paginationArray),e.next=24;break;case 23:this.setState({errors:"Please check the StudentID!"});case 24:return e.abrupt("break",42);case 25:if(!0!==r.test(this.state.search)){e.next=33;break}return e.next=28,Ca("teacherId",this.state.search);case 28:i=e.sent,console.log(i),this.setState({nameList:i,paginationArray:We(i.filter((function(e){return!0===e.active})),8)}),e.next=41;break;case 33:if(!0!==s.test(this.state.search)){e.next=40;break}return e.next=36,Ca("teacherName",this.state.search);case 36:o=e.sent,this.setState({nameList:o,paginationArray:We(o.filter((function(e){return!0===e.active})),8)}),e.next=41;break;case 40:this.setState({errors:"Please check the TeacherID!"});case 41:return e.abrupt("break",42);case 42:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.search){e.next=5;break}this.setState({errors:"Please Input Something!"}),e.next=14;break;case 5:if(""!==this.state.errors){e.next=10;break}return e.next=8,console.log(this.state.role),this.getUserName(this.state.role);case 8:e.next=14;break;case 10:if(this.state.role===this.props.role){e.next=14;break}return this.setState({errors:""}),e.next=14,console.log(this.state.role),this.getUserName(this.state.role);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderUserList",value:function(){var e=this.state,t=e.page,a=e.paginationArray[t-1],n=this.state.role;return a.map((function(e,t){var a=e.uuid,s=e.name,l=e.campusId,c={index:t,id:a,secondID:n,name:s,campusId:l};return r.a.createElement(ln,{key:"UserManagement"+Math.random(),RenderObj:c,toPageID:"UserInfo"})}))}},{key:"renderContent",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(bn,{text:"There is no such user!"}):r.a.createElement(nn,null,r.a.createElement(an,null,r.a.createElement(Xa,null,"No:"),r.a.createElement(en,null,"Name:"),r.a.createElement(en,null,"Campus ID:")),this.renderUserList(),r.a.createElement(rn,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"render",value:function(){return r.a.createElement(dn,null,r.a.createElement(Vn,{search:this.state.search,onSearchChange:this.handleSearchTemp,role:this.state.role,onRoleChange:this.handleRoleTemp,onClick:this.onSubmit,errors:this.state.errors}),this.renderContent())}}]),a}(r.a.Component),zn=Object(C.b)((function(e){return{id:e.headerHistory.content.id,secondID:e.headerHistory.content.secondID,header:e.headerHistory.title}}))(qn),Gn=a(61),Zn=a.n(Gn),Yn=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={userInfo:null,loading:!0},n}return Object(v.a)(a,[{key:"getUserInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt(this.props.userRole,this.props.userID);case 2:if(t=e.sent,"student"!==this.props.userRole){e.next=8;break}a=t||{name:"Loading ..."},this.setState({userInfo:a,loading:!1}),e.next=18;break;case 8:if("teacher"!==this.props.userRole){e.next=13;break}n=t||{name:"Loading ..."},this.setState({userInfo:n,loading:!1}),e.next=18;break;case 13:return e.next=15,Nt(this.props.secondID,this.props.id);case 15:r=e.sent,s=r||{name:"Loading ..."},this.setState({userInfo:s,loading:!1});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"render",value:function(){return r.a.createElement("div",{className:Zn.a.wrapper},this.state.loading?r.a.createElement(un,null):r.a.createElement(r.a.Fragment,null,this.state.userInfo.hasOwnProperty("title")?r.a.createElement(Fn,{title:"Title",background:!0},null!==this.state.userInfo.title?this.state.userInfo.title:r.a.createElement("span",{className:Zn.a.noText},"No Title.")):null,this.state.userInfo.hasOwnProperty("introduction")?r.a.createElement(Fn,{title:"Introduction",background:!0},null!==this.state.userInfo.title?this.state.userInfo.introduction:r.a.createElement("span",{className:Zn.a.noText},"No Introduction.")):null,r.a.createElement(Fn,{title:"Name",background:!0},this.state.userInfo.name),"admin"===this.props.userRole?r.a.createElement(Fn,{title:"Reset Password"},r.a.createElement(Za,{type:"RESET_PASSWORD",uuid:this.props.id})):r.a.createElement(Fn,{title:"Change Password"},r.a.createElement(Za,{type:"CHANGE_PASSWORD"})),"admin"===this.props.userRole?r.a.createElement(Fn,{title:"Delete User"},r.a.createElement(Za,{type:"DELETE_USER",uuid:this.props.id,redirectToUsrManagement:this.props.redirectToUsrManagement})):null))}}]),a}(r.a.Component),Kn=Object(C.b)((function(e){return{id:e.headerHistory.content.id,secondID:e.headerHistory.content.secondID,userRole:e.Authentication.role.toLowerCase(),userID:e.Authentication.uuid}}),(function(e){return{redirectToUsrManagement:function(){return e(de("User management","Users"))}}}))(Yn),Jn={params:{detail:"students"}},$n={params:{detail:"teachers"}},Qn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"students",a=xe(Ee);return"students"===t?a.get("".concat("/courses/").concat(e),Jn).then((function(e){return e.data})).catch((function(e){return console.log(e)})):"teachers"===t?a.get("".concat("/courses/").concat(e),$n).then((function(e){return e.data})).catch((function(e){return console.log(e)})):void 0},Xn=function(e){var t=e.enrolled,a=e.id,n=e.handleEnrol;return t?r.a.createElement(Fn,{title:"Enrol This Course",background:!0},"You have already enrolled in this course."):r.a.createElement(Fn,{title:"Enrol This Course",description:"currently enrolment are for free"},r.a.createElement(Za,{type:"ENROL",id:a,handleEnrol:n}))},er=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={studentList:[],courseDetail:null,loading:!0,enrolled:!1,editableDetail:null},n.handleEnrol=n.handleEnrol.bind(Object(J.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handleEnrol",value:function(){this.setState({enrolled:!0})}},{key:"handleSubmit",value:function(){this.getCourseDetail()}},{key:"componentDidMount",value:function(){this.getCourseDetail()}},{key:"getCourseDetail",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l,c,i,o,u,h,m,p=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(this.props.id);case 2:return t=e.sent,a=t.course,n=t.studentList,e.next=7,Qn(this.props.id,"teachers");case 7:r=e.sent,s=r.teacherList,l=a.assessment,c=a.learningOutcome,i=a.workLoad,o=a.location,u=a.name,h=a.introduction,m={assessment:l,learningOutcome:c,workLoad:i,location:o,name:u,introduction:h,teacherName:s[0]?s[0].name:""},this.setState({studentList:n,courseDetail:a,loading:!1,editableDetail:m},(function(){p.checkEnrollment(),p.props.addHeader(u,p.props.id)}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkEnrollment",value:function(){var e=this,t=this.state.studentList,a=this.props.uuid;t.forEach((function(t){return t.uuid===a?e.setState({enrolled:!0}):null}))}},{key:"renderCourseDetail",value:function(){var e=this.state.courseDetail,t=e.year,a=e.assessment,n=e.learningOutcome,s=e.courseCode,l=e.workLoad,c=e.location,i=e.name,o=e.introduction,u=e.semester,h=this.state.editableDetail.teacherName;return r.a.createElement(ga,null,r.a.createElement(ma,null,s," - ",i),r.a.createElement(da,null,t," ",c),r.a.createElement(da,null,"Semester: "),r.a.createElement(pa,null," ",u," "),r.a.createElement(da,null,"Credit Points: "),r.a.createElement(pa,null," ",l," "),r.a.createElement(da,null,"Course Introduction: "),r.a.createElement(pa,null," ",o," "),r.a.createElement(da,null,"Learning Outcomes: "),r.a.createElement(pa,null," ",n," "),r.a.createElement(da,null,"Assessments: "),r.a.createElement(pa,null," ",a," "),h?r.a.createElement(r.a.Fragment,null,r.a.createElement(da,null,"Teacher: "),r.a.createElement(pa,null," ",h," ")):null)}},{key:"render",value:function(){var e=this.props,t=e.userRole,a=e.id,n=this.state,s=n.enrolled,l=n.editableDetail;return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,null,this.state.loading?r.a.createElement(un,null):this.renderCourseDetail()),"STUDENT"===t?r.a.createElement(Xn,{id:a,enrolled:s,handleEnrol:this.handleEnrol}):null,"ADMIN"===t?this.state.loading?null:r.a.createElement(wn,{courseId:a,detail:l,handleSubmit:this.handleSubmit,apiMethod:"PUT",title:"Edit Course"}):null)}}]),a}(r.a.Component),tr=Object(C.b)((function(e){return{id:e.headerHistory.content.id,userRole:e.Authentication.role,uuid:e.Authentication.uuid}}),(function(e){return{addHeader:function(t,a){return e(de(t,"CourseDetail",a))}}}))(er),ar=a(48),nr=a.n(ar),rr=function(e){return xe(Ee).post("/subjects",e)},sr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={postSuccessful:!1,loading:!1,errorMessage:"",notNullableError:"",name:"",subjectCode:"",introduction:""},n}return Object(v.a)(a,[{key:"handleSubjectCodeChange",value:function(){this.setState({errorMessage:""},this.validateSubjectCode)}},{key:"validateSubjectCode",value:function(){var e,t=this,a=/[A-Za-z]/;return this.state.subjectCode.split("").forEach((function(n){!a.test(n)&&n?(t.setState({errorMessage:"".concat(n," is not a valid character.")}),e=!1):n&&(e=!0)})),e}},{key:"checkNull",value:function(){var e=this.state,t=(e.postSuccessful,e.loading,e.errorMessage,e.notNullableError,Object(R.a)(e,["postSuccessful","loading","errorMessage","notNullableError"]));for(var a in t)t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(g.a)(n,e,r),Object(g.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"postSubject",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.loading,t.postSuccessful,t.errorMessage,t.notNullableError,a=Object(R.a)(t,["loading","postSuccessful","errorMessage","notNullableError"]),this.setState({loading:!0}),console.log(a),e.next=5,rr(a).then((function(){n.setState({loading:!1,postSuccessful:!0},(function(){return setTimeout((function(){return n.setState({postSuccessful:!1})}),2e3)}))})).catch(console.log);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.postSubject()}},{key:"render",value:function(){var e=this;return r.a.createElement(dn,null,r.a.createElement(Xt,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},r.a.createElement(zt,null,"Post New Subject"),this.state.loading?r.a.createElement(ze,{background:!0},r.a.createElement(A,null)):null,r.a.createElement(Jt,null,r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"name"},"Name: "),r.a.createElement("input",{id:"name",type:"text",placeholder:"Enter name for the subject",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("name")(t)}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"subjectCode",className:this.state.errorMessage?nr.a.error:null},"Subject Code:"," "),r.a.createElement("input",{id:"subjectCode",type:"text",placeholder:"Enter 3 letters subject code",minLength:3,maxLength:3,required:!0,onChange:function(t){e.handleValueChange("subjectCode")(t),e.handleSubjectCodeChange()}}))),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"Intro"},"Introduction: "),r.a.createElement("textarea",{id:"Intro",className:nr.a.intro,placeholder:"Enter introduction for the subject",required:!0,onChange:function(t){e.handleValueChange("introduction")(t)}})),this.state.errorMessage||this.state.notNullableError?r.a.createElement($t,null,"Unable to Click"):r.a.createElement(Qt,{type:"submit"},"Add New Subject"),this.state.postSuccessful?r.a.createElement(ta,null,"Successful."):null,this.state.errorMessage||this.state.notNullableError?r.a.createElement(ta,{className:"error"},this.state.errorMessage+" "+this.state.notNullableError):null))}}]),a}(r.a.Component),lr=function(e,t){var a;switch(e){case"Teacher":a="/users/teachers";break;case"Student":a="/users/students"}return xe(Ee).post(a,t)},cr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={postSuccessful:!1,loading:!1,errorMessage:"",notNullableError:"",role:" ",email:"",firstName:"",lastName:""},n}return Object(v.a)(a,[{key:"handleEmailChange",value:function(){var e=this;this.setState({errorMessage:""},(function(){return e.validateEmail()}))}},{key:"handleFirstNameChange",value:function(){var e=this;this.setState({errorMessage:""},(function(){return e.validateName(e.state.firstName)}))}},{key:"handleLastNameChange",value:function(){var e=this;this.setState({errorMessage:""},(function(){return e.validateName(e.state.lastName)}))}},{key:"validateEmail",value:function(){var e=this.state.email;return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(this.setState({errorMessage:"not a valid email."}),!1)}},{key:"validateName",value:function(e){var t,a=this,n=/[A-Za-z]/;return e.split("").forEach((function(e){!n.test(e)&&e?(a.setState({errorMessage:"".concat(e," is not a valid character.")}),t=!1):e&&(t=!0)})),t}},{key:"checkNull",value:function(){var e=this.state,t=(e.postSuccessful,e.loading,e.errorMessage,e.notNullableError,Object(R.a)(e,["postSuccessful","loading","errorMessage","notNullableError"]));for(var a in t)t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(g.a)(n,e,r),Object(g.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"postUserInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.loading,t.postSuccessful,t.errorMessage,t.notNullableError,a=t.role,n=Object(R.a)(t,["loading","postSuccessful","errorMessage","notNullableError","role"]),console.log(a,n),this.setState({loading:!0}),e.next=5,lr(a,n).then((function(){r.setState({loading:!1,postSuccessful:!0},(function(){return setTimeout((function(){return r.setState({postSuccessful:!1})}),2e3)}))})).catch(console.log);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){console.log(this.validateEmail()),!1===this.validateEmail()||this.postUserInfo()}},{key:"render",value:function(){var e=this;return r.a.createElement(dn,null,r.a.createElement(Xt,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},r.a.createElement(zt,null,"Add New User"),this.state.loading?r.a.createElement(ze,{background:!0},r.a.createElement(A,null)):null,r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"Role"},"Role: "),r.a.createElement("select",{className:nr.a.role,onChange:function(t){e.handleValueChange("role")(t)}},r.a.createElement("option",{value:"select"},"Select"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Teacher"},"Teacher"))),r.a.createElement(Jt,null,r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"email"},"Email: "),r.a.createElement("input",{id:"email",type:"text",placeholder:"Please enter the email",maxLength:30,required:!0,onChange:function(t){e.handleValueChange("email")(t),e.handleEmailChange()}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"FirstName",className:this.state.errorMessage?nr.a.error:null},"First Name:"," "),r.a.createElement("input",{id:"FirstName",type:"text",placeholder:"Please enter the FirstName",maxLength:30,required:!0,onChange:function(t){e.handleValueChange("firstName")(t),e.handleFirstNameChange()}})),r.a.createElement(Gt,null,r.a.createElement("label",{htmlFor:"LastName"},"Last Name: "),r.a.createElement("input",{id:"LastName",placeholder:"Please enter the LastName",maxLength:30,required:!0,onChange:function(t){e.handleValueChange("lastName")(t),e.handleLastNameChange()}}))),this.state.errorMessage||this.state.notNullableError?r.a.createElement($t,null,"Unable to Click"):r.a.createElement(Qt,{type:"submit"},"Add New User"),this.state.postSuccessful?r.a.createElement(ta,null,"Successful."):null,this.state.errorMessage||this.state.notNullableError?r.a.createElement(ta,{className:"error"},this.state.errorMessage+" "+this.state.notNullableError):null))}}]),a}(r.a.Component),ir=Object(C.b)((function(e){return{role:e.Authentication.role}}))((function(e){var t=e.role;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fn,{title:"Welcome"}),r.a.createElement(Fn,{title:"More Future Features Are Coming Soon..."}),"ADMIN"===t?r.a.createElement(cr,null):null,"ADMIN"===t?r.a.createElement(sr,null):null)})),or=function(e,t){var a=Le.getState().Authentication.role,n=xe(Ee);return"TEACHER"===a?n.get("".concat("/courses/").concat(t).concat("/assignments/").concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)})):"STUDENT"===a?n.get("".concat("/students").concat("/assignments/").concat(e)).then((function(e){return console.log(e.data),e.data})).catch((function(e){return console.log(e)})):void 0},ur=function(e,t){var a={fileName:e};return xe(Ee).put("".concat("/students").concat("/assignments/").concat(t),a).then((function(e){return e.data})).catch(console.log)},hr=function(e){var t=e.lastIndexOf("."),a=e.slice(t-1,e.length);return e.length>16?e.slice(0,6)+"..."+e.slice(t-5,t)+a:e},mr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={loaded:!1,file:null,fileName:"",fileType:"application/pdf",fileSize:0,success:!1,loading:!1},n.handleChange=n.handleChange.bind(Object(J.a)(n)),n.handleConfirm=n.handleConfirm.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handleChange",value:function(e){var t=this;0===e.target.files.length?console.log("file is not included"):this.setState({loaded:!0,success:!1,fileName:e.target.files[0]?e.target.files[0].name:"",fileSize:e.target.files[0]?e.target.files[0].size:0,fileType:e.target.files[0]?e.target.files[0].type:"application/pdf",file:e.target.files[0]},(function(){return console.log(t.state.file)}))}},{key:"getPreSignedUrl",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date+".pdf",e.next=3,ur(a,t);case 3:n=e.sent,r=n.url,console.log(r),this.uploadToAWS(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadToAWS",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put(t,this.state.file).then((function(e){return a.setState({loaded:!1,success:!0,loading:!1},(function(){return setTimeout((function(){return a.setState({success:!1})}),3e3)}))})).catch(console.log);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleConfirm",value:function(e){e.preventDefault(),this.setState({loading:!0}),this.getPreSignedUrl(this.props.id)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement(A,{color:"upload"}):r.a.createElement(Za,{type:"UPLOAD",handleConfirm:this.handleConfirm,onChange:this.handleChange,loaded:this.state.loaded,fileName:hr(this.state.fileName),wrongType:"application/pdf"!==this.state.fileType,overSize:(e=this.state.fileSize,(e/1024/1024).toFixed(0)>15),success:this.state.success}));var e}}]),a}(r.a.Component),dr=Object(C.b)((function(e){return{id:e.headerHistory.content.id}}))(mr),pr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={assignmentDetail:null,loading:!0},n}return Object(v.a)(a,[{key:"getAssignment",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.id,n=t.courseID,"student"!==(r=t.userRole)){e.next=8;break}return e.next=4,or(a,n);case 4:s=e.sent,this.setState({assignmentDetail:s,loading:!1}),e.next=14;break;case 8:if("teacher"!==r){e.next=14;break}return e.next=11,or(a,n);case 11:l=e.sent,c=l.assignment,this.setState({assignmentDetail:c,loading:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getAssignment()}},{key:"renderAssignmentDetail",value:function(){var e=this.state.assignmentDetail,t=e.title,a=e.courseName,n=e.dueDate,s=e.acceptanceCriteria,l=e.content;return console.log(n),r.a.createElement(ga,null,r.a.createElement(ma,null,a," - ",t),r.a.createElement(da,null,"Due on ",n," at 11:59 pm "),r.a.createElement(da,null,"Acceptance Criteria: "),r.a.createElement(pa,null," ",s," "),r.a.createElement(da,null,"Content: "),r.a.createElement(pa,null," ",l," "))}},{key:"getTodayDate",value:function(){return(new Date).toISOString().replace(/T/," ").replace(/\..+/,"").split(" ")[0]}},{key:"renderOptionalContent",value:function(){var e=this.getTodayDate(),t=this.state.assignmentDetail.dueDate;return"student"===this.props.userRole&&e<t?r.a.createElement(Fn,{title:"Upload File",description:"File must be less than 15MB.\nOnly PDF is accepted."},r.a.createElement(dr,null)):null}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,null,this.state.loading?r.a.createElement(un,null):this.renderAssignmentDetail()),this.state.loading?r.a.createElement(un,null):this.renderOptionalContent())}}]),a}(r.a.Component),gr=Object(C.b)((function(e){return{id:e.headerHistory.content.id,userRole:e.Authentication.role.toLowerCase(),courseID:e.headerHistory.content.secondID}}))(pr),fr={params:{detail:"assignments"}},vr=function(){var e=Le.getState().Authentication.uuid;return xe(Ee).get("".concat("/students/").concat(e),Object(h.a)({},fr)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},Er=a(81),br=a.n(Er),_r=function(e){var t=e.children;return r.a.createElement("div",null,t)},yr=function(e){var t=e.children;return r.a.createElement("div",{className:br.a.radio},t)},Cr=function(e){var t=e.children;return r.a.createElement("div",{className:br.a.wrapper},t)},kr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],displayOption:"all",assignmentList:[],loading:!0},n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getAssignmentList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,vr();case 3:t=e.sent,a=t.assignmentList,this.setState({page:1,assignmentList:Pn(a),paginationArray:We(Pn(a),4),loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getAssignmentList()}},{key:"renderOption",value:function(e){var t=this.state.assignmentList;switch(e){case"all":this.setState({page:1,paginationArray:We(t,4),displayOption:"all"});break;case"notSubmitted":this.setState({page:1,displayOption:"notSubmitted",paginationArray:We(t.filter((function(e){return!e.submitted})),4)});break;case"scored":this.setState({page:1,displayOption:"scored",paginationArray:We(t.filter((function(e){return e.scored})),4)});break;default:this.setState({page:1,paginationArray:We(t,4),displayOption:"all"})}}},{key:"renderResult",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(bn,{text:"You have no assignment to be done."}):[r.a.createElement(an,{key:"StudentAssignment "+Math.random()},r.a.createElement(Xa,null,"No:"),r.a.createElement(en,null,"Name:"),r.a.createElement(en,null,"Course:"),r.a.createElement(en,null,"Due:"),r.a.createElement(en,null,"Status:"),r.a.createElement(en,null,"Report:")),this.renderAssignmentList(a[t-1]),r.a.createElement(rn,{key:"StudentAssignment"+Math.random(),currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length})]}},{key:"renderAssignmentList",value:function(e){return e.map((function(e,t){var a=e.id,n=e.score,s=e.submitted,l=e.scored,c=e.comment,i=e.title,o=e.dueDate,u=e.courseName,h={index:t,disable:l,name:i,id:a,d_scored:l?r.a.createElement(Za,{type:"VIEW_REPORT",comment:c,score:n}):"No Report Yet",a_courseName:u,b_dueDate:o.split("-").slice(1,3).join("/"),c_submitted:s?"Done":"No Submitted"};return r.a.createElement(ln,{key:"StudentAssignment "+Math.random(),RenderObj:h,toPageID:"Assignment"})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,null,this.state.loading?r.a.createElement(un,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Cr,null,r.a.createElement(_r,null," Display Option: "),r.a.createElement(yr,null,r.a.createElement("input",{id:"all",type:"radio",name:"display",checked:"all"===this.state.displayOption,onChange:function(){return e.renderOption("all")}}),r.a.createElement("label",{htmlFor:"all"},"All")),r.a.createElement(yr,null,r.a.createElement("input",{id:"notSubmitted",type:"radio",name:"display",checked:"notSubmitted"===this.state.displayOption,onChange:function(){return e.renderOption("notSubmitted")}}),r.a.createElement("label",{htmlFor:"notSubmitted"},"Only not submitted")),r.a.createElement(yr,null,r.a.createElement("input",{id:"scored",type:"radio",name:"display",checked:"scored"===this.state.displayOption,onChange:function(){return e.renderOption("scored")}}),r.a.createElement("label",{htmlFor:"scored"},"Only marked"))),r.a.createElement(nn,null,this.renderResult()))))}}]),a}(r.a.Component),Sr=Object(C.b)((function(e){return{id:e.headerHistory.content.id,header:e.headerHistory.title}}))(kr),Nr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],courseAssignmentId:0,assignmentList:null,loading:!0},n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getAssignmentList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({page:1,loading:!0}),e.next=3,Tn(this.props.id);case 3:t=e.sent,a=t.assignmentList,this.setState({assignmentList:a,paginationArray:We(Pn(a),8),loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this;this.state.courseAssignmentId!==this.props.id&&this.setState({courseAssignmentId:this.props.id},(function(){return e.getAssignmentList()}))}},{key:"componentDidMount",value:function(){this.getAssignmentList()}},{key:"renderAssignmentList",value:function(){var e=this,t=this.state,a=t.page,n=t.paginationArray;if(0===n.length)return r.a.createElement(bn,{text:"You have no assignment to be marked"});var s=n[a-1];return[].concat(Object(He.a)(s.map((function(t,a){var n=t.title,s=t.id,l=t.dueDate,c={index:a,name:n,id:s,secondID:e.props.id,dueDate:l+" 11:59 pm "};return r.a.createElement(ln,{key:"TeacherCourseAssignment"+Math.random(),RenderObj:c,toPageID:"MarkingAssignment"})}))),[r.a.createElement(rn,{key:"TeacherCourseAssignment"+Math.random(),currentPage:a,handlePageChange:this.handlePageChange,totalPage:n.length})])}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,null,r.a.createElement(nn,null,r.a.createElement(an,null,r.a.createElement(Xa,null,"No:"),r.a.createElement(en,null,"Assignment Name:"),r.a.createElement(en,null,"Assignment Due:")),this.state.loading?r.a.createElement(un,null):this.renderAssignmentList())))}}]),a}(r.a.Component),Or=Object(C.b)((function(e){return{id:e.headerHistory.content.id}}))(Nr),wr=function(){return r.a.createElement(Fn,{title:"This Page Is Coming Soon..."})},jr=function(e,t){return e.score<t.score?1:-1},Ar=function(e){return function(e){var t=!0;return e.forEach((function(e){return t=e.hasOwnProperty("score")})),t}(e)?e.sort(jr):"no property of 'score' is found in each object"},Dr=function(e){var t={params:{objectKey:e}};return xe(Ee).get("".concat("/teachers").concat("/assignments"),t).then((function(e){return e.data})).catch(console.log)},Lr=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],displayOption:"all",scoreChange:!1,assignmentDetail:null,studentAssignmentList:[],loading:!0},n.handleReview=n.handleReview.bind(Object(J.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(J.a)(n)),n}return Object(v.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getStudentAssignmentList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,n,r,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,n=t.courseID,e.next=3,or(a,n);case 3:r=e.sent,s=r.assignment,l=r.studentAssignmentList,this.setState({page:1,assignmentDetail:s,studentAssignmentList:Ar(l),paginationArray:We(Ar(l),5),loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderOption",value:function(e){switch(e){case"all":this.setState({page:1,paginationArray:We(this.state.studentAssignmentList,5),displayOption:"all"});break;case"notMarked":this.setState({page:1,displayOption:"notMarked",paginationArray:We(this.state.studentAssignmentList.filter((function(e){return e.submitted&&!e.scored})),5)});break;default:this.setState({page:1,paginationArray:We(this.state.studentAssignmentList,5),displayOption:"all"})}}},{key:"invokeLinkClick",value:function(e){var t=document.createElement("a");t.href=e,t.click()}},{key:"downloadFileFromS3",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr(t);case 2:a=e.sent,n=a.url,this.invokeLinkClick(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this;this.state.scoreChange&&this.setState({scoreChange:!1},(function(){return e.getStudentAssignmentList()}))}},{key:"componentDidMount",value:function(){this.getStudentAssignmentList()}},{key:"handleReview",value:function(){this.setState({scoreChange:!0})}},{key:"renderArray",value:function(e){var t=this,a=[];return e.forEach((function(e,n){var s=e.attachmentUrl,l=e.score,c=e.submitted,i=e.scored,o=e.id;a.push(r.a.createElement(tn,{key:"MarkingAssignmentID"+Math.random()},r.a.createElement(Xa,null,"No. ",n+1),c?r.a.createElement(en,{onClick:function(){return t.downloadFileFromS3(s)}},"Download Response"):r.a.createElement(en,null,"Not Submitted yet"),r.a.createElement(en,null,i?l:"Not Marked yet"),r.a.createElement(en,null,c?r.a.createElement(Za,{type:"MARKING",id:o,handleReview:t.handleReview}):null)))})),a}},{key:"renderStudentAssignmentList",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?r.a.createElement(bn,{text:"No assignment to be marked."}):r.a.createElement(nn,null,r.a.createElement(an,null,r.a.createElement(Xa,null,"No. "),r.a.createElement(en,null,"Response status: "),r.a.createElement(en,null,"Score:"),r.a.createElement(en,null)),this.renderArray(a[t-1]),r.a.createElement(rn,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"renderAssignmentDetail",value:function(){var e=this.state.assignmentDetail,t=e.title,a=e.courseName,n=e.dueDate,s=e.acceptanceCriteria,l=e.content;return r.a.createElement(ga,null,r.a.createElement(ma,null,a," - ",t),r.a.createElement(da,null,"Due: ",n," 11:59 pm "),r.a.createElement(da,null,"Acceptance Criteria: "),r.a.createElement(pa,null," ",s," "),r.a.createElement(da,null,"Content: "),r.a.createElement(pa,null," ",l," "))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,null,this.state.loading?r.a.createElement(un,null):this.renderAssignmentDetail()),r.a.createElement(dn,null,r.a.createElement(Cr,null,r.a.createElement(_r,null," Display Option: "),r.a.createElement(yr,null,r.a.createElement("input",{id:"all",type:"radio",name:"display",checked:"all"===this.state.displayOption,onChange:function(){return e.renderOption("all")}}),r.a.createElement("label",{htmlFor:"all"},"All")),r.a.createElement(yr,null,r.a.createElement("input",{id:"notMarked",type:"radio",name:"display",checked:"notMarked"===this.state.displayOption,onChange:function(){return e.renderOption("notMarked")}}),r.a.createElement("label",{htmlFor:"notMarked"},"Only not marked"))),this.renderStudentAssignmentList()))}}]),a}(r.a.Component),Ir=Object(C.b)((function(e){return{id:e.headerHistory.content.id,courseID:e.headerHistory.content.secondID}}))(Lr),Pr=function(e){var t=e.pageID;return r.a.createElement("div",{className:Ja.a.wrapper},function(){switch(t){case"Dashboard":return r.a.createElement(ir,null);case"SubjectCourse":return r.a.createElement(An,null);case"Users":return r.a.createElement(zn,null);case"CourseManagement":return r.a.createElement(yn,null);case"TeacherCourseAssignment":return r.a.createElement(Wn,null);case"TeacherMarkingSystem":return r.a.createElement(Or,null);case"MarkingAssignment":return r.a.createElement(Ir,null);case"StudentAssignment":return r.a.createElement(Sr,null);case"UserInfo":return r.a.createElement(Kn,null);case"Assignment":return r.a.createElement(gr,null);case"CourseDetail":return r.a.createElement(tr,null);default:return r.a.createElement(wr,null)}}())},xr=Object(C.b)((function(e){return{pageID:e.headerHistory.content.pageID,title:e.headerHistory.title,role:e.Authentication.role}}))((function(e){var t=e.pageID,a=e.title,n=e.role,s=function(){switch(n){case"TEACHER":return Tt.a.teacherBackground;case"STUDENT":return Tt.a.studentBackground;case"ADMIN":default:return Tt.a.adminBackground}};return r.a.createElement("div",{className:"".concat(Tt.a.wrapper," ").concat(s())},r.a.createElement("div",{"data-testid":"header",className:Tt.a.header},r.a.createElement(Ya,{title:a})),r.a.createElement("div",{"data-testid":"content",className:"".concat(Tt.a.content)},r.a.createElement(Pr,{pageID:t})))})),Tr=function(e){var t=e.showNav,a=e.setShowNav;return r.a.createElement("div",{className:t?V.a.mask:null},r.a.createElement("div",{"data-testid":"hamburger",className:"".concat(V.a.hamburger," ").concat(t?V.a.hamburgerActive:V.a.hamburgerInactive),onClick:function(e){e.preventDefault(),a(!t)}},r.a.createElement("div",{className:V.a.line}),r.a.createElement("div",{className:V.a.line}),r.a.createElement("div",{className:V.a.line})),t?r.a.createElement(Br,null,r.a.createElement("div",{"data-testid":"nav",className:V.a.nav},r.a.createElement(Pt,{noAvatar:!0}))):null)},Br=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,t,r.a.createElement("div",{className:V.a.main},r.a.createElement(xr,null)))},Mr=function(){var e=r.a.useState(window.innerWidth),t=Object(H.a)(e,2),a=t[0],n=t[1],s=r.a.useState(!1),l=Object(H.a)(s,2),c=l[0],i=l[1];return r.a.useEffect((function(){window.addEventListener("resize",(function(){return n(window.innerWidth)}))}),[]),a<1200?r.a.createElement(Br,null,r.a.createElement(Tr,{showNav:c,setShowNav:i})):r.a.createElement(Br,null,r.a.createElement("div",{className:V.a.nav},r.a.createElement(Pt,null)))},Rr=function(){return r.a.createElement(F,{path:"/"},r.a.createElement(Mr,null))},Ur=function(){return r.a.createElement(o.a,{basename:"/campus-frontend/"},r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/login",exact:!0},r.a.createElement(M,null)),r.a.createElement(Rr,null)))},Fr=function(){return r.a.createElement("div",{className:i.a.wrapper},r.a.createElement(Ur,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C.a,{store:Le},r.a.createElement(Fr,null))),document.getElementById("root"))},30:function(e,t,a){e.exports={wrapper:"UploadBtn_wrapper__3u_sm",btn:"UploadBtn_btn__3J20X",themeBtn:"UploadBtn_themeBtn__2wAYh",deleteBtn:"UploadBtn_deleteBtn__2Dxjj",createBtn:"UploadBtn_createBtn__3omT2",updateBtn:"UploadBtn_updateBtn__13uoL",searchBtn:"UploadBtn_searchBtn__37kyI",searchInput:"UploadBtn_searchInput__2Dmij",uploadBtn:"UploadBtn_uploadBtn__1qeR4",uploadInput:"UploadBtn_uploadInput___Q0IC",uploadLabel:"UploadBtn_uploadLabel__9Q4HF",uploadContainer:"UploadBtn_uploadContainer__xgzWD",floatWarning:"UploadBtn_floatWarning__1K-wt",warningText:"UploadBtn_warningText__2p70Z",successText:"UploadBtn_successText__1GPsW",confirmBtn:"UploadBtn_confirmBtn__3rMIP"}},31:function(e,t,a){e.exports={table:"TableLayout_table__2c8Zo",headerRow:"TableLayout_headerRow__3BDmR",row:"TableLayout_row__hhp3Z",item:"TableLayout_item__1We3j",indexItem:"TableLayout_indexItem__55haE",links:"TableLayout_links__1JI6G",linksItem:"TableLayout_linksItem__2kGst",pagination:"TableLayout_pagination__2RC9R",number:"TableLayout_number__20K2v",total:"TableLayout_total__1fh4p",clickable:"TableLayout_clickable__mOK9m"}},34:function(e,t,a){e.exports={nav:"Layout_nav__MNzL5",main:"Layout_main__3OBIG",mask:"Layout_mask__1M4r-",hamburgerActive:"Layout_hamburgerActive__3Rwsm",hamburgerInactive:"Layout_hamburgerInactive__1W4v1",hamburger:"Layout_hamburger__homib",line:"Layout_line__2Y7Yx"}},36:function(e,t,a){e.exports={wrapper:"Nav_wrapper__-SuCi",nameWrapper:"Nav_nameWrapper__1OSBO",loading:"Nav_loading__t8m9I",name:"Nav_name__2fPRs",sideBar:"Nav_sideBar__327k4",footer:"Nav_footer__3CaLO"}},37:function(e,t,a){e.exports={wrapper:"Main_wrapper__3dfG9",header:"Main_header__3SZ-5",teacherBackground:"Main_teacherBackground__crBcY",studentBackground:"Main_studentBackground__1LMBm",adminBackground:"Main_adminBackground__2xy0t"}},40:function(e,t,a){e.exports={wrapper:"NavSideBar_wrapper__3tIy5",sideWrapper:"NavSideBar_sideWrapper__rbMAa",sideWrapperNotCollapse:"NavSideBar_sideWrapperNotCollapse__3v138",filler:"NavSideBar_filler__3R53G",canvas:"NavSideBar_canvas__1HYg1",canvasActive:"NavSideBar_canvasActive__3bP_2"}},41:function(e,t,a){e.exports={wrapper:"NavItems_wrapper__11aOS",active:"NavItems_active__1hXqh",inActive:"NavItems_inActive__2QeOj",icon:"NavItems_icon__1_BOY",title:"NavItems_title__gWnUs",hide:"NavItems_hide__2cebl"}},48:function(e,t,a){e.exports={intro:"PostForm_intro__Hzbk7",role:"PostForm_role__1phBC"}},49:function(e,t,a){e.exports={wrapper:"HalfWidthLayout_wrapper__2fsNf",description:"HalfWidthLayout_description__3jsPh",detailWrapper:"HalfWidthLayout_detailWrapper__1-j2A",contextWrapper:"HalfWidthLayout_contextWrapper__egbCP",heading:"HalfWidthLayout_heading__25_g4",functionalComponent:"HalfWidthLayout_functionalComponent__3Ezri"}},53:function(e,t,a){e.exports={pagination:"CanvasPagination_pagination__Nc3FI",number:"CanvasPagination_number__o1Zjv",clickable:"CanvasPagination_clickable__3HBpd"}},54:function(e,t,a){e.exports={wrapper:"DisplayContentLayout_wrapper__2mJF1",title:"DisplayContentLayout_title__1fEoM",subHeading:"DisplayContentLayout_subHeading__2qg9k",content:"DisplayContentLayout_content__1OQNp"}},59:function(e,t,a){e.exports={wrapper:"Popup_wrapper__3oqZd",btn:"Popup_btn__1M_F1",themeBtn:"Popup_themeBtn__3oL0E",deleteBtn:"Popup_deleteBtn__2iCi1",createBtn:"Popup_createBtn__3h95q",updateBtn:"Popup_updateBtn__34vMY",searchBtn:"Popup_searchBtn__1GW9P",searchInput:"Popup_searchInput__2GTc3",modal:"Popup_modal__2Uixz",close:"Popup_close__FXjmf",mask:"Popup_mask__1-WpP"}},60:function(e,t,a){e.exports={intro:"CourseForm_intro__2Zosd",content:"CourseForm_content__xvjh6",outcome:"CourseForm_outcome__kTc4A"}},61:function(e,t,a){e.exports={wrapper:"Profile_wrapper__37BIp",loading:"Profile_loading__MazEO",container:"Profile_container__1wT5S",heading:"Profile_heading__3NhLM",BtnContainer:"Profile_BtnContainer__2wAmf",noText:"Profile_noText__1VBG2"}},73:function(e,t,a){e.exports={wrapper:"NavLogo_wrapper__2i66c",logo:"NavLogo_logo__223K2"}},75:function(e,t,a){e.exports={background:"LoaderContainer_background__2r4Iw",container:"LoaderContainer_container__x1KjK"}},76:function(e,t,a){e.exports={wrapper:"NavAvatar_wrapper__3C1OO",avatar:"NavAvatar_avatar__2rqvE",wrapperLight:"NavAvatar_wrapperLight__1QUeJ",wrapperDark:"NavAvatar_wrapperDark__dNPX2",avatarRed:"NavAvatar_avatarRed__GhDUk"}},77:function(e,t,a){e.exports={wrapper:"Header_wrapper__2iOJs",title:"Header_title__JKb_K"}},78:function(e,t,a){e.exports={wrapper:"LogOutBtn_wrapper__1wLSs",btn:"LogOutBtn_btn__1uTKu",themeBtn:"LogOutBtn_themeBtn__2bySd",deleteBtn:"LogOutBtn_deleteBtn__3CmU2",createBtn:"LogOutBtn_createBtn__2C-Mk",updateBtn:"LogOutBtn_updateBtn__9dYTS",searchBtn:"LogOutBtn_searchBtn__2in2m",searchInput:"LogOutBtn_searchInput__3fgWe",logOutBtn:"LogOutBtn_logOutBtn__23oWe"}},79:function(e,t,a){e.exports={wrapper:"FullWidthLayout_wrapper__1Jasc",container:"FullWidthLayout_container__1xa6g"}},80:function(e,t,a){e.exports={acceptance:"TeacherCourseAssignment_acceptance__3wsom",content:"TeacherCourseAssignment_content__lJohy"}},81:function(e,t,a){e.exports={wrapper:"RadioLayout_wrapper__2l3M8",radio:"RadioLayout_radio__Hcqb1"}}},[[123,1,2]]]);
//# sourceMappingURL=main.43e16862.chunk.js.map