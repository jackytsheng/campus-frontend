(this["webpackJsonpschool-management-system-app"]=this["webpackJsonpschool-management-system-app"]||[]).push([[0],{100:function(e,t,a){e.exports={wrapper:"Header_wrapper__2iOJs",title:"Header_title__JKb_K"}},101:function(e,t,a){e.exports={wrapper:"LogOutBtn_wrapper__1wLSs",btn:"LogOutBtn_btn__1uTKu",themeBtn:"LogOutBtn_themeBtn__2bySd",deleteBtn:"LogOutBtn_deleteBtn__3CmU2",createBtn:"LogOutBtn_createBtn__2C-Mk",updateBtn:"LogOutBtn_updateBtn__9dYTS",searchBtn:"LogOutBtn_searchBtn__2in2m",searchInput:"LogOutBtn_searchInput__3fgWe",logOutBtn:"LogOutBtn_logOutBtn__23oWe"}},102:function(e,t,a){e.exports={wrapper:"FullWidthLayout_wrapper__1Jasc",container:"FullWidthLayout_container__1xa6g"}},103:function(e,t,a){e.exports={acceptance:"TeacherCourseAssignment_acceptance__3wsom",content:"TeacherCourseAssignment_content__lJohy"}},104:function(e,t,a){e.exports={wrapper:"RadioLayout_wrapper__2l3M8",radio:"RadioLayout_radio__Hcqb1"}},135:function(e,t,a){"use strict";a.r(t),a.d(t,"AccessKeyID",(function(){return n})),a.d(t,"SecretAccessKey",(function(){return r}));var n="AKIAZVPGVNCTNKYMLHJC",r="T0yPtHQpx4E06i81zZeeCJqRisnIcnNRQYIX0/LT"},159:function(e,t,a){e.exports={wrapper:"App_wrapper__RCHjb"}},16:function(e,t,a){e.exports={wrapper:"SelectAvatar_wrapper__1g02W",row:"SelectAvatar_row__qBTZz",selectionRow:"SelectAvatar_selectionRow__2fCbZ",display:"SelectAvatar_display__Z5-DZ",name:"SelectAvatar_name__11BEJ",brown:"SelectAvatar_brown__3DjM7",green:"SelectAvatar_green__tcO_z",red:"SelectAvatar_red__1oOny",grey:"SelectAvatar_grey__3K_jB",blue:"SelectAvatar_blue__3p-J4",dark:"SelectAvatar_dark__2ABAY",light:"SelectAvatar_light__3u71Y"}},162:function(e,t,a){e.exports={particle:"Particle_particle__2pjEa"}},163:function(e,t,a){e.exports={wrapper:"NavHeader_wrapper__2zswT",title:"NavHeader_title__1fKA9"}},164:function(e,t,a){e.exports={wrapper:"Canvas_wrapper__3v9c6"}},165:function(e,t,a){e.exports={links:"RenderLink_links__1YorG"}},167:function(e,t,a){e.exports={filler:"CourseMarket_filler__3EV-I",pagination:"CourseMarket_pagination__3gtt7",number:"CourseMarket_number__3AdAA",clickable:"CourseMarket_clickable__7yHZ5"}},168:function(e,t,a){e.exports={title:"CanvasTitleWrap_title__1QHMT"}},169:function(e,t,a){e.exports={wrapper:"NothingDisplay_wrapper__8EnKB"}},170:function(e,t,a){e.exports={filler:"StudentEnrollment_filler__30BPT",pagination:"StudentEnrollment_pagination__1se6j",number:"StudentEnrollment_number__1TkOd",clickable:"StudentEnrollment_clickable__11pgu"}},171:function(e,t,a){e.exports={wrapper:"Content_wrapper__3fgP7"}},172:function(e,t,a){e.exports={loading:"Loading_loading__1QuCL"}},173:function(e,t,a){e.exports={wrapper:"NoContent_wrapper__3rWzh"}},175:function(e,t,a){e.exports={wrapper:"MarkingAssignment_wrapper__14QVg",container:"MarkingAssignment_container__SIJCA",title:"MarkingAssignment_title__1I7K_",dueDate:"MarkingAssignment_dueDate__UZCaT",subHeading:"MarkingAssignment_subHeading__2eG1W",paragraph:"MarkingAssignment_paragraph__8rh41",LinksWrapper:"MarkingAssignment_LinksWrapper__2vbu5",headingContainer:"MarkingAssignment_headingContainer__1xpGA",LinksHeading:"MarkingAssignment_LinksHeading__qveW-",LinksContainer:"MarkingAssignment_LinksContainer__c-TGq",LinksItem:"MarkingAssignment_LinksItem__TK653",Link:"MarkingAssignment_Link__3nHcJ"}},176:function(e,t,a){e.exports=a(767)},181:function(e,t,a){},21:function(e,t,a){e.exports={wrapper:"Button_wrapper__Sjioc",btn:"Button_btn__1Lkv5",themeBtn:"Button_themeBtn__3JGb1",deleteBtn:"Button_deleteBtn__1Tfwl",createBtn:"Button_createBtn__2_yUL",updateBtn:"Button_updateBtn__2RYJn",searchBtn:"Button_searchBtn__1h4SN",searchInput:"Button_searchInput__2ExaE"}},27:function(e,t,a){e.exports={wrapper:"Login_wrapper__2h9Wm",modal:"Login_modal__1_50X",greeting:"Login_greeting__gOmpc",title:"Login_title__1lY0k",form:"Login_form__1tdal",loaderContainer:"Login_loaderContainer__3DrJd",control:"Login_control__2kp5c",failLogin:"Login_failLogin__3j6l6",forget:"Login_forget__2evrf",button:"Login_button__3o8rl",loader:"Login_loader__26WFR",spin:"Login_spin__1Uc4U"}},30:function(e,t,a){e.exports={circle:"Loader_circle__3_imu",upload:"Loader_upload__2ST8r",circleDot:"Loader_circleDot__1wB3-",update:"Loader_update__2M1fZ",white:"Loader_white__25y7g"}},33:function(e,t,a){e.exports={horizontalRow:"FormLayout_horizontalRow__uHbwq",item:"FormLayout_item__UHewD",searchRow:"FormLayout_searchRow__3tzcZ",searchBtn:"FormLayout_searchBtn__1MWq_",form:"FormLayout_form__2aZkI",title:"FormLayout_title__3GexF",searchSmall:"FormLayout_searchSmall__h4xxl",error:"FormLayout_error__UmVgL",successful:"FormLayout_successful__ejCb9",inactiveBlock:"FormLayout_inactiveBlock__3cVDl",btn:"FormLayout_btn__9ofca"}},345:function(e,t,a){e.exports=a.p+"static/media/logo-light.24e2fc50.png"},35:function(e,t,a){e.exports={wrapper:"UploadBtn_wrapper__3u_sm",btn:"UploadBtn_btn__3J20X",themeBtn:"UploadBtn_themeBtn__2wAYh",deleteBtn:"UploadBtn_deleteBtn__2Dxjj",createBtn:"UploadBtn_createBtn__3omT2",updateBtn:"UploadBtn_updateBtn__13uoL",searchBtn:"UploadBtn_searchBtn__37kyI",searchInput:"UploadBtn_searchInput__2Dmij",uploadBtn:"UploadBtn_uploadBtn__1qeR4",uploadInput:"UploadBtn_uploadInput___Q0IC",uploadLabel:"UploadBtn_uploadLabel__9Q4HF",uploadContainer:"UploadBtn_uploadContainer__xgzWD",floatWarning:"UploadBtn_floatWarning__1K-wt",warningText:"UploadBtn_warningText__2p70Z",successText:"UploadBtn_successText__1GPsW",confirmBtn:"UploadBtn_confirmBtn__3rMIP"}},36:function(e,t,a){e.exports={table:"TableLayout_table__2c8Zo",headerRow:"TableLayout_headerRow__3BDmR",row:"TableLayout_row__hhp3Z",item:"TableLayout_item__1We3j",indexItem:"TableLayout_indexItem__55haE",links:"TableLayout_links__1JI6G",linksItem:"TableLayout_linksItem__2kGst",pagination:"TableLayout_pagination__2RC9R",number:"TableLayout_number__20K2v",total:"TableLayout_total__1fh4p",clickable:"TableLayout_clickable__mOK9m"}},39:function(e,t,a){e.exports={nav:"Layout_nav__MNzL5",main:"Layout_main__3OBIG",mask:"Layout_mask__1M4r-",hamburgerActive:"Layout_hamburgerActive__3Rwsm",hamburgerInactive:"Layout_hamburgerInactive__1W4v1",hamburger:"Layout_hamburger__homib",line:"Layout_line__2Y7Yx"}},43:function(e,t,a){e.exports={wrapper:"Nav_wrapper__-SuCi",nameWrapper:"Nav_nameWrapper__1OSBO",loading:"Nav_loading__t8m9I",name:"Nav_name__2fPRs",sideBar:"Nav_sideBar__327k4",footer:"Nav_footer__3CaLO"}},44:function(e,t,a){e.exports={wrapper:"Main_wrapper__3dfG9",header:"Main_header__3SZ-5",teacherBackground:"Main_teacherBackground__crBcY",studentBackground:"Main_studentBackground__1LMBm",adminBackground:"Main_adminBackground__2xy0t"}},47:function(e,t,a){e.exports={wrapper:"NavSideBar_wrapper__3tIy5",sideWrapper:"NavSideBar_sideWrapper__rbMAa",sideWrapperNotCollapse:"NavSideBar_sideWrapperNotCollapse__3v138",filler:"NavSideBar_filler__3R53G",canvas:"NavSideBar_canvas__1HYg1",canvasActive:"NavSideBar_canvasActive__3bP_2"}},48:function(e,t,a){e.exports={wrapper:"NavItems_wrapper__11aOS",active:"NavItems_active__1hXqh",inActive:"NavItems_inActive__2QeOj",icon:"NavItems_icon__1_BOY",title:"NavItems_title__gWnUs",hide:"NavItems_hide__2cebl"}},58:function(e,t,a){e.exports={intro:"PostForm_intro__Hzbk7",role:"PostForm_role__1phBC"}},59:function(e,t,a){e.exports={wrapper:"HalfWidthLayout_wrapper__2fsNf",description:"HalfWidthLayout_description__3jsPh",detailWrapper:"HalfWidthLayout_detailWrapper__1-j2A",contextWrapper:"HalfWidthLayout_contextWrapper__egbCP",heading:"HalfWidthLayout_heading__25_g4",functionalComponent:"HalfWidthLayout_functionalComponent__3Ezri"}},64:function(e,t,a){e.exports={pagination:"CanvasPagination_pagination__Nc3FI",number:"CanvasPagination_number__o1Zjv",clickable:"CanvasPagination_clickable__3HBpd"}},65:function(e,t,a){e.exports={wrapper:"DisplayContentLayout_wrapper__2mJF1",title:"DisplayContentLayout_title__1fEoM",subHeading:"DisplayContentLayout_subHeading__2qg9k",content:"DisplayContentLayout_content__1OQNp"}},74:function(e,t,a){e.exports={wrapper:"Popup_wrapper__3oqZd",btn:"Popup_btn__1M_F1",themeBtn:"Popup_themeBtn__3oL0E",deleteBtn:"Popup_deleteBtn__2iCi1",createBtn:"Popup_createBtn__3h95q",updateBtn:"Popup_updateBtn__34vMY",searchBtn:"Popup_searchBtn__1GW9P",searchInput:"Popup_searchInput__2GTc3",modal:"Popup_modal__2Uixz",close:"Popup_close__FXjmf",mask:"Popup_mask__1-WpP"}},75:function(e,t,a){e.exports={intro:"CourseForm_intro__2Zosd",content:"CourseForm_content__xvjh6",outcome:"CourseForm_outcome__kTc4A"}},76:function(e,t,a){e.exports={wrapper:"Profile_wrapper__37BIp",loading:"Profile_loading__MazEO",container:"Profile_container__1wT5S",heading:"Profile_heading__3NhLM",BtnContainer:"Profile_BtnContainer__2wAmf",noText:"Profile_noText__1VBG2"}},767:function(e,t,a){"use strict";a.r(t);var n,r,s=a(0),l=a.n(s),c=a(70),o=a.n(c),i=(a(181),a(159)),u=a.n(i),m=a(61),d=a(23),h=a(42),p=a(4),g=a.n(p),f=a(10),v=a(25),E=a(6),b=a(7),_=a(8),y=a(9),C=a(27),k=a.n(C),S=a(12),N=a(72),O=a.n(N),w=function(e,t){return O.a.post("http://localhost:8080/authenticate",{username:e,password:t})},A=function(){var e=["Good Morning!","Good Afternoon!","Good Evening!"],t=Date().split(" ")[4].slice(0,2),a=Date().split(" ")[0],n=Date().split(" ")[1],r=Date().split(" ")[2];return l.a.createElement("div",{"data-testid":"greeting",className:k.a.greeting},l.a.createElement("h3",{className:k.a.date},"".concat(a.toUpperCase())),l.a.createElement("h3",{className:k.a.date},"".concat(r,", ").concat(n.toUpperCase())),l.a.createElement("h1",{className:k.a.title},t>4&&t<12?e[0]:t>12&&t<18?e[1]:e[2]," "),l.a.createElement("p",null,"A management system which only makes room for things that matter."))},j=a(30),D=a.n(j),L=function(e){var t=e.color;return l.a.createElement("div",{"data-testid":"loader",className:"".concat(D.a.circle," ").concat(D.a[t])},l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}),l.a.createElement("div",{className:D.a.circleDot}))},I=a(161),P=a.n(I),x=a(162),T=a.n(x),M={detectRetina:!0,fpsLimit:30,interactivity:{detectsOn:"canvas",events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"bubble",parallax:{enable:!0,force:60,smooth:10}},resize:!0},modes:{push:{quantity:4},bubble:{distance:150,duration:2,opacity:1,size:10}}},particles:{color:{value:"#84a9ac"},links:{color:"#84a9ac",distance:100,enable:!0,opacity:.5,width:1},move:{attract:{enable:!1,rotate:{x:600,y:1200}},enable:!0,outMode:"out"},number:{density:{enable:!0,area:400},limit:50,value:10},opacity:{random:{enable:!0,minimumValue:.3},value:.7},shape:{type:"circle"},size:{random:{enable:!0,minimumValue:1},value:4},stroke:{color:{value:"#2E3D66"},width:0,opacity:1}},pauseOnBlur:!0},B=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={loading:!1,failLogin:!1,InactiveUser:!1,username:"",password:""},n}return Object(b.a)(a,[{key:"handleValueChange",value:function(e){var t=this;return this.setState({failLogin:!1,InactiveUser:!1}),function(a){var n=a.target.value;t.setState(Object(v.a)({},e,n))}}},{key:"loginToSever",value:function(){var e=Object(f.a)(g.a.mark((function e(t,a){var n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,w(t,a).then((function(e){n.props.storeAuthToState(e.data),n.setState({loading:!1},(function(){return n.props.history.push("/")}))})).catch((function(e){switch(e.response.status){case 401:n.setState({failLogin:!0,loading:!1}),console.log(e.response);break;case 403:n.setState({InactiveUser:!0,loading:!1}),console.log(e.response);break;default:n.setState({loading:!1}),console.log(e.response)}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:k.a.wrapper},l.a.createElement(P.a,{className:T.a.particle,params:Object(h.a)({},M)}),l.a.createElement("div",{className:k.a.modal},l.a.createElement(A,null),l.a.createElement("form",{className:k.a.form,onSubmit:function(t){t.preventDefault(),e.loginToSever(e.state.username,e.state.password)}},this.state.loading?l.a.createElement("div",{className:k.a.loaderContainer},l.a.createElement(L,null)):null,l.a.createElement("div",{className:k.a.control},l.a.createElement("label",null,"User ID"),l.a.createElement("input",{className:this.state.failLogin||this.state.InactiveUser?k.a.failLogin:null,type:"text",placeholder:"Enter User ID",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("username")(t)}})),l.a.createElement("div",{className:k.a.control},l.a.createElement("label",{className:k.a.label},"Password"),l.a.createElement("input",{className:this.state.failLogin?k.a.failLogin:null,type:"password",placeholder:"Enter Password",maxLength:30,autoComplete:"on",onChange:function(t){return e.handleValueChange("password")(t)},required:!0})),this.state.failLogin?l.a.createElement("small",null," Incorrect username or password. "):null,this.state.InactiveUser?l.a.createElement("small",null," Inactive user. Please contact admin. "):null,l.a.createElement("button",{className:k.a.button,type:"submit"},"Log in"),l.a.createElement("div",{className:k.a.forget}," Forget password ?"))))}}]),a}(l.a.Component),R=Object(S.b)(null,(function(e){return{storeAuthToState:function(t){return e(function(e){return{payload:e,type:"STORE_AUTH_TO_STATE"}}(t))}}}))(B),U=Object(d.g)(R),F=a(20),H=Object(S.b)((function(e){return{authenticated:!!e.Authentication.jwt}}),null)((function(e){var t=e.children,a=e.authenticated,n=(e.storeAuthToState,Object(F.a)(e,["children","authenticated","storeAuthToState"]));return l.a.createElement(d.b,Object.assign({},n,{render:function(){return a?t:(console.log("I am redirecting"),console.log(a),l.a.createElement(d.a,{to:"/login"}))}}))})),W=H,V=a(106),q=a(39),z=a.n(q),G=a(163),K=a.n(G),Y=a(96),Z=a.n(Y),J=function(){return l.a.createElement("div",{className:Z.a.wrapper},l.a.createElement("img",{"data-testid":"logo",className:Z.a.logo,src:a(345),alt:""}))},X=function(){return l.a.createElement("div",{className:K.a.wrapper},l.a.createElement(J,null))},Q=a(11),$=a(47),ee=a.n($),te=a(48),ae=a.n(te),ne=a(29),re=function(e){var t=e.title,a=e.icon,n=e.collapse,r=e.onClick,s=e.active,c=e.NavId;return l.a.createElement("div",{className:"".concat(ae.a.wrapper," ").concat(s?ae.a.active:ae.a.inActive),onClick:function(e){e.preventDefault(),r(c)}},l.a.createElement("div",{className:ae.a.icon},l.a.createElement(ne.a,{icon:a})),l.a.createElement("div",{className:n?ae.a.hide:ae.a.title},l.a.createElement("h3",null,t)))},se=a(17),le={Dashboard:se.f,Enrollment:se.a,Assignment:se.m,Payment:se.g,CourseMarket:se.l,UserInfo:se.n,Help:se.j,Setting:se.e,Users:se.c,MarkSystem:se.d,TeachingCourse:se.b,Courses:se.i,Classroom:se.h},ce=[{icon:le.Dashboard,title:"Dashboard",NavId:"Dashboard"},{icon:le.Enrollment,title:"My Course",NavId:"Enrollment"},{icon:le.Assignment,title:"Assignment",NavId:"Assignment"},{icon:le.CourseMarket,title:"Course market",NavId:"CourseMarket"},{icon:le.Payment,title:"Payment",NavId:"Payment"},{icon:le.UserInfo,title:"Profile",NavId:"UserInfo"},{filler:!0},{icon:le.Help,title:"Help",NavId:"Help"},{icon:le.Setting,title:"Setting",NavId:"Setting"}],oe=[{icon:le.Dashboard,title:"Dashboard",NavId:"Dashboard"},{icon:le.TeachingCourse,title:"Teaching",NavId:"TeachingCourse"},{icon:le.MarkSystem,title:"Marking",NavId:"MarkSystem"},{icon:le.CourseMarket,title:"Course market",NavId:"CourseMarket"},{icon:le.UserInfo,title:"Profile",NavId:"UserInfo"},{filler:!0},{icon:le.Help,title:"Help",NavId:"Help"},{icon:le.Setting,title:"Setting",NavId:"Setting"}],ie=[{icon:le.Dashboard,title:"Dashboard",NavId:"Dashboard"},{icon:le.Users,title:"User management",NavId:"Users"},{icon:le.Courses,title:"Course management",NavId:"CourseManagement"},{icon:le.CourseMarket,title:"Course market",NavId:"CourseMarket"},{icon:le.Classroom,title:"Classroom",NavId:"Classroom"},{filler:!0},{icon:le.Help,title:"Help",NavId:"Help"},{icon:le.Setting,title:"Setting",NavId:"Setting"}],ue=a(164),me=a.n(ue),de=a(165),he=a.n(de),pe="ADD_HEADER_HISTORY",ge=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{headingTitle:e,toPageID:t,courseID:n,id:a,type:pe}},fe=function(e){return e[0].toUpperCase()+e.slice(1,e.length)},ve=Object(S.b)(null,(function(e){return{onClick:function(t,a,n){e(ge(t,a,n))}}}))((function(e){var t=e.RenderArray,a=e.onClick,n=e.toPageID,r=e.titleSuffix;return t.map((function(e){return l.a.createElement("div",{"data-testid":"link",onClick:function(t){t.preventDefault();var s=r||"";a(fe((e.name+" "+s).trim()),n,e.id)},className:he.a.links,key:"id"+Math.random()},fe(e.name))}))})),Ee=ve,be=O.a.create({baseURL:"http://localhost:8080"}),_e=be,ye=a(46),Ce={title:"Dashboard",content:{pageID:"Dashboard"}},ke=function(e,t){return{title:e,content:t}},Se=function(e,t,a){switch(e){case"Dashboard":return{pageID:"Dashboard"};case"MarkingAssignment":return{pageID:"MarkingAssignment",id:t,secondID:a};case"Assignment":return{pageID:"Assignment",id:t,secondID:a};case"Enrollment":return{pageID:"Enrollment"};case"UserInfo":return{pageID:"UserInfo",id:t,secondID:a};case"Users":return{pageID:"Users"};case"CourseManagement":return{pageID:"CourseManagement"};case"Help":return{pageID:"Help"};case"Setting":return{pageID:"Setting"};case"SubjectCourse":return{pageID:"SubjectCourse",id:t};case"TeacherCourseAssignment":return{pageID:"TeacherCourseAssignment",id:t};case"TeacherMarkingSystem":return{pageID:"TeacherMarkingSystem",id:t};case"StudentAssignment":return{pageID:"StudentAssignment"};case"Payment":return{pageID:"Payment"};case"Classroom":return{pageID:"Classroom"};case"CourseDetail":return{pageID:"CourseDetail",id:t};case"StudentCourse":return{pageID:"StudentCourse",id:t};default:return{pageID:"TO_BE_IMPLEMENT"}}},Ne=localStorage.getItem("jwt"),Oe=localStorage.getItem("role"),we=localStorage.getItem("userID"),Ae={jwt:Ne,role:Oe,uuid:we},je={name:"",avatar:""},De=a(166),Le=Object(ye.d)(Object(ye.a)(De.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ie=Object(ye.c)({headerHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:var a=Se(t.toPageID,t.id,t.courseID),n=ke(t.headingTitle,a);return console.log(n),n;default:return e}},Authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_AUTH_TO_STATE":return localStorage.setItem("jwt",t.payload.jwt),localStorage.setItem("userID",t.payload.uuid),localStorage.setItem("role",t.payload.role),t.payload;case"LOG_OUT":return localStorage.clear(),{jwt:null,role:null,uuid:null};default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_INFO":return{name:t.name,avatar:e.avatar};case"ADD_USER_AVATAR":return{name:e.name,avatar:t.avatar};default:return e}}}),Pe=Object(ye.e)(Ie,Le),xe=function(e){var t=Pe.getState().Authentication.jwt;return e.headers.authorization="Bearer ".concat(t),e},Te=function(e){return e.interceptors.request.use(xe),e.interceptors.response.use((function(e){return e}),Me),e},Me=function(e){switch(e.response.status){case 401:return console.log("I am logging out due to 401"),Pe.dispatch({type:"LOG_OUT"}),Promise.reject(e);default:return Promise.reject(e)}},Be=a(167),Re=a.n(Be),Ue=a(168),Fe=a.n(Ue),He=function(e){var t=e.children,a=e.title;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Fe.a.title},a),t)},We=a(57),Ve=function(e,t){for(var a=Object(We.a)(e),n=[];a.length>0;)n.push(a.splice(0,t));return n},qe=a(98),ze=a.n(qe),Ge=function(e){var t=e.children,a=e.background;return l.a.createElement("div",{className:"".concat(ze.a.container," ").concat(a?ze.a.background:null)},t)},Ke=a(64),Ye=a.n(Ke),Ze=function(e){var t=e.currentPage,a=e.handlePageChange,n=e.totalPage;return l.a.createElement("div",{className:Ye.a.pagination},1===t?l.a.createElement("div",null):l.a.createElement("div",{"data-testid":"prev",className:Ye.a.clickable,onClick:function(){return a(t-1)}},"<"),l.a.createElement("div",{className:Ye.a.number},t," / ",n),t===n?l.a.createElement("div",null):l.a.createElement("div",{"data-testid":"next",className:Ye.a.clickable,onClick:function(){return a(t+1)}},">"))},Je=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={subjectList:[],loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"getSubjectList",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(_e).get("/subjects").then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.subjectList,this.setState({page:1,subjectList:a,loading:!1,paginationArray:Ve(a,7)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"componentDidMount",value:function(){this.getSubjectList()}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"render",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(Ge,null,l.a.createElement(L,{color:"white"})):l.a.createElement(He,{title:"Subjects"},l.a.createElement(Ee,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"SubjectCourse"}),l.a.createElement("div",{className:Re.a.filler}),l.a.createElement(Ze,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})))}}]),a}(l.a.Component),Xe=Je,Qe={params:{detail:"courses"}},$e=function(){var e=Te(_e),t=Pe.getState().Authentication.uuid;return e.get("".concat("/teachers","/").concat(t),Qe).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},et=a(169),tt=a.n(et),at=function(e){var t=e.name;return l.a.createElement("div",{className:tt.a.wrapper},"You have no ",t,".")},nt=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={teachingList:[],loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"getTeachingList",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e();case 2:t=e.sent,a=t.hasOwnProperty("courseList")?t.courseList:[],this.setState({page:1,teachingList:a,loading:!1,paginationArray:Ve(a,5)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTeachingList()}},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"renderList",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return 0!==this.state.teachingList.length?l.a.createElement(He,{title:"Your Teaching"},l.a.createElement(Ee,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"TeacherCourseAssignment"}),l.a.createElement(Ze,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})):l.a.createElement(at,{name:"Teaching Courses"})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(Ge,null,l.a.createElement(L,{color:"white"})):this.renderList())}}]),a}(l.a.Component),rt=nt,st=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={teachingList:null,loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"getTeachingList",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e();case 2:t=e.sent,a=t.hasOwnProperty("courseList")?t.courseList:[],this.setState({page:1,teachingList:a,loading:!1,paginationArray:Ve(a,6)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getTeachingList()}},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"renderList",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return 0!==this.state.teachingList.length?l.a.createElement(He,{title:"Marking"},l.a.createElement(Ee,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"TeacherMarkingSystem"}),l.a.createElement(Ze,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})):l.a.createElement(at,{name:"Teaching Courses"})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(Ge,null,l.a.createElement(L,{color:"white"})):this.renderList())}}]),a}(l.a.Component),lt=st,ct={params:{detail:"courses"}},ot=function(){var e=Pe.getState().Authentication.uuid;return Te(_e).get("".concat("/students/").concat(e),ct).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},it=a(170),ut=a.n(it),mt=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={courseList:[],loading:!0,page:1,paginationArray:[]},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"getCourseList",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot();case 2:t=e.sent,a=t.courseList,this.setState({page:1,courseList:a,loading:!1,paginationArray:Ve(a,4)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"componentDidMount",value:function(){this.getCourseList()}},{key:"MapToRenderArray",value:function(e){return e.map((function(e){return{name:e.name,id:e.id}}))}},{key:"renderList",value:function(){var e=this.state,t=e.paginationArray,a=e.page;return 0!==this.state.courseList.length?l.a.createElement(He,{title:"Enrollment"},l.a.createElement(Ee,{RenderArray:this.MapToRenderArray(t[a-1]),toPageID:"StudentCourse",titleSuffix:"Files"}),l.a.createElement("div",{className:ut.a.filler}),l.a.createElement(Ze,{currentPage:a,totalPage:t.length,handlePageChange:this.handlePageChange})):l.a.createElement(at,{name:"Enrol Courses"})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(Ge,null,l.a.createElement(L,{color:"white"})):this.renderList())}}]),a}(l.a.Component),dt=mt,ht=function(e){var t=e.current;return l.a.createElement("div",{className:me.a.wrapper},function(e){switch(e){case"TeachingCourse":return l.a.createElement(rt,null);case"CourseMarket":return l.a.createElement(Xe,null);case"Enrollment":return l.a.createElement(dt,null);case"MarkSystem":return l.a.createElement(lt,null);default:return null}}(t))},pt=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).clickToDisplayCanvas=function(e){e===n.state.current?n.toggleCanvas():e!==n.state.current&&(n.setCanvasStatus(!1),n.setCanvasStatus(!0))},n.state={canvasOn:!1,current:"Dashboard"},console.log(),n.handleClick=n.handleClick.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"readConfig",value:function(e){var t=this;return e.map((function(e){return e.filler?l.a.createElement("div",{key:"Filler",className:ee.a.filler}):l.a.createElement(re,{active:t.state.current===e.NavId,collapse:t.state.canvasOn,key:"NavItem_id"+Math.random(),icon:e.icon,title:e.title,NavId:e.NavId,onClick:t.handleClick})}))}},{key:"componentDidMount",value:function(){this.changeActive("Dashboard")}},{key:"renderNavItem",value:function(){switch(this.props.role){case"student":return this.readConfig(ce);case"teacher":return this.readConfig(oe);case"admin":return this.readConfig(ie);default:return null}}},{key:"changeActive",value:function(e){this.setState({current:e})}},{key:"setCanvasStatus",value:function(e){this.setState({canvasOn:e})}},{key:"toggleCanvas",value:function(){this.setState({canvasOn:!this.state.canvasOn})}},{key:"handleClick",value:function(e){switch(e){case"Dashboard":this.changeActive(e),this.setCanvasStatus(!1),this.props.addHeader("Dashboard","Dashboard");break;case"Users":this.changeActive(e),this.props.addHeader("User management","Users"),this.setCanvasStatus(!1);break;case"CourseManagement":this.changeActive(e),this.props.addHeader("Course management","CourseManagement"),this.setCanvasStatus(!1);break;case"Assignment":this.changeActive(e),this.props.addHeader("Assignment","StudentAssignment"),this.setCanvasStatus(!1);break;case"UserInfo":this.changeActive(e),this.props.addHeader("Profile","UserInfo"),this.setCanvasStatus(!1);break;case"Help":this.changeActive(e),this.props.addHeader("Help","Help"),this.setCanvasStatus(!1);break;case"Setting":this.changeActive(e),this.props.addHeader("Setting","Setting"),this.setCanvasStatus(!1);break;case"Payment":this.changeActive(e),this.props.addHeader("Payment","Payment"),this.setCanvasStatus(!1);break;case"Classroom":this.changeActive(e),this.props.addHeader("Classroom","Classroom"),this.setCanvasStatus(!1);break;default:this.changeActive(e),this.clickToDisplayCanvas(e)}}},{key:"render",value:function(){return l.a.createElement("div",{className:ee.a.wrapper},l.a.createElement("div",{className:"".concat(ee.a.sideWrapper," + ").concat(this.state.canvasOn?null:ee.a.sideWrapperNotCollapse)},this.renderNavItem()),l.a.createElement("div",{className:this.state.canvasOn?ee.a.canvasActive:ee.a.canvas},this.state.canvasOn?l.a.createElement(ht,{current:this.state.current}):null))}}]),a}(l.a.Component),gt=Object(S.b)((function(e){return{role:e.Authentication.role.toLowerCase()}}),(function(e){return{addHeader:function(t,a){return e(ge(t,a))}}}))(pt),ft=gt,vt=a(43),Et=a.n(vt),bt=a(99),_t=a.n(bt),yt=a(16),Ct=a.n(yt),kt=function(e){var t=Te(_e);Pe.dispatch(function(e){return{avatar:e,type:"ADD_USER_AVATAR"}}(e));var a=Pe.getState(),n=a.Authentication.role.toLowerCase(),r=a.Authentication.uuid;switch(n){case"student":return t.put("/students"+"/".concat(r),{avatar:e}).then((function(){return console.log(e)})).catch(console.log);case"teacher":return t.put("/teachers"+"/".concat(r),{avatar:e,title:"null"}).then((function(){return console.log(e)})).catch(console.log);default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},St=function(e){var t=e.icon,a=e.onClick,n=e.color,r=e.background,s=function(e){a(e,n,r),kt(e+" "+n+" "+r)},c=function(e){a(t,e,r),kt(t+" "+e+" "+r)},o=function(e){a(t,n,e),kt(t+" "+n+" "+e)};return l.a.createElement("div",{className:Ct.a.wrapper},l.a.createElement("div",{className:Ct.a.row},l.a.createElement("p",{className:Ct.a.name},"Avatar "),l.a.createElement("div",{className:Ct.a.selectionRow},l.a.createElement("div",{className:Ct.a.display,onClick:function(){return s("faUserTie")}},l.a.createElement(ne.a,{icon:se.q})),l.a.createElement("div",{className:Ct.a.display,onClick:function(){return s("faUserGraduate")}},l.a.createElement(ne.a,{icon:se.o})),l.a.createElement("div",{className:Ct.a.display,onClick:function(){return s("faUserSecret")}},l.a.createElement(ne.a,{icon:se.p})))),l.a.createElement("div",{className:Ct.a.row},l.a.createElement("p",{className:Ct.a.name},"Color "),l.a.createElement("div",{className:Ct.a.selectionRow},l.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.blue),onClick:function(){return c("blue")}},l.a.createElement(ne.a,{icon:se.n})),l.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.green),onClick:function(){return c("green")}},l.a.createElement(ne.a,{icon:se.n})),l.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.brown),onClick:function(){return c("brown")}},l.a.createElement(ne.a,{icon:se.n})),l.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.red),onClick:function(){return c("red")}},l.a.createElement(ne.a,{icon:se.n})),l.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.grey),onClick:function(){return c("grey")}},l.a.createElement(ne.a,{icon:se.n})))),l.a.createElement("div",{className:Ct.a.row},l.a.createElement("p",{className:Ct.a.name},"Background"),l.a.createElement("div",{className:Ct.a.selectionRow},l.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.dark),onClick:function(){return o("dark")}}),l.a.createElement("div",{className:"".concat(Ct.a.display," ").concat(Ct.a.light),onClick:function(){return o("light")}}))))},Nt={},Ot=function(e,t){var a=Te(_e);switch(e){case"student":return a.get("/students"+"/".concat(t),Nt).then((function(e){return e.data.studentInfo})).catch((function(e){return console.log(e)}));case"teacher":return a.get("/teachers"+"/".concat(t),Nt).then((function(e){return e.data.teacherInfo})).catch((function(e){return console.log(e)}));default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},wt={faUserTie:se.q,faUserGraduate:se.o,faUserSecret:se.p},At=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={selectionPanelShow:!1,icon:"faUserTie",color:"green",background:"light"},n.toggleSelectionPanel=n.toggleSelectionPanel.bind(Object(Q.a)(n)),n.changeAvatar=n.changeAvatar.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"toggleSelectionPanel",value:function(){this.setState({selectionPanelShow:!this.state.selectionPanelShow})}},{key:"changeAvatar",value:function(e,t,a){this.setState({selectionPanelShow:!1,icon:e,color:t,background:a})}},{key:"getAvatar",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r,s,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.userRole,n=t.userID,e.next=3,Ot(a,n);case 3:r=e.sent,s=r.avatar,0!==(l=s?s.split(" "):[]).length&&this.setState({icon:l[0],color:l[1],background:l[2]});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getAvatar()}},{key:"render",value:function(){return l.a.createElement("div",{className:"".concat(_t.a.wrapper," ").concat(Ct.a[this.state.background])},l.a.createElement("div",{"data-testid":"avatar",className:"".concat(_t.a.avatar," ").concat(Ct.a[this.state.color]),onClick:this.toggleSelectionPanel},l.a.createElement(ne.a,{icon:wt[this.state.icon]})),this.state.selectionPanelShow?l.a.createElement(St,{onClick:this.changeAvatar,icon:this.state.icon,color:this.state.color,background:this.state.background}):null)}}]),a}(l.a.Component),jt=At,Dt=function(){return l.a.createElement("div",{className:Et.a.loading},l.a.createElement("div",null,"Loading..."))},Lt=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={loading:!0,name:null},n}return Object(b.a)(a,[{key:"getUserName",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props.userRole),e.next=3,Ot(this.props.userRole,this.props.userID);case 3:t=e.sent,a=t.name,this.setState({loading:!1,name:a},(function(){return n.props.addNameToRedux(a)}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getUserName()}},{key:"render",value:function(){return l.a.createElement("div",{className:Et.a.nameWrapper},this.state.loading?l.a.createElement(Dt,null):l.a.createElement("div",{className:Et.a.name},this.state.name?this.state.name:Pt(this.props.userRole)))}}]),a}(l.a.Component),It=function(e){var t=e.userRole;return l.a.createElement("h3",null," ",Pt(t)+" Version")},Pt=function(e){return e[0].toUpperCase()+e.slice(1,e.length)},xt=Object(S.b)((function(e){return{userRole:e.Authentication.role.toLowerCase(),userID:e.Authentication.uuid}}),(function(e){return{addName:function(t){return e(function(e){return{name:e,type:"ADD_USER_INFO"}}(t))}}}))((function(e){var t=e.userRole,a=e.userID,n=e.addName,r=e.noAvatar;return l.a.createElement("div",{className:Et.a.wrapper},l.a.createElement("div",{className:Et.a.header},l.a.createElement(X,null)),r?null:l.a.createElement(jt,{userRole:t,userID:a}),l.a.createElement(Lt,{userRole:t,userID:a,addNameToRedux:n}),l.a.createElement("div",{className:Et.a.sideBar},l.a.createElement(ft,null)),l.a.createElement("div",{className:Et.a.footer},l.a.createElement(It,{userRole:t})))})),Tt=xt,Mt=a(44),Bt=a.n(Mt),Rt=a(100),Ut=a.n(Rt),Ft=a(21),Ht=a.n(Ft),Wt=a(74),Vt=a.n(Wt),qt=function(e,t){var a,n=Pe.getState(),r=n.Authentication.uuid;switch(n.Authentication.role){case"TEACHER":a="teachers/";break;case"STUDENT":a="students/"}return Te(_e).put("".concat(a).concat(r).concat("/password"),{currentPassword:e,newPassword:t})},zt=a(33),Gt=a.n(zt),Kt=function(e){var t=e.children;return l.a.createElement("div",{className:Gt.a.title},t)},Yt=function(e){var t=e.children;return l.a.createElement("div",{className:Gt.a.item},t)},Zt=function(e){return l.a.createElement("button",Object.assign({"data-testid":"searchBtn"},e,{className:Gt.a.searchBtn}),l.a.createElement(ne.a,{icon:se.k}))},Jt=function(e){var t=e.children;return l.a.createElement("div",{className:Gt.a.searchRow},t)},Xt=function(e){var t=e.children;return l.a.createElement("div",{className:Gt.a.horizontalRow},t)},Qt=function(e){var t=e.children;return l.a.createElement("div",{className:Gt.a.inactiveBlock},t)},$t=function(e){var t=e.children,a=e.className,n=Object(F.a)(e,["children","className"]);return l.a.createElement("button",Object.assign({className:Gt.a.btn+" "+Gt.a[a]},n,{"data-testid":"btn"}),t)},ea=function(e){var t=e.children,a=e.className,n=Object(F.a)(e,["children","className"]);return l.a.createElement("form",Object.assign({className:Gt.a[a]+" "+Gt.a.form},n,{"data-testid":"form"}),t)},ta=function(e){var t=e.children,a=e.className,n=e.searchBar;return l.a.createElement("small",{"data-testid":"small-test",className:"".concat(Gt.a[a]," ").concat(n?Gt.a.searchSmall:null)},t)},aa=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={loading:!1,oldPassword:"",newPassword:"",confirmPassword:"",successful:!1,incorrectPassword:!1,missMatchPassword:!1},n}return Object(b.a)(a,[{key:"changeUserPassword",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.oldPassword,a=this.state.newPassword,this.setState({loading:!0}),e.next=5,qt(t,a).then((function(){return n.setState({successful:!0,loading:!1},(function(){return setTimeout((function(){return n.setState({successful:!1})}),3e3)}))})).catch((function(e){n.setState({incorrectPassword:!0,loading:!1}),console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.state.missMatchPassword||this.changeUserPassword()}},{key:"noMissMatch",value:function(){return this.state.confirmPassword===this.state.newPassword?(this.setState({missMatchPassword:!1}),!0):(this.setState({missMatchPassword:!0}),!1)}},{key:"handleValueChange",value:function(e){var t=this;return this.setState({successful:!1,incorrectPassword:!1}),function(a){var n=a.target.value;t.setState(Object(v.a)({},e,n),(function(){return"confirmPassword"===e?t.noMissMatch():null}))}}},{key:"render",value:function(){var e=this;return l.a.createElement(ea,{className:this.state.successful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?l.a.createElement(Ge,null,l.a.createElement(L,null)):null,l.a.createElement(Yt,null,l.a.createElement("label",null,"Current password"),l.a.createElement("input",{type:"password",placeholder:"Enter Current Password",autoComplete:"on",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("oldPassword")(t)}})),l.a.createElement(Yt,null,l.a.createElement("label",null,"New password"),l.a.createElement("input",{type:"password",placeholder:"Enter New Password",maxLength:30,autoComplete:"on",onChange:function(t){return e.handleValueChange("newPassword")(t)},required:!0})),l.a.createElement(Yt,null,l.a.createElement("label",null,"Confirm password"),l.a.createElement("input",{type:"password",placeholder:"Confirm New Password",maxLength:30,autoComplete:"on",required:!0,onChange:function(t){e.handleValueChange("confirmPassword")(t)}})),this.state.incorrectPassword?l.a.createElement(ta,{className:"error"}," Incorrect password. "):null,this.state.missMatchPassword?l.a.createElement(ta,{className:"error"}," Confirm password miss match. "):null,this.state.successful?l.a.createElement(ta,null," Successful. "):null,l.a.createElement($t,{type:"submit"},"Confirm"))}}]),a}(l.a.Component),na=function(e,t,a){return Te(_e).put("".concat("/teachers").concat("/assignments","/").concat(e),{score:t,comment:a})},ra=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={loading:!1,comment:"",score:0,successful:!1},n}return Object(b.a)(a,[{key:"onSubmit",value:function(){var e=this.props.id;this.putReview(e)}},{key:"putReview",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a,n,r,s=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,n=a.score,r=a.comment,this.setState({loading:!0}),e.next=4,na(t,n,r).then((function(){return s.setState({successful:!0,loading:!1},(function(){setTimeout((function(){return s.setState({successful:!1})}),3e3)}))})).catch(console.log);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleValueChange",value:function(e){var t=this;return this.setState({successful:!1}),function(a){var n=a.target.value;t.setState(Object(v.a)({},e,n))}}},{key:"render",value:function(){var e=this;return l.a.createElement(ea,{className:this.state.successful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?l.a.createElement(Ge,null,l.a.createElement(L,null)):null,l.a.createElement(Yt,null,l.a.createElement("label",null,"Enter Score:"),l.a.createElement("input",{type:"number",placeholder:"Enter score",required:!0,max:100,min:0,onChange:function(t){return e.handleValueChange("score")(t)}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"comment"},"Comment: "),l.a.createElement("textarea",{id:"comment",placeholder:"Enter comment for this assignment",required:!0,onChange:function(t){e.handleValueChange("comment")(t)}})),this.state.successful?l.a.createElement(ta,null," Successful. "):null,l.a.createElement($t,{type:"submit"},"Confirm"))}}]),a}(l.a.Component),sa=function(e){var t=Pe.getState().Authentication.uuid,a={studentUuid:t,courseId:e};return Te(_e).post("".concat("/students/").concat(t).concat("/courses"),a)},la=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={loading:!1,successful:!1},n}return Object(b.a)(a,[{key:"enrolCourse",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r,s=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,n=t.toggle,r=t.handleEnrol,this.setState({loading:!0}),e.next=4,sa(a).then((function(){return s.setState({loading:!1},(function(){r(),n()}))})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.enrolCourse()}},{key:"render",value:function(){var e=this;return l.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?l.a.createElement(Ge,null,l.a.createElement(L,null)):null,this.state.successful?l.a.createElement(ta,null," Successful. "):null,l.a.createElement($t,{type:"submit"},"Confirm"))}}]),a}(l.a.Component),ca=a(65),oa=a.n(ca),ia=function(e){var t=e.children;return l.a.createElement("div",{className:oa.a.title},t)},ua=function(e){var t=e.children;return l.a.createElement("div",{className:oa.a.subHeading},t)},ma=function(e){var t=e.children;return l.a.createElement("div",{className:oa.a.content},t)},da=function(e){var t=e.children;return l.a.createElement("div",{className:oa.a.wrapper},t)},ha=function(e){var t=e.comment,a=e.score;return l.a.createElement(da,null,l.a.createElement(ua,null,"Score:"),l.a.createElement(ma,null,a),l.a.createElement(ua,null,"Comment:"),l.a.createElement(ma,null,t))},pa=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"render",value:function(){return l.a.createElement(ea,null,l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"teacherUuid"},"Enter TeacherUuid"),l.a.createElement("input",{type:"text",id:"teacherUuid"})))}}]),a}(l.a.Component),ga=function(e){return Te(_e).put("".concat("users/").concat(e).concat("/password"))},fa=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(b.a)(a,[{key:"resetPassword",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),t=this.props,a=t.uuid,n=t.toggle,this.setState({loading:!0}),e.next=5,ga(a).then((function(){return r.setState({loading:!1},(function(){n()}))})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.resetPassword()}},{key:"render",value:function(){var e=this;return l.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?l.a.createElement(Ge,null,l.a.createElement(L,null)):null,l.a.createElement("h4",null,"\xa0\xa0\xa0\xa0Are your sure to reset?"),l.a.createElement($t,{type:"submit"},"Reset Confirm"))}}]),a}(l.a.Component),va=function(e){return Te(_e).delete("users"+"/".concat(e))},Ea=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(b.a)(a,[{key:"DeleteUser",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),t=this.props,a=t.uuid,n=t.onSubmit,this.setState({loading:!0}),e.next=5,va(a).then((function(){return r.setState({loading:!1},(function(){n()}))})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.DeleteUser()}},{key:"render",value:function(){var e=this;return l.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?l.a.createElement(Ge,null,l.a.createElement(L,null)):null,l.a.createElement("h4",null,"\xa0\xa0\xa0Are your sure to delete?"),l.a.createElement($t,{type:"submit"},"Delete Confirm"))}}]),a}(l.a.Component),ba=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"renderPopupWindow",value:function(e){switch(e){case"CHANGE_PASSWORD":return l.a.createElement(aa,null);case"RESET_PASSWORD":return l.a.createElement(fa,this.props);case"DELETE_USER":return l.a.createElement(Ea,this.props);case"ADD_TEACHER_TO_COURSE":return l.a.createElement(pa,{onClick:this.handleTeacherUuidChange});case"ENROL":return l.a.createElement(la,this.props);case"VIEW_REPORT":return l.a.createElement(ha,Object.assign({onClick:this.props.toggle},this.props));case"MARKING":return l.a.createElement(ra,{onClick:this.props.toggle,id:this.props.id});default:return null}}},{key:"render",value:function(){return l.a.createElement("div",{className:Vt.a.mask},l.a.createElement("div",{className:Vt.a.wrapper},l.a.createElement("span",{className:Vt.a.close,onClick:this.props.toggle},"\xd7"),this.renderPopupWindow(this.props.type)))}}]),a}(l.a.Component),_a=a(101),ya=a.n(_a),Ca=Object(S.b)(null,(function(e){return{logOut:function(){e({type:"LOG_OUT"}),e(ge("Dashboard","Dashboard"))}}}))((function(e){var t=e.logOut;return l.a.createElement("button",{"data-testid":"btn",className:"".concat(ya.a.btn," + ").concat(ya.a.logOutBtn),onClick:t,to:"/login"},"Log Out")})),ka=Object(d.g)(Ca),Sa=a(35),Na=a.n(Sa),Oa=function(e){var t=e.loaded,a=e.wrongType,n=e.overSize,r=e.success,s=e.fileName,c=e.onChange,o=e.handleConfirm;return l.a.createElement("div",{"data-testid":"btn",className:Na.a.uploadContainer},l.a.createElement("input",{id:"UPLOAD",className:Na.a.uploadInput,type:"file",onChange:c}),l.a.createElement("label",{htmlFor:"UPLOAD",className:Na.a.uploadLabel},l.a.createElement("div",{className:"".concat(Na.a.btn," + ").concat(Na.a.uploadBtn)},t?s:"Upload")),!t||a||n||r?null:l.a.createElement("button",{className:"".concat(Na.a.btn," + ").concat(Na.a.confirmBtn),onClick:function(e){return o(e)}},"Confirm"),l.a.createElement("div",{className:Na.a.floatWarning},a?l.a.createElement("div",{className:Na.a.warningText},"X Only support .pdf format. Please uploaded again."):null,n?l.a.createElement("div",{className:Na.a.warningText},"X Only support file size less than 25 MB. Please uploaded again."):null,r?l.a.createElement("div",{className:Na.a.successText},"Upload Successfully."):null))},wa=function(e){var t=e.onClick;return l.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ht.a.btn," + ").concat(Ht.a.themeBtn)},"Mark")},Aa=function(e){var t=e.onClick;return l.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ht.a.btn," + ").concat(Ht.a.themeBtn)},"Enrol")},ja=function(e){var t=e.onClick;return l.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ht.a.btn," + ").concat(Ht.a.themeBtn)},"Change Password")},Da=function(e){var t=e.onClick;return l.a.createElement("button",{onClick:t,className:"".concat(Ht.a.btn," + ").concat(Ht.a.themeBtn)},"Reset Password")},La=function(e){var t=e.onClick;return l.a.createElement("button",{onClick:t,className:"".concat(Ht.a.btn," + ").concat(Ht.a.deleteBtn)},"Delete")},Ia=function(e){var t=e.onClick;return l.a.createElement("button",{"data-testid":"btn",onClick:t,className:"".concat(Ht.a.btn," + ").concat(Ht.a.themeBtn)},"View")},Pa=function(e){var t=e.onClick;return l.a.createElement("button",{"data-testid":"btn",onClick:function(e){e.preventDefault(),t()},className:"".concat(Ht.a.btn," + ").concat(Ht.a.themeBtn)},"Add Teacher")},xa=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={seen:!1},n.togglePop=n.togglePop.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"togglePop",value:function(){this.setState({seen:!this.state.seen})}},{key:"renderButton",value:function(e){var t=this;switch(e){case"CHANGE_PASSWORD":return l.a.createElement(l.a.Fragment,null,l.a.createElement(ja,{onClick:this.togglePop}),this.state.seen?l.a.createElement(ba,{type:"CHANGE_PASSWORD",toggle:this.togglePop}):null);case"RESET_PASSWORD":return l.a.createElement(l.a.Fragment,null,l.a.createElement(Da,{onClick:this.togglePop}),this.state.seen?l.a.createElement(ba,Object.assign({},this.props,{type:"RESET_PASSWORD",toggle:this.togglePop})):null);case"DELETE_USER":return l.a.createElement(l.a.Fragment,null,l.a.createElement(La,{onClick:this.togglePop}),this.state.seen?l.a.createElement(ba,Object.assign({onSubmit:this.props.redirectToUsrManagement},this.props,{type:"DELETE_USER"})):null);case"UPLOAD":return l.a.createElement(Oa,this.props);case"LOGOUT":return l.a.createElement(ka,null);case"ADD_TEACHER_TO_COURSE":return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pa,{onClick:this.togglePop}),this.state.seen?l.a.createElement(ba,Object.assign({type:"ADD_TEACHER_TO_COURSE"},this.props,{toggle:function(){t.togglePop()}})):null);case"ENROL":return l.a.createElement(l.a.Fragment,null,l.a.createElement(Aa,{onClick:this.togglePop}),this.state.seen?l.a.createElement(ba,Object.assign({type:"ENROL"},this.props,{toggle:function(){t.togglePop()}})):null);case"VIEW_REPORT":return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ia,{onClick:this.togglePop}),this.state.seen?l.a.createElement(ba,Object.assign({type:"VIEW_REPORT"},this.props,{toggle:function(){t.togglePop()}})):null);case"MARKING":return l.a.createElement(l.a.Fragment,null,l.a.createElement(wa,Object.assign({},this.props,{onClick:this.togglePop})),this.state.seen?l.a.createElement(ba,Object.assign({type:"MARKING"},this.props,{toggle:function(){t.props.handleReview(),t.togglePop()}})):null);default:return null}}},{key:"render",value:function(){return l.a.createElement("div",{className:Ht.a.wrapper},this.renderButton(this.props.type))}}]),a}(l.a.Component),Ta=function(e){var t=e.title;return l.a.createElement("div",{className:Ut.a.wrapper},l.a.createElement("h2",{className:Ut.a.title},t),l.a.createElement(xa,{type:"LOGOUT"}))},Ma=a(171),Ba=a.n(Ma),Ra=a(36),Ua=a.n(Ra),Fa=function(e){var t=e.children;return l.a.createElement("div",{className:Ua.a.indexItem},t)},Ha=function(e){var t=e.children,a=Object(F.a)(e,["children"]);return l.a.createElement("div",Object.assign({"data-testid":"table-item",className:Ua.a.item},a),t)},Wa=function(e){var t=e.children,a=e.disable,n=Object(F.a)(e,["children","disable"]);return l.a.createElement("div",Object.assign({"data-testid":"row",className:"".concat(Ua.a.row," ").concat(a?null:Ua.a.links)},n),t)},Va=function(e){var t=e.children;return l.a.createElement("div",{className:Ua.a.headerRow},t)},qa=function(e){var t=e.children;return l.a.createElement("div",{className:Ua.a.table},t)},za=function(e){var t=e.currentPage,a=e.handlePageChange,n=e.totalPage;return l.a.createElement("div",{className:Ua.a.pagination},1===t?l.a.createElement("div",null):l.a.createElement("div",{"data-testid":"prev",className:Ua.a.clickable,onClick:function(){return a(t-1)}},"Prev"),l.a.createElement("div",{className:Ua.a.number},"- ",t," -"),t===n?l.a.createElement("div",null):l.a.createElement("div",{"data-testid":"next",className:Ua.a.clickable,onClick:function(){return a(t+1)}},"Next"),l.a.createElement("div",{className:Ua.a.total,"data-testid":"totalPage"},"Total Page of ",n))},Ga=function(e){return l.a.createElement(Ha,{key:e+Math.random()},e)},Ka=Object(S.b)(null,(function(e){return{onClick:function(t,a,n,r){e(ge(t,a,n,r))}}}))((function(e){var t=e.onClick,a=e.RenderObj,n=e.toPageID,r=a.disable,s=a.name,c=a.id,o=a.secondID,i=(a.comment,a.index),u=Object(F.a)(a,["disable","name","id","secondID","comment","index"]);return u=function(e){var t={};return Object.keys(e).sort().forEach((function(a){return t[a]=e[a]})),t}(u),l.a.createElement(Wa,{key:"name_"+Math.random(),disable:r,onClick:function(e){return e.preventDefault(),r?null:t(s,n,c,o)}},l.a.createElement(Fa,null,i+1),l.a.createElement(Ha,null,s),function(e){var t=[];for(var a in e)t.push(Ga(e[a]));return t}(u))})),Ya=a(172),Za=a.n(Ya),Ja=function(){return l.a.createElement("div",{"data-testid":"loading",className:Za.a.loading},l.a.createElement("h4",null,"Loading..."))},Xa=a(102),Qa=a.n(Xa),$a=function(e){var t=e.children;return l.a.createElement("div",{className:Qa.a.wrapper},l.a.createElement("div",{className:Qa.a.container},t))},en={},tn=function(e,t){var a=Te(_e);switch(e){case"courseId":return a.get("/query/courses?code"+"=".concat(t),en).then((function(e){return e.data.courseList})).catch((function(e){return console.log(e.response)}));case"courseName":return a.get("/query/courses?name"+"=".concat(t),en).then((function(e){return e.data.courseList})).catch((function(e){return console.log(e.response)}));default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},an=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSearchByTemp=function(e){n.props.onSearchByChange(e.target.value)},n.handleSearchTemp=function(e){n.props.onSearchChange(e.target.value)},n.state={},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.props.onClick(t)}},this.props.title?l.a.createElement(Kt,null,this.props.title):null,l.a.createElement(Jt,null,l.a.createElement(Yt,null,l.a.createElement("select",{value:this.props.searchBy,onChange:this.handleSearchByTemp},l.a.createElement("option",{value:"Course Name"},"Course Name"),l.a.createElement("option",{value:"Course ID"},"Course ID"))),l.a.createElement(Yt,null,l.a.createElement("input",{placeholder:"Enter ID or Name...",type:"text",value:this.props.search,onChange:this.handleSearchTemp})),l.a.createElement(ta,{className:"error",searchBar:!0},this.props.errors),l.a.createElement(Zt,{type:"submit"})))}}]),a}(l.a.Component),nn=a(173),rn=a.n(nn),sn=function(e){var t=e.text;return l.a.createElement("div",{className:rn.a.wrapper},t)},ln=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleSearchByTemp=function(e){n.setState({searchBy:e}),console.log(n.state.searchBy)},n.handleSearchTemp=function(e){var t=n.state.errors;t=RegExp(/^[a-zA-Z0-9]+$/).test(e)?"":"Invalid Input!",n.setState({errors:t,search:e}),console.log(n.state.search,n.state.errors)},n.state={page:1,paginationArray:[],search:"",searchBy:"Course Name",courseList:[],errors:""},n.onSubmit=n.onSubmit.bind(Object(Q.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getCourseName",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a,n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=RegExp(/^([0-9]*)$/),n=RegExp(/^([a-zA-Z]*)$/),this.setState({page:1}),e.t0=t,e.next="Course ID"===e.t0?6:"Course Name"===e.t0?16:26;break;case 6:if(!0!==a.test(this.state.search)){e.next=14;break}return e.next=9,tn("courseId",this.state.search);case 9:r=e.sent,console.log(r),this.setState({courseList:r,paginationArray:Ve(r,8)}),e.next=15;break;case 14:this.setState({errors:"Please check the Course ID!"});case 15:return e.abrupt("break",27);case 16:if(!0!==n.test(this.state.search)){e.next=24;break}return e.next=19,tn("courseName",this.state.search);case 19:s=e.sent,console.log(s),this.setState({courseList:s,paginationArray:Ve(s,8)}),e.next=25;break;case 24:this.setState({errors:"Please check the Course Name!"});case 25:case 26:return e.abrupt("break",27);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidWillMount",value:function(){this.state.searchBy!==this.props.searchBy&&this.setState({errors:""})}},{key:"componentDidMount",value:function(){this.getCourseName()}},{key:"onSubmit",value:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.search){e.next=5;break}this.setState({errors:"Please Input Something!"}),e.next=14;break;case 5:if(""!==this.state.errors){e.next=10;break}return e.next=8,console.log(this.state.searchBy),this.getCourseName(this.state.searchBy);case 8:e.next=14;break;case 10:if(this.state.searchBy===this.props.searchBy){e.next=14;break}return this.setState({errors:""}),e.next=14,console.log(this.state.searchBy),this.getCourseName(this.state.searchBy);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderCourseList",value:function(){var e=this.state,t=e.page,a=e.paginationArray[t-1];return console.log(a),a.map((function(e,t){var a=e.id,n=e.name,r=a;console.log(e);var s={index:t,name:n,id:a,courseId:r};return l.a.createElement(Ka,{key:"CourseManagement"+Math.random(),RenderObj:s,toPageID:"CourseDetail"})}))}},{key:"renderContent",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?l.a.createElement(sn,{text:"There is no such course!"}):l.a.createElement(qa,null,l.a.createElement(Va,null,l.a.createElement(Fa,null,"No:"),l.a.createElement(Ha,null,"Course Name:"),l.a.createElement(Ha,null,"Course ID:")),this.renderCourseList(),l.a.createElement(za,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"render",value:function(){return l.a.createElement($a,null,l.a.createElement(an,{title:this.props.title,search:this.state.search,onSearchChange:this.handleSearchTemp,searchBy:this.state.searchBy,onSearchByChange:this.handleSearchByTemp,onClick:this.onSubmit,errors:this.state.errors}),this.renderContent())}}]),a}(l.a.Component),cn=Object(S.b)((function(e){return{id:e.headerHistory.content.id,header:e.headerHistory.title}}))(ln),on=a(75),un=a.n(on),mn=function(e){return Te(_e).put("/courses",e)},dn=new Date,hn=dn.getFullYear(),pn=dn.getMonth()<7?1:2,gn=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={postSuccessful:!1,loading:!1,notNullableError:"",name:null,location:null,introduction:null,assessment:null,workLoad:12.5,learningOutcome:null,year:hn,semester:pn,subjectId:n.props.subjectId,courseId:n.props.courseId},n.handleTeacherUuidChange=n.handleTeacherUuidChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handleTeacherUuidChange",value:function(e){}},{key:"checkNull",value:function(){var e=this.state,t=(e.postSuccessful,e.loading,e.notNullableError,e.workLoad,e.year,e.semester,e.subjectId,e.courseId,Object(F.a)(e,["postSuccessful","loading","notNullableError","workLoad","year","semester","subjectId","courseId"]));for(var a in t)t[a]&&t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(v.a)(n,e,r),Object(v.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"sendData",value:function(e){var t=this.state,a=t.subjectId,n=t.courseId;switch(this.props.apiMethod){case"POST":return function(e){return Te(_e).post("/courses",e)}(Object(h.a)({},e,{subjectId:a}));case"PUT":default:return mn(Object(h.a)({},e,{courseId:n}))}}},{key:"postCourse",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.loading,t.postSuccessful,t.notNullableError,t.courseId,t.subjectId,a=Object(F.a)(t,["loading","postSuccessful","notNullableError","courseId","subjectId"]),this.setState({loading:!0}),e.next=4,this.sendData(a).then((function(){n.setState({loading:!1,postSuccessful:!0},(function(){n.props.handleSubmit(),setTimeout((function(){return n.setState({postSuccessful:!1})}),2e3)}))})).catch(console.log);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.postCourse()}},{key:"componentDidMount",value:function(){if(this.props.hasOwnProperty("detail")){var e=this.props.detail,t=e.name,a=e.workLoad,n=e.location,r=e.learningOutcome,s=e.assessment,l=e.introduction;this.setState({name:t,workLoad:a,location:n,learningOutcome:r,assessment:s,introduction:l})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.workLoad,r=t.location,s=t.learningOutcome,c=t.assessment,o=t.introduction;return l.a.createElement($a,null,l.a.createElement(ea,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},this.state.loading?l.a.createElement(Ge,{background:!0},l.a.createElement(L,null)):null,l.a.createElement(Kt,null,this.props.title),l.a.createElement(Xt,null,l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"name"},"Name: "),l.a.createElement("input",{id:"name",type:"text",value:null===a?"":a,placeholder:"Enter name for the course",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("name")(t)}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"workLoad"},"Course points:"),l.a.createElement("select",{onChange:function(t){return e.handleValueChange("workLoad")(t)},required:!0,value:null===n?"":n,id:"workLoad"},l.a.createElement("option",{value:12.5},"12.5"),l.a.createElement("option",{value:25},"25"),l.a.createElement("option",{value:37.5},"37.5"),l.a.createElement("option",{value:50},"50"),l.a.createElement("option",{value:100},"100"))),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"AddTeacherBtn"},"Assign Teacher:"),l.a.createElement(xa,{id:"AddTeacherBtn",type:"ADD_TEACHER_TO_COURSE",handleTeacherUuidChange:this.handleTeacherUuidChange}))),l.a.createElement(Xt,null,l.a.createElement(Yt,null,l.a.createElement("label",null," Year: "),l.a.createElement("div",null,hn)),l.a.createElement(Yt,null,l.a.createElement("label",null," Semester: "),l.a.createElement("div",null,pn))),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"location"},"Location: "),l.a.createElement("input",{id:"location",type:"text",value:null===r?"":r,placeholder:"Enter location for the course",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("location")(t)}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"outcome"},"Learning Outcome: "),l.a.createElement("textarea",{id:"outcome",className:un.a.outcome,value:null===s?"":s,placeholder:"Enter learning outcomes",required:!0,onChange:function(t){e.handleValueChange("learningOutcome")(t)}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"assessment"},"Assessments: "),l.a.createElement("textarea",{id:"assessment",className:un.a.content,value:null===c?"":c,placeholder:"Enter assessments for the course",required:!0,onChange:function(t){e.handleValueChange("assessment")(t)}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"Intro"},"Introduction: "),l.a.createElement("textarea",{id:"Intro",className:un.a.intro,value:null===o?"":o,placeholder:"Enter introduction for the course",required:!0,onChange:function(t){e.handleValueChange("introduction")(t)}})),this.state.notNullableError?l.a.createElement(Qt,null,"Unable to Click"):l.a.createElement($t,{type:"submit"},"Submit"),this.state.postSuccessful?l.a.createElement(ta,null,"Successful."):null,this.state.notNullableError?l.a.createElement(ta,{className:"error"},this.state.notNullableError):null))}}]),a}(l.a.Component),fn=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],subjectId:0,courseList:null,loading:!0},n.handleSubmit=n.handleSubmit.bind(Object(Q.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getCourseList",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({page:1,loading:!0}),e.next=3,n=this.props.id,Te(_e).get("".concat("subjects/").concat(n)).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:t=e.sent,a=t.courseList,this.setState({courseList:a,paginationArray:Ve(a,8),loading:!1});case 6:case"end":return e.stop()}var n}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){this.getCourseList()}},{key:"componentDidUpdate",value:function(){var e=this;this.state.subjectId!==this.props.id&&this.setState({subjectId:this.props.id},(function(){return e.getCourseList()}))}},{key:"componentDidMount",value:function(){this.getCourseList()}},{key:"renderCoursesList",value:function(){var e=this.state,t=e.page;return e.paginationArray[t-1].map((function(e,t){var a=e.name,n=e.id,r=e.courseCode,s=e.year,c={index:t,name:a,id:n,a_courseCode:r,b_semester:e.semester,c_year:s};return l.a.createElement(Ka,{key:"SubjectCourse"+Math.random(),RenderObj:c,toPageID:"CourseDetail"})}))}},{key:"renderContent",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?l.a.createElement(sn,{text:"No courses under this subject."}):l.a.createElement(qa,null,l.a.createElement(Va,null,l.a.createElement(Fa,null,"No:"),l.a.createElement(Ha,null,"Name:"),l.a.createElement(Ha,null,"Code:"),l.a.createElement(Ha,null,"Semester:"),l.a.createElement(Ha,null,"Year:")),this.renderCoursesList(),l.a.createElement(za,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"render",value:function(){var e=this.props,t=e.role,a=e.id;return l.a.createElement(l.a.Fragment,null,l.a.createElement($a,null,this.state.loading?l.a.createElement(Ja,null):this.renderContent()),l.a.createElement(cn,{title:"Search In Course Market"}),"ADMIN"===t?l.a.createElement(gn,{subjectId:a,handleSubmit:this.handleSubmit,apiMethod:"POST",title:"Post New Course"}):null)}}]),a}(l.a.Component),vn=Object(S.b)((function(e){return{id:e.headerHistory.content.id,role:e.Authentication.role}}))(fn),En=a(103),bn=a.n(En),_n=function(e,t){return e.dueDate<t.dueDate?1:-1},yn=function(e){return function(e){var t=!0;return e.forEach((function(e){return t=e.hasOwnProperty("dueDate")})),t}(e)?e.sort(_n):"no property of 'dueDate' is found in each object"},Cn={params:{detail:"assignments"}},kn=function(e){return Te(_e).get("".concat("/courses/").concat(e),Cn).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},Sn=function(e,t,a,n,r){var s=Pe.getState().userInfo.name;return Te(_e).post("".concat("courses/").concat(r,"/").concat("assignments/"),{title:e,acceptanceCriteria:t,content:a,dueDate:n,publisher:s})},Nn=a(59),On=a.n(Nn),wn=function(e){var t=e.title,a=e.description;return l.a.createElement("div",{className:On.a.detailWrapper},l.a.createElement("h3",null,t),l.a.createElement("p",{className:On.a.description},a))},An=function(e){var t=e.title,a=e.children,n=e.description,r=Object(F.a)(e,["title","children","description"]);return l.a.createElement("div",{className:On.a.wrapper},l.a.createElement("div",{className:On.a.heading},l.a.createElement(wn,{title:t,description:n})),l.a.createElement("div",{"data-testid":"content",className:r.hasOwnProperty("background")?On.a.functionalComponent:null},a))},jn=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],courseAssignmentId:0,assignmentList:null,notNullableError:"",loading:!0,acceptanceCriteria:"",content:"",title:"",dueDate:"",publishLoading:!1,publishSuccessful:!1},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getAssignmentList",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({page:1,loading:!0}),e.next=3,kn(this.props.id);case 3:t=e.sent,a=t.assignmentList,this.setState({assignmentList:a,paginationArray:Ve(yn(a),5),loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this;this.state.courseAssignmentId!==this.props.id&&this.setState({courseAssignmentId:this.props.id},(function(){return e.getAssignmentList()}))}},{key:"componentDidMount",value:function(){this.getAssignmentList()}},{key:"renderAssignmentList",value:function(){var e=this,t=this.state,a=t.page,n=t.paginationArray;if(0===n.length)return l.a.createElement(sn,{text:"You have not post assignment yet"});var r=n[a-1];return[].concat(Object(We.a)(r.map((function(t,a){var n=t.title,r=t.id,s=t.dueDate,c={index:a,name:n,id:r,secondID:e.props.id,dueDate:s+" 11:59 pm "};return l.a.createElement(Ka,{key:"TeacherCourseAssignment"+Math.random(),RenderObj:c,toPageID:"Assignment"})}))),[l.a.createElement(za,{key:"TeacherCourseAssignment"+Math.random(),currentPage:a,handlePageChange:this.handlePageChange,totalPage:n.length})])}},{key:"checkNull",value:function(){var e=this.state,t=(e.courseAssignmentId,e.assignmentList,e.notNullableError,e.loading,e.dueDate,e.publishLoading,e.publishSuccessful,e.page,e.paginationArray,Object(F.a)(e,["courseAssignmentId","assignmentList","notNullableError","loading","dueDate","publishLoading","publishSuccessful","page","paginationArray"]));for(var a in t)t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(v.a)(n,e,r),Object(v.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"publishAssignment",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r,s,l=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.title,a=this.state.acceptanceCriteria,n=this.state.content,r=this.state.courseAssignmentId,s=this.state.dueDate,this.setState({publishLoading:!0}),e.next=8,Sn(t,a,n,s,r).then((function(){l.getAssignmentList(),l.setState({publishLoading:!1,publishSuccessful:!0},(function(){return setTimeout((function(){return l.setState({publishSuccessful:!1})}),2e3)}))})).catch(console.log);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.publishAssignment()}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement($a,null,l.a.createElement(qa,null,l.a.createElement(Va,null,l.a.createElement(Fa,null,"No:"),l.a.createElement(Ha,null,"Assignment Name:"),l.a.createElement(Ha,null,"Assignment Due:")),this.state.loading?l.a.createElement(Ja,null):this.renderAssignmentList())),l.a.createElement($a,null,l.a.createElement(ea,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},l.a.createElement(Kt,null,"Publish New Assignment"),this.state.publishLoading?l.a.createElement(Ge,{background:!0},l.a.createElement(L,null)):null,l.a.createElement(Xt,null,l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"title"},"Title: "),l.a.createElement("input",{id:"title",type:"text",placeholder:"Enter title for the assignment",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("title")(t)}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"dueDate"},"Due Date (11:59 pm):"),l.a.createElement("input",{onChange:function(t){return e.handleValueChange("dueDate")(t)},required:!0,type:"date",id:"dueDate"}))),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"AC"},"Criteria: "),l.a.createElement("textarea",{id:"AC",className:bn.a.acceptance,placeholder:"Enter acceptance criteria",required:!0,onChange:function(t){e.handleValueChange("acceptanceCriteria")(t)}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"content"},"Content: "),l.a.createElement("textarea",{id:"content",className:bn.a.content,placeholder:"Enter assignment content",required:!0,onChange:function(t){e.handleValueChange("content")(t)}})),this.state.notNullableError?l.a.createElement(Qt,null,"Unable to Click"):l.a.createElement($t,{type:"submit"},"Add New Course"),this.state.notNullableError?l.a.createElement(ta,{className:"error"},this.state.notNullableError):null,this.state.publishSuccessful?l.a.createElement(ta,null,"Assignment published successfully."):null)),l.a.createElement(An,{title:"Files Exchange Functionality Is Coming Soon..."}))}}]),a}(l.a.Component),Dn=Object(S.b)((function(e){return{id:e.headerHistory.content.id}}))(jn),Ln={},In=function(e,t){var a=Te(_e);switch(e){case"studentId":return a.get("/query/students?campusId"+"=".concat(t),Ln).then((function(e){return e.data.studentList})).catch((function(e){return console.log(e.response)}));case"studentName":return a.get("/query/students?name"+"=".concat(t),Ln).then((function(e){return e.data.studentList})).catch((function(e){return console.log(e.response)}));case"teacherId":return a.get("/query/teachers?campusId"+"=".concat(t),Ln).then((function(e){return e.data.teacherList})).catch((function(e){return console.log(e.response)}));case"teacherName":return a.get("/query/teachers?name"+"=".concat(t),Ln).then((function(e){return e.data.teacherList})).catch((function(e){return console.log(e.response)}));default:return new Promise((function(e,t){e("Admin"),t(new Error("Oops!"))}))}},Pn=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleRoleTemp=function(e){n.props.onRoleChange(e.target.value)},n.handleSearchTemp=function(e){n.props.onSearchChange(e.target.value)},n.state={},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(ea,{onSubmit:function(t){t.preventDefault(),e.props.onClick(t)}},l.a.createElement(Jt,null,l.a.createElement(Yt,null,l.a.createElement("select",{value:this.props.role,onChange:this.handleRoleTemp},l.a.createElement("option",{value:"student"},"Student"),l.a.createElement("option",{value:"teacher"},"Teacher"))),l.a.createElement(Yt,null,l.a.createElement("input",{placeholder:"Enter ID or Name...",type:"text",value:this.props.search,onChange:this.handleSearchTemp})),l.a.createElement(ta,{className:"error",searchBar:!0},this.props.errors),l.a.createElement(Zt,{type:"submit"})))}}]),a}(l.a.Component),xn=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleRoleTemp=function(e){n.setState({role:e}),console.log(n.state.role)},n.handleSearchTemp=function(e){var t=n.state.errors;t=RegExp(/^[a-zA-Z0-9]+$/).test(e)?"":"Invalid Input!",n.setState({errors:t,search:e}),console.log(n.state.search,n.state.errors)},n.state={page:1,paginationArray:[],search:"",role:"student",nameList:[],errors:""},n.onSubmit=n.onSubmit.bind(Object(Q.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getUserName",value:function(){var e=Object(f.a)(g.a.mark((function e(t){var a,n,r,s,l,c,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=RegExp(/^(s[0-9]*)$/),n=RegExp(/^([a-zA-Z]*)$/),r=RegExp(/^(t[0-9]*)$/),s=RegExp(/^([a-zA-Z]*)$/),this.setState({page:1}),e.t0=t,e.next="student"===e.t0?8:"teacher"===e.t0?27:46;break;case 8:if(!0!==a.test(this.state.search)){e.next=16;break}return e.next=11,In("studentId",this.state.search);case 11:l=e.sent,console.log(l),this.setState({nameList:l,paginationArray:Ve(l.filter((function(e){return!0===e.active})),8)}),e.next=26;break;case 16:if(!0!==n.test(this.state.search)){e.next=25;break}return e.next=19,In("studentName",this.state.search);case 19:c=e.sent,console.log(c),this.setState({nameList:c,paginationArray:Ve(c.filter((function(e){return!0===e.active})),8)}),console.log(this.state.paginationArray),e.next=26;break;case 25:this.setState({errors:"Please check the StudentID!"});case 26:return e.abrupt("break",46);case 27:if(!0!==r.test(this.state.search)){e.next=35;break}return e.next=30,In("teacherId",this.state.search);case 30:o=e.sent,console.log(o),this.setState({nameList:o,paginationArray:Ve(o.filter((function(e){return!0===e.active})),8)}),e.next=45;break;case 35:if(!0!==s.test(this.state.search)){e.next=44;break}return e.next=38,In("teacherName",this.state.search);case 38:i=e.sent,console.log(i),this.setState({nameList:i,paginationArray:Ve(i.filter((function(e){return!0===e.active})),8)}),console.log(this.state.paginationArray),e.next=45;break;case 44:this.setState({errors:"Please check the TeacherID!"});case 45:return e.abrupt("break",46);case 46:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==this.state.search){e.next=5;break}this.setState({errors:"Please Input Something!"}),e.next=14;break;case 5:if(""!==this.state.errors){e.next=10;break}return e.next=8,console.log(this.state.role),this.getUserName(this.state.role);case 8:e.next=14;break;case 10:if(this.state.role===this.props.role){e.next=14;break}return this.setState({errors:""}),e.next=14,console.log(this.state.role),this.getUserName(this.state.role);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderUserList",value:function(){var e=this.state,t=e.page,a=e.paginationArray;console.log(a);var n=a[t-1],r=this.state.role;return console.log(n),n.map((function(e,t){var a=e.uuid,n=e.name,s=e.campusId,c={index:t,id:a,secondID:r,name:n,campusId:s};return l.a.createElement(Ka,{key:"UserManagement"+Math.random(),RenderObj:c,toPageID:"UserInfo"})}))}},{key:"renderContent",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?l.a.createElement(sn,{text:"There is no such user!"}):l.a.createElement(qa,null,l.a.createElement(Va,null,l.a.createElement(Fa,null,"No:"),l.a.createElement(Ha,null,"Name:"),l.a.createElement(Ha,null,"Campus ID:")),this.renderUserList(),l.a.createElement(za,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"render",value:function(){return l.a.createElement($a,null,l.a.createElement(Pn,{search:this.state.search,onSearchChange:this.handleSearchTemp,role:this.state.role,onRoleChange:this.handleRoleTemp,onClick:this.onSubmit,errors:this.state.errors}),this.renderContent())}}]),a}(l.a.Component),Tn=Object(S.b)((function(e){return{id:e.headerHistory.content.id,secondID:e.headerHistory.content.secondID,header:e.headerHistory.title}}))(xn),Mn=a(76),Bn=a.n(Mn),Rn=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={userInfo:null,loading:!0},n}return Object(b.a)(a,[{key:"getUserInfo",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(this.props.userRole,this.props.userID);case 2:if(t=e.sent,"student"!==this.props.userRole){e.next=9;break}a=t||{name:"Loading ..."},this.setState({userInfo:a,loading:!1}),console.log(a),e.next=21;break;case 9:if("teacher"!==this.props.userRole){e.next=15;break}n=t||{name:"Loading ..."},this.setState({userInfo:n,loading:!1}),console.log(n),e.next=21;break;case 15:return e.next=17,Ot(this.props.secondID,this.props.id);case 17:r=e.sent,s=r||{name:"Loading ..."},this.setState({userInfo:s,loading:!1}),console.log(s);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"render",value:function(){return console.log(this.props.id),l.a.createElement("div",{className:Bn.a.wrapper},this.state.loading?l.a.createElement(Ja,null):l.a.createElement(l.a.Fragment,null,this.state.userInfo.hasOwnProperty("title")?l.a.createElement(An,{title:"Title",background:!0},null!==this.state.userInfo.title?this.state.userInfo.title:l.a.createElement("span",{className:Bn.a.noText},"No Title.")):null,this.state.userInfo.hasOwnProperty("introduction")?l.a.createElement(An,{title:"Introduction",background:!0},null!==this.state.userInfo.title?this.state.userInfo.introduction:l.a.createElement("span",{className:Bn.a.noText},"No Introduction.")):null,l.a.createElement(An,{title:"Name",background:!0},this.state.userInfo.name),"admin"===this.props.userRole?l.a.createElement(An,{title:"Reset Password"},l.a.createElement(xa,{type:"RESET_PASSWORD",uuid:this.props.id})):l.a.createElement(An,{title:"Change Password"},l.a.createElement(xa,{type:"CHANGE_PASSWORD"})),"admin"===this.props.userRole?l.a.createElement(An,{title:"Delete User"},l.a.createElement(xa,{type:"DELETE_USER",uuid:this.props.id,redirectToUsrManagement:this.props.redirectToUsrManagement})):null))}}]),a}(l.a.Component),Un=Object(S.b)((function(e){return{id:e.headerHistory.content.id,secondID:e.headerHistory.content.secondID,userRole:e.Authentication.role.toLowerCase(),userID:e.Authentication.uuid}}),(function(e){return{redirectToUsrManagement:function(){return e(ge("User management","Users"))}}}))(Rn),Fn={params:{detail:"students"}},Hn=function(e){var t=e.enrolled,a=e.id,n=e.handleEnrol;return t?l.a.createElement(An,{title:"Enrol This Course",background:!0},"You have already enrolled in this course."):l.a.createElement(An,{title:"Enrol This Course",description:"currently enrolment are for free"},l.a.createElement(xa,{type:"ENROL",id:a,handleEnrol:n}))},Wn=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={studentList:[],courseDetail:null,loading:!0,enrolled:!1,editableDetail:null},n.handleEnrol=n.handleEnrol.bind(Object(Q.a)(n)),n.handleSubmit=n.handleSubmit(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handleEnrol",value:function(){this.setState({enrolled:!0})}},{key:"handleSubmit",value:function(){this.getCourseDetail()}},{key:"componentDidMount",value:function(){this.getCourseDetail()}},{key:"getCourseDetail",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r,s,l,c,o,i,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m=this.props.id,Te(_e).get("".concat("/courses/").concat(m),Fn).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:t=e.sent,a=t.course,n=t.studentList,r=a.assessment,s=a.learningOutcome,l=a.workLoad,c=a.location,o=a.name,i=a.introduction,u={assessment:r,learningOutcome:s,workLoad:l,location:c,name:o,introduction:i},console.log(u),this.setState({studentList:n,courseDetail:a,loading:!1,editableDetail:u},this.checkEnrollment);case 9:case"end":return e.stop()}var m}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkEnrollment",value:function(){var e=this,t=this.state.studentList,a=this.props.uuid;t.forEach((function(t){return t.uuid===a?e.setState({enrolled:!0}):null}))}},{key:"renderCourseDetail",value:function(){var e=this.state.courseDetail,t=e.year,a=e.assessment,n=e.learningOutcome,r=e.courseCode,s=e.workLoad,c=e.location,o=e.name,i=e.introduction,u=e.semester;return l.a.createElement(da,null,l.a.createElement(ia,null,r," - ",o),l.a.createElement(ua,null,t," ",c),l.a.createElement(ua,null,"Semester: "),l.a.createElement(ma,null," ",u," "),l.a.createElement(ua,null,"Credit Points: "),l.a.createElement(ma,null," ",s," "),l.a.createElement(ua,null,"Course Introduction: "),l.a.createElement(ma,null," ",i," "),l.a.createElement(ua,null,"Learning Outcomes: "),l.a.createElement(ma,null," ",n," "),l.a.createElement(ua,null,"Assessments: "),l.a.createElement(ma,null," ",a," "))}},{key:"render",value:function(){var e=this.props,t=e.userRole,a=e.id,n=this.state,r=n.enrolled,s=n.editableDetail;return l.a.createElement(l.a.Fragment,null,l.a.createElement($a,null,this.state.loading?l.a.createElement(Ja,null):this.renderCourseDetail()),"STUDENT"===t?l.a.createElement(Hn,{id:a,enrolled:r,handleEnrol:this.handleEnrol}):null,"ADMIN"===t?this.state.loading?null:l.a.createElement(gn,{courseId:a,detail:s,handleSubmit:this.handleSubmit,apiMethod:"PUT",title:"Edit Course"}):null)}}]),a}(l.a.Component),Vn=Object(S.b)((function(e){return{id:e.headerHistory.content.id,userRole:e.Authentication.role,uuid:e.Authentication.uuid}}))(Wn),qn=a(58),zn=a.n(qn),Gn=function(e){return Te(_e).post("/subjects",e)},Kn=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={postSuccessful:!1,loading:!1,errorMessage:"",notNullableError:"",name:"",subjectCode:"",introduction:""},n}return Object(b.a)(a,[{key:"handleSubjectCodeChange",value:function(){this.setState({errorMessage:""},this.validateSubjectCode)}},{key:"validateSubjectCode",value:function(){var e,t=this,a=/[A-Za-z]/;return this.state.subjectCode.split("").forEach((function(n){!a.test(n)&&n?(t.setState({errorMessage:"".concat(n," is not a valid character.")}),e=!1):n&&(e=!0)})),e}},{key:"checkNull",value:function(){var e=this.state,t=(e.postSuccessful,e.loading,e.errorMessage,e.notNullableError,Object(F.a)(e,["postSuccessful","loading","errorMessage","notNullableError"]));for(var a in t)t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(v.a)(n,e,r),Object(v.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"postSubject",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.loading,t.postSuccessful,t.errorMessage,t.notNullableError,a=Object(F.a)(t,["loading","postSuccessful","errorMessage","notNullableError"]),this.setState({loading:!0}),console.log(a),e.next=5,Gn(a).then((function(){n.setState({loading:!1,postSuccessful:!0},(function(){return setTimeout((function(){return n.setState({postSuccessful:!1})}),2e3)}))})).catch(console.log);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){this.postSubject()}},{key:"render",value:function(){var e=this;return l.a.createElement($a,null,l.a.createElement(ea,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},l.a.createElement(Kt,null,"Post New Subject"),this.state.loading?l.a.createElement(Ge,{background:!0},l.a.createElement(L,null)):null,l.a.createElement(Xt,null,l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"name"},"Name: "),l.a.createElement("input",{id:"name",type:"text",placeholder:"Enter name for the subject",maxLength:30,required:!0,onChange:function(t){return e.handleValueChange("name")(t)}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"subjectCode",className:this.state.errorMessage?zn.a.error:null},"Subject Code:"," "),l.a.createElement("input",{id:"subjectCode",type:"text",placeholder:"Enter 3 letters subject code",minLength:3,maxLength:3,required:!0,onChange:function(t){e.handleValueChange("subjectCode")(t),e.handleSubjectCodeChange()}}))),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"Intro"},"Introduction: "),l.a.createElement("textarea",{id:"Intro",className:zn.a.intro,placeholder:"Enter introduction for the subject",required:!0,onChange:function(t){e.handleValueChange("introduction")(t)}})),this.state.errorMessage||this.state.notNullableError?l.a.createElement(Qt,null,"Unable to Click"):l.a.createElement($t,{type:"submit"},"Add New Subject"),this.state.postSuccessful?l.a.createElement(ta,null,"Successful."):null,this.state.errorMessage||this.state.notNullableError?l.a.createElement(ta,{className:"error"},this.state.errorMessage+" "+this.state.notNullableError):null))}}]),a}(l.a.Component),Yn=function(e,t){var a;switch(e){case"Teacher":a="/users/teachers";break;case"Student":a="/users/students"}return Te(_e).post(a,t)},Zn=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={postSuccessful:!1,loading:!1,errorMessage:"",notNullableError:"",role:" ",email:"",firstName:"",lastName:""},n}return Object(b.a)(a,[{key:"handleEmailChange",value:function(){this.setState({errorMessage:""})}},{key:"handleFirstNameChange",value:function(){this.setState({errorMessage:""}),this.validateName(this.state.firstName)}},{key:"handleLastNameChange",value:function(){this.setState({errorMessage:""}),this.validateName(this.state.lastName)}},{key:"validateEmail",value:function(){var e=this.state.email;return console.log(e),!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(this.setState({errorMessage:"not a valid email."}),!1)}},{key:"validateName",value:function(e){var t,a=this,n=/[A-Za-z]/;return e.split("").forEach((function(e){!n.test(e)&&e?(a.setState({errorMessage:"".concat(e," is not a valid character.")}),t=!1):e&&(t=!0)})),t}},{key:"checkNull",value:function(){var e=this.state,t=(e.postSuccessful,e.loading,e.errorMessage,e.notNullableError,Object(F.a)(e,["postSuccessful","loading","errorMessage","notNullableError"]));for(var a in console.log(t),t)t[a].trim()||this.setState({notNullableError:"Not empty input is allowed."})}},{key:"handleValueChange",value:function(e){var t=this;return function(a){var n,r=a.target.value;t.setState((n={},Object(v.a)(n,e,r),Object(v.a)(n,"notNullableError",""),n),t.checkNull)}}},{key:"postUserInfo",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,t.loading,t.postSuccessful,t.errorMessage,t.notNullableError,a=t.role,n=Object(F.a)(t,["loading","postSuccessful","errorMessage","notNullableError","role"]),console.log(a,n),this.setState({loading:!0}),e.next=5,Yn(a,n).then((function(){r.setState({loading:!1,postSuccessful:!0},(function(){return setTimeout((function(){return r.setState({postSuccessful:!1})}),2e3)}))})).catch(console.log);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){console.log(this.validateEmail()),!1===this.validateEmail()||this.postUserInfo()}},{key:"render",value:function(){var e=this;return l.a.createElement($a,null,l.a.createElement(ea,{className:this.state.postSuccessful?"successful":null,onSubmit:function(t){t.preventDefault(),e.onSubmit()}},l.a.createElement(Kt,null,"Add New User"),this.state.loading?l.a.createElement(Ge,{background:!0},l.a.createElement(L,null)):null,l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"Role"},"Role: "),l.a.createElement("select",{className:zn.a.role,onChange:function(t){e.handleValueChange("role")(t)}},l.a.createElement("option",{value:"select"},"select"),l.a.createElement("option",{value:"Student"},"Student"),l.a.createElement("option",{value:"Teacher"},"Teacher"))),l.a.createElement(Xt,null,l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"email"},"Email: "),l.a.createElement("input",{id:"email",type:"text",placeholder:"Please enter the email",maxLength:30,required:!0,onChange:function(t){e.handleValueChange("email")(t),e.handleEmailChange()}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"FirstName",className:this.state.errorMessage?zn.a.error:null},"First Name:"," "),l.a.createElement("input",{id:"FirstName",type:"text",placeholder:"Please enter the FirstName",maxLength:30,required:!0,onChange:function(t){e.handleValueChange("firstName")(t),e.handleFirstNameChange()}})),l.a.createElement(Yt,null,l.a.createElement("label",{htmlFor:"LastName"},"Last Name: "),l.a.createElement("input",{id:"LastName",placeholder:"Please enter the LastName",maxLength:30,required:!0,onChange:function(t){e.handleValueChange("lastName")(t),e.handleLastNameChange()}}))),this.state.errorMessage||this.state.notNullableError?l.a.createElement(Qt,null,"Unable to Click"):l.a.createElement($t,{type:"submit"},"Add New User"),this.state.postSuccessful?l.a.createElement(ta,null,"Successful."):null,this.state.errorMessage||this.state.notNullableError?l.a.createElement(ta,{className:"error"},this.state.errorMessage+" "+this.state.notNullableError):null))}}]),a}(l.a.Component),Jn=Object(S.b)((function(e){return{role:e.Authentication.role}}))((function(e){var t=e.role;return l.a.createElement(l.a.Fragment,null,l.a.createElement(An,{title:"Welcome"}),l.a.createElement(An,{title:"More Future Features Are Coming Soon..."}),"ADMIN"===t?l.a.createElement(Zn,null):null,"ADMIN"===t?l.a.createElement(Kn,null):null)})),Xn=function(e,t){var a=Pe.getState().Authentication.role,n=Te(_e);return"TEACHER"===a?n.get("".concat("/courses/").concat(t).concat("/assignments/").concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)})):"STUDENT"===a?n.get("".concat("/students").concat("/assignments/").concat(e)).then((function(e){return console.log(e.data),e.data})).catch((function(e){return console.log(e)})):void 0},Qn=function(e,t){var a={attachmentUrl:e};return Te(_e).put("".concat("/students").concat("/assignments/").concat(t),a)},$n=a(174),er=a.n($n);try{var tr=a(135);n=tr.SecretAccessKey,r=tr.AccessKeyID}catch(Hr){console.log("You need the IAM key to access to AWS S3, ask jacky for that ^.^;"),n="",r=""}var ar,nr,rr={bucketName:"campus-file-system",dirName:"assignment",region:"ap-southeast-2",accessKeyId:r,secretAccessKey:n},sr=new er.a(rr),lr=function(e){var t=e.lastIndexOf("."),a=e.slice(t-1,e.length);return e.length>16?e.slice(0,6)+"..."+e.slice(t-5,t)+a:e},cr=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={loaded:!1,file:null,fileName:"",fileType:"application/pdf",fileSize:0,success:!1,loading:!1},n.handleChange=n.handleChange.bind(Object(Q.a)(n)),n.handleConfirm=n.handleConfirm.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handleChange",value:function(e){0===e.target.files.length?console.log("file is not included"):this.setState({loaded:!0,success:!1,fileName:e.target.files[0]?e.target.files[0].name:"",fileSize:e.target.files[0]?e.target.files[0].size:0,fileType:e.target.files[0]?e.target.files[0].type:"application/pdf",file:e.target.files[0]})}},{key:"saveUrl",value:function(){var e=Object(f.a)(g.a.mark((function e(t,a){var n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(t,a).then((function(){return n.setState({loaded:!1,success:!0,loading:!1},(function(){return setTimeout((function(){return n.setState({success:!1})}),3e3)}))})).catch(console.log);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleConfirm",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0});var a=new Date;sr.uploadFile(this.state.file,a).then((function(e){var a=e.key;console.log(e),t.saveUrl(a,t.props.id)})).catch(console.log)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.loading?l.a.createElement(L,{color:"upload"}):l.a.createElement(xa,{type:"UPLOAD",handleConfirm:this.handleConfirm,onChange:this.handleChange,loaded:this.state.loaded,fileName:lr(this.state.fileName),wrongType:"application/pdf"!==this.state.fileType,overSize:(e=this.state.fileSize,(e/1024/1024).toFixed(0)>25),success:this.state.success}));var e}}]),a}(l.a.Component),or=Object(S.b)((function(e){return{id:e.headerHistory.content.id}}))(cr),ir=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={assignmentDetail:null,loading:!0},n}return Object(b.a)(a,[{key:"getAssignment",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,n=t.courseID,e.next=3,Xn(a,n);case 3:r=e.sent,console.log(r),this.setState({assignmentDetail:r,loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getAssignment()}},{key:"renderAssignmentDetail",value:function(){var e=this.state.assignmentDetail,t=e.title,a=e.courseName,n=e.dueDate,r=e.acceptanceCriteria,s=e.content;return l.a.createElement(da,null,l.a.createElement(ia,null,a," - ",t),l.a.createElement(ua,null,"Due on ",n," at 11:59 pm "),l.a.createElement(ua,null,"Acceptance Criteria: "),l.a.createElement(ma,null," ",r," "),l.a.createElement(ua,null,"Content: "),l.a.createElement(ma,null," ",s," "))}},{key:"renderOptionalContent",value:function(){return"student"===this.props.userRole?l.a.createElement(An,{title:"Upload File",description:"File must be less than 25MB and only PDF is accepted."},l.a.createElement(or,null)):null}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement($a,null,this.state.loading?l.a.createElement(Ja,null):this.renderAssignmentDetail()),this.renderOptionalContent())}}]),a}(l.a.Component),ur=Object(S.b)((function(e){return{id:e.headerHistory.content.id,userRole:e.Authentication.role.toLowerCase(),courseID:e.headerHistory.content.secondID}}))(ir),mr={params:{detail:"assignments"}},dr=function(){var e=Pe.getState().Authentication.uuid;return Te(_e).get("".concat("/students/").concat(e),Object(h.a)({},mr)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},hr=a(104),pr=a.n(hr),gr=function(e){var t=e.children;return l.a.createElement("div",null,t)},fr=function(e){var t=e.children;return l.a.createElement("div",{className:pr.a.radio},t)},vr=function(e){var t=e.children;return l.a.createElement("div",{className:pr.a.wrapper},t)},Er=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],displayOption:"all",assignmentList:[],loading:!0},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getAssignmentList",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,dr();case 3:t=e.sent,a=t.assignmentList,this.setState({page:1,assignmentList:yn(a),paginationArray:Ve(yn(a),4),loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getAssignmentList()}},{key:"renderOption",value:function(e){var t=this.state.assignmentList;switch(e){case"all":this.setState({page:1,paginationArray:Ve(t,4),displayOption:"all"});break;case"notSubmitted":this.setState({page:1,displayOption:"notSubmitted",paginationArray:Ve(t.filter((function(e){return!e.submitted})),4)});break;case"scored":this.setState({page:1,displayOption:"scored",paginationArray:Ve(t.filter((function(e){return e.scored})),4)});break;default:this.setState({page:1,paginationArray:Ve(t,4),displayOption:"all"})}}},{key:"renderResult",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?l.a.createElement(sn,{text:"You have no assignment to be done."}):[l.a.createElement(Va,{key:"StudentAssignment "+Math.random()},l.a.createElement(Fa,null,"No:"),l.a.createElement(Ha,null,"Name:"),l.a.createElement(Ha,null,"Course:"),l.a.createElement(Ha,null,"Due:"),l.a.createElement(Ha,null,"Status:"),l.a.createElement(Ha,null,"Report:")),this.renderAssignmentList(a[t-1]),l.a.createElement(za,{key:"StudentAssignment"+Math.random(),currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length})]}},{key:"renderAssignmentList",value:function(e){return e.map((function(e,t){var a=e.id,n=e.score,r=e.submitted,s=e.scored,c=e.comment,o=e.title,i=e.dueDate,u=e.courseName,m={index:t,disable:s,name:o,id:a,d_scored:s?l.a.createElement(xa,{type:"VIEW_REPORT",comment:c,score:n}):"No Report Yet",a_courseName:u,b_dueDate:i.split("-").slice(1,3).join("/"),c_submitted:r?"Done":"No Submitted"};return l.a.createElement(Ka,{key:"StudentAssignment "+Math.random(),RenderObj:m,toPageID:"Assignment"})}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement($a,null,this.state.loading?l.a.createElement(Ja,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(vr,null,l.a.createElement(gr,null," Display Option: "),l.a.createElement(fr,null,l.a.createElement("input",{id:"all",type:"radio",name:"display",checked:"all"===this.state.displayOption,onChange:function(){return e.renderOption("all")}}),l.a.createElement("label",{htmlFor:"all"},"All")),l.a.createElement(fr,null,l.a.createElement("input",{id:"notSubmitted",type:"radio",name:"display",checked:"notSubmitted"===this.state.displayOption,onChange:function(){return e.renderOption("notSubmitted")}}),l.a.createElement("label",{htmlFor:"notSubmitted"},"Only not submitted")),l.a.createElement(fr,null,l.a.createElement("input",{id:"scored",type:"radio",name:"display",checked:"scored"===this.state.displayOption,onChange:function(){return e.renderOption("scored")}}),l.a.createElement("label",{htmlFor:"scored"},"Only marked"))),l.a.createElement(qa,null,this.renderResult()))))}}]),a}(l.a.Component),br=Object(S.b)((function(e){return{id:e.headerHistory.content.id,header:e.headerHistory.title}}))(Er),_r=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],courseAssignmentId:0,assignmentList:null,loading:!0},n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getAssignmentList",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({page:1,loading:!0}),e.next=3,kn(this.props.id);case 3:t=e.sent,a=t.assignmentList,console.log(a),this.setState({assignmentList:a,paginationArray:Ve(yn(a),8),loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this;this.state.courseAssignmentId!==this.props.id&&this.setState({courseAssignmentId:this.props.id},(function(){return e.getAssignmentList()}))}},{key:"componentDidMount",value:function(){this.getAssignmentList()}},{key:"renderAssignmentList",value:function(){var e=this,t=this.state,a=t.page,n=t.paginationArray;if(0===n.length)return l.a.createElement(sn,{text:"You have no assignment to be marked"});var r=n[a-1];return[].concat(Object(We.a)(r.map((function(t,a){var n=t.title,r=t.id,s=t.dueDate,c={index:a,name:n,id:r,secondID:e.props.id,dueDate:s+" 11:59 pm "};return l.a.createElement(Ka,{key:"TeacherCourseAssignment"+Math.random(),RenderObj:c,toPageID:"MarkingAssignment"})}))),[l.a.createElement(za,{key:"TeacherCourseAssignment"+Math.random(),currentPage:a,handlePageChange:this.handlePageChange,totalPage:n.length})])}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement($a,null,l.a.createElement(qa,null,l.a.createElement(Va,null,l.a.createElement(Fa,null,"No:"),l.a.createElement(Ha,null,"Assignment Name:"),l.a.createElement(Ha,null,"Assignment Due:")),this.state.loading?l.a.createElement(Ja,null):this.renderAssignmentList())))}}]),a}(l.a.Component),yr=Object(S.b)((function(e){return{id:e.headerHistory.content.id}}))(_r),Cr=function(){return l.a.createElement(An,{title:"This Page Is Coming Soon..."})},kr=a(175),Sr=a.n(kr),Nr=function(e,t){return e.score<t.score?1:-1},Or=function(e){return function(e){var t=!0;return e.forEach((function(e){return t=e.hasOwnProperty("score")})),t}(e)?e.sort(Nr):"no property of 'score' is found in each object"},wr=a(105),Ar=a.n(wr);try{var jr=a(135);ar=jr.SecretAccessKey,nr=jr.AccessKeyID}catch(Hr){console.log("You need the IAM key to access to AWS S3, ask jacky for that ^.^;"),ar="",nr=""}Ar.a.config.update({accessKeyId:nr,secretAccessKey:ar});var Dr=function(e){(new Ar.a.S3).getObject({Bucket:"campus-file-system",Key:e},(function(t,a){if(null!=t)console.log(e),console.log("Failed to retrieve an object: "+t);else{console.log("Loaded "+a.ContentLength+" bytes");var n=new Blob([a.Body],{type:a.ContentType}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=Date().split(" ").slice(1,5).join("_"),r.click()}}))},Lr=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={page:1,paginationArray:[],displayOption:"all",scoreChange:!1,assignmentDetail:null,studentAssignmentList:[],loading:!0},n.handleReview=n.handleReview.bind(Object(Q.a)(n)),n.handlePageChange=n.handlePageChange.bind(Object(Q.a)(n)),n}return Object(b.a)(a,[{key:"handlePageChange",value:function(e){this.setState({page:e})}},{key:"getStudentAssignmentList",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r,s,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.id,n=t.courseID,e.next=3,Xn(a,n);case 3:r=e.sent,s=r.assignment,l=r.studentAssignmentList,this.setState({page:1,assignmentDetail:s,studentAssignmentList:Or(l),paginationArray:Ve(Or(l),5),loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderOption",value:function(e){switch(e){case"all":this.setState({page:1,paginationArray:Ve(this.state.studentAssignmentList,5),displayOption:"all"});break;case"notMarked":this.setState({page:1,displayOption:"notMarked",paginationArray:Ve(this.state.studentAssignmentList.filter((function(e){return e.submitted&&!e.scored})),5)});break;default:this.setState({page:1,paginationArray:Ve(this.state.studentAssignmentList,5),displayOption:"all"})}}},{key:"downloadFileFromS3",value:function(e){Dr(e)}},{key:"componentDidUpdate",value:function(){var e=this;this.state.scoreChange&&this.setState({scoreChange:!1},(function(){return e.getStudentAssignmentList()}))}},{key:"componentDidMount",value:function(){this.getStudentAssignmentList()}},{key:"handleReview",value:function(){this.setState({scoreChange:!0})}},{key:"renderArray",value:function(e){var t=this,a=[];return e.forEach((function(e,n){var r=e.attachmentUrl,s=e.score,c=e.submitted,o=e.scored,i=e.id;a.push(l.a.createElement(Wa,{key:"MarkingAssignmentID"+Math.random()},l.a.createElement(Fa,null,"No. ",n+1),c?l.a.createElement(Ha,{onClick:function(){return t.downloadFileFromS3(r)}},"Download Response"):l.a.createElement(Ha,null,"Not Submitted yet"),l.a.createElement(Ha,null,o?s:"Not Marked yet"),l.a.createElement(Ha,null,c?l.a.createElement(xa,{type:"MARKING",id:i,handleReview:t.handleReview}):null)))})),a}},{key:"renderStudentAssignmentList",value:function(){var e=this.state,t=e.page,a=e.paginationArray;return 0===a.length?l.a.createElement("div",{className:Sr.a.LinksWrapper},l.a.createElement(sn,{text:"No assignment to be marked."})):l.a.createElement(qa,null,l.a.createElement(Va,null,l.a.createElement(Fa,null,"No. "),l.a.createElement(Ha,null,"Response status: "),l.a.createElement(Ha,null,"Score:"),l.a.createElement(Ha,null)),this.renderArray(a[t-1]),l.a.createElement(za,{currentPage:t,handlePageChange:this.handlePageChange,totalPage:a.length}))}},{key:"renderAssignmentDetail",value:function(){var e=this.state.assignmentDetail,t=e.title,a=e.courseName,n=e.dueDate,r=e.acceptanceCriteria,s=e.content;return l.a.createElement(da,null,l.a.createElement(ia,null,a," - ",t),l.a.createElement(ua,null,"Due: ",n," 11:59 pm "),l.a.createElement(ua,null,"Acceptance Criteria: "),l.a.createElement(ma,null," ",r," "),l.a.createElement(ua,null,"Content: "),l.a.createElement(ma,null," ",s," "))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement($a,null,this.state.loading?l.a.createElement(Ja,null):this.renderAssignmentDetail()),l.a.createElement($a,null,l.a.createElement(vr,null,l.a.createElement(gr,null," Display Option: "),l.a.createElement(fr,null,l.a.createElement("input",{id:"all",type:"radio",name:"display",checked:"all"===this.state.displayOption,onChange:function(){return e.renderOption("all")}}),l.a.createElement("label",{htmlFor:"all"},"All")),l.a.createElement(fr,null,l.a.createElement("input",{id:"notMarked",type:"radio",name:"display",checked:"notMarked"===this.state.displayOption,onChange:function(){return e.renderOption("notMarked")}}),l.a.createElement("label",{htmlFor:"notMarked"},"Only not marked"))),this.renderStudentAssignmentList()))}}]),a}(l.a.Component),Ir=Object(S.b)((function(e){return{id:e.headerHistory.content.id,courseID:e.headerHistory.content.secondID}}))(Lr),Pr=function(e){var t=e.pageID;return l.a.createElement("div",{className:Ba.a.wrapper},function(){switch(t){case"Dashboard":return console.log(t),l.a.createElement(Jn,null);case"SubjectCourse":return l.a.createElement(vn,null);case"Users":return l.a.createElement(Tn,null);case"CourseManagement":return l.a.createElement(cn,null);case"TeacherCourseAssignment":return l.a.createElement(Dn,null);case"TeacherMarkingSystem":return l.a.createElement(yr,null);case"MarkingAssignment":return l.a.createElement(Ir,null);case"StudentAssignment":return l.a.createElement(br,null);case"UserInfo":return l.a.createElement(Un,null);case"Assignment":return l.a.createElement(ur,null);case"CourseDetail":return l.a.createElement(Vn,null);default:return l.a.createElement(Cr,null)}}())},xr=Object(S.b)((function(e){return{pageID:e.headerHistory.content.pageID,title:e.headerHistory.title,role:e.Authentication.role}}))((function(e){var t=e.pageID,a=e.title,n=e.role,r=function(){switch(n){case"TEACHER":return Bt.a.teacherBackground;case"STUDENT":return Bt.a.studentBackground;case"ADMIN":default:return Bt.a.adminBackground}};return l.a.createElement("div",{className:"".concat(Bt.a.wrapper," ").concat(r())},l.a.createElement("div",{"data-testid":"header",className:Bt.a.header},l.a.createElement(Ta,{title:a})),l.a.createElement("div",{"data-testid":"content",className:"".concat(Bt.a.content)},l.a.createElement(Pr,{pageID:t})))})),Tr=function(e){var t=e.showNav,a=e.setShowNav;return l.a.createElement("div",{className:t?z.a.mask:null},l.a.createElement("div",{"data-testid":"hamburger",className:"".concat(z.a.hamburger," ").concat(t?z.a.hamburgerActive:z.a.hamburgerInactive),onClick:function(e){e.preventDefault(),a(!t)}},l.a.createElement("div",{className:z.a.line}),l.a.createElement("div",{className:z.a.line}),l.a.createElement("div",{className:z.a.line})),t?l.a.createElement(Mr,null,l.a.createElement("div",{"data-testid":"nav",className:z.a.nav},l.a.createElement(Tt,{noAvatar:!0}))):null)},Mr=function(e){var t=e.children;return l.a.createElement(l.a.Fragment,null,t,l.a.createElement("div",{className:z.a.main},l.a.createElement(xr,null)))},Br=function(){var e=l.a.useState(window.innerWidth),t=Object(V.a)(e,2),a=t[0],n=t[1],r=l.a.useState(!1),s=Object(V.a)(r,2),c=s[0],o=s[1];return l.a.useEffect((function(){window.addEventListener("resize",(function(){return n(window.innerWidth)}))}),[]),a<1200?l.a.createElement(Mr,null,l.a.createElement(Tr,{showNav:c,setShowNav:o})):l.a.createElement(Mr,null,l.a.createElement("div",{className:z.a.nav},l.a.createElement(Tt,null)))},Rr=function(){return l.a.createElement(W,{path:"/"},l.a.createElement(Br,null))},Ur=function(){return l.a.createElement(m.a,{basename:""},l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/login",exact:!0},l.a.createElement(U,null)),l.a.createElement(Rr,null)))},Fr=function(){return l.a.createElement("div",{className:u.a.wrapper},l.a.createElement(Ur,null))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S.a,{store:Pe},l.a.createElement(Fr,null))),document.getElementById("root"))},91:function(e,t){},96:function(e,t,a){e.exports={wrapper:"NavLogo_wrapper__2i66c",logo:"NavLogo_logo__223K2"}},98:function(e,t,a){e.exports={background:"LoaderContainer_background__2r4Iw",container:"LoaderContainer_container__x1KjK"}},99:function(e,t,a){e.exports={wrapper:"NavAvatar_wrapper__3C1OO",avatar:"NavAvatar_avatar__2rqvE",wrapperLight:"NavAvatar_wrapperLight__1QUeJ",wrapperDark:"NavAvatar_wrapperDark__dNPX2",avatarRed:"NavAvatar_avatarRed__GhDUk"}}},[[176,1,2]]]);
//# sourceMappingURL=main.379a666f.chunk.js.map